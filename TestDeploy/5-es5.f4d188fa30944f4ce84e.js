function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),s=new R(n||[]);return a(o,"_invoke",{value:E(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="executing",m="completed",g={};function f(){}function b(){}function y(){}var N={};l(N,o,(function(){return this}));var v=Object.getPrototypeOf,A=v&&v(v(P([])));A&&A!==r&&n.call(A,o)&&(N=A);var S=y.prototype=f.prototype=Object.create(N);function T(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function U(e,t){function r(a,i,o,s){var c=h(e[a],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(c.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}})}function E(t,r,n){var a=d;return function(i,o){if(a===p)throw Error("Generator is already running");if(a===m){if("throw"===i)throw o;return{value:e,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var c=M(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===d)throw a=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var l=h(t,r,n);if("normal"===l.type){if(a=n.done?m:"suspendedYield",l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=m,n.method="throw",n.arg=l.arg)}}}function M(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,M(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=h(a,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=y,a(S,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:b,configurable:!0}),b.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},T(U.prototype),l(U.prototype,s,(function(){return this})),t.AsyncIterator=U,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var o=new U(u(e,r,n,a),i);return t.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(S),l(S,c,"Generator"),l(S,o,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return s.type="throw",s.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"3CPU":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.document=t.XmlProcInst=t.XmlEntityRef=t.XmlElement=t.XmlDtdParamEntityRef=t.XmlDtdNotation=t.XmlDtdEntity=t.XmlDtdElement=t.XmlDtdAttlist=t.XmlDtd=t.XmlDocument=t.XmlDecl=t.XmlComment=t.XmlCharRef=t.XmlCharData=t.XmlCdata=t.XmlAttributeText=t.XmlAttribute=void 0;var a=n(r("GKPG")),i=r("UkBv");Object.defineProperty(t,"XmlAttribute",{enumerable:!0,get:function(){return n(i).default}});var o=r("L7dJ");Object.defineProperty(t,"XmlAttributeText",{enumerable:!0,get:function(){return n(o).default}});var s=r("UBQ+");Object.defineProperty(t,"XmlCdata",{enumerable:!0,get:function(){return n(s).default}});var c=r("qScH");Object.defineProperty(t,"XmlCharData",{enumerable:!0,get:function(){return n(c).default}});var l=r("8mP/");Object.defineProperty(t,"XmlCharRef",{enumerable:!0,get:function(){return n(l).default}});var u=r("iIvF");Object.defineProperty(t,"XmlComment",{enumerable:!0,get:function(){return n(u).default}});var h=r("NJLA");Object.defineProperty(t,"XmlDecl",{enumerable:!0,get:function(){return n(h).default}});var d=r("GKPG");Object.defineProperty(t,"XmlDocument",{enumerable:!0,get:function(){return n(d).default}});var p=r("587B");Object.defineProperty(t,"XmlDtd",{enumerable:!0,get:function(){return n(p).default}});var m=r("3VZR");Object.defineProperty(t,"XmlDtdAttlist",{enumerable:!0,get:function(){return n(m).default}});var g=r("JikW");Object.defineProperty(t,"XmlDtdElement",{enumerable:!0,get:function(){return n(g).default}});var f=r("PO8X");Object.defineProperty(t,"XmlDtdEntity",{enumerable:!0,get:function(){return n(f).default}});var b=r("HXsH");Object.defineProperty(t,"XmlDtdNotation",{enumerable:!0,get:function(){return n(b).default}});var y=r("hGlE");Object.defineProperty(t,"XmlDtdParamEntityRef",{enumerable:!0,get:function(){return n(y).default}});var N=r("JdgO");Object.defineProperty(t,"XmlElement",{enumerable:!0,get:function(){return n(N).default}});var v=r("h2TC");Object.defineProperty(t,"XmlEntityRef",{enumerable:!0,get:function(){return n(v).default}});var A=r("j3+I");Object.defineProperty(t,"XmlProcInst",{enumerable:!0,get:function(){return n(A).default}}),t.document=function(e){return void 0===e&&(e={}),new a.default(e)}},"3VZR":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FxkU"),a=r("t95l");t.default=function(){function e(e,t,r){this._validation=t,this._parent=e,this.charData=r.charData}return Object.defineProperty(e.prototype,"charData",{get:function(){return this._charData},set:function(e){if(this._validation&&!(0,a.validateChar)(e))throw new Error((0,n.getContext)(this.up())+': attribute-list declaration "'+e+'" should not contain characters not allowed in XML');this._charData=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"<!ATTLIST "+this._charData+">"},e.prototype.up=function(){return this._parent},e}()},"587B":function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.validatePubId=void 0;var a=r("FxkU"),i=r("KGbz"),o=r("t95l"),s=n(r("iIvF")),c=n(r("3VZR")),l=n(r("JikW")),u=n(r("PO8X")),h=n(r("HXsH")),d=n(r("hGlE")),p=n(r("j3+I"));function m(e){for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(!(10===r||13===r||32===r||33===r||r>=35&&r<=37||r>=39&&r<=47||r>=48&&r<=57||58===r||59===r||61===r||63===r||r>=64&&r<=90||95===r||r>=97&&r<=122))return!1}return!0}t.default=function(){function e(e,t,r){this._pubId=void 0,this._sysId=void 0,this._validation=t,this._children=[],this._parent=e,this.name=r.name,(0,o.isUndefined)(r.sysId)||(this.sysId=r.sysId),(0,o.isUndefined)(r.pubId)||(this.pubId=r.pubId)}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){if(this._validation&&!(0,o.validateName)(e))throw new Error((0,a.getContext)(this.up())+': DTD name "'+e+'" should not contain characters not allowed in XML names');this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pubId",{get:function(){return this._pubId},set:function(e){if(!(0,o.isUndefined)(e)){if(this._validation&&!m(e))throw new Error((0,a.getContext)(this.up())+': DTD public identifier "'+e+'" should not contain characters not allowed in public identifiers');if(this._validation&&(0,o.isUndefined)(this._sysId))throw new Error((0,a.getContext)(this.up())+': DTD public identifier "'+e+'" should not be defined if system identifier is undefined')}this._pubId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sysId",{get:function(){return this._sysId},set:function(e){if(!(0,o.isUndefined)(e)){if(this._validation&&!(0,o.validateChar)(e))throw new Error((0,a.getContext)(this.up())+': DTD system identifier "'+e+'" should not contain characters not allowed in XML');if(this._validation&&-1!==e.indexOf("'")&&-1!==e.indexOf('"'))throw new Error((0,a.getContext)(this.up())+': DTD system identifier "'+e+'" should not contain both single quotes and double quotes')}this._sysId=e},enumerable:!1,configurable:!0}),e.prototype.attlist=function(e){var t=new c.default(this,this._validation,e);return this._children.push(t),t},e.prototype.comment=function(e){var t=new s.default(this,this._validation,e);return this._children.push(t),t},e.prototype.element=function(e){var t=new l.default(this,this._validation,e);return this._children.push(t),t},e.prototype.entity=function(e){var t=new u.default(this,this._validation,e);return this._children.push(t),t},e.prototype.notation=function(e){var t=new h.default(this,this._validation,e);return this._children.push(t),t},e.prototype.paramEntityRef=function(e){var t=new d.default(this,this._validation,e);return this._children.push(t),t},e.prototype.procInst=function(e){var t=new p.default(this,this._validation,e);return this._children.push(t),t},e.prototype.toString=function(e){void 0===e&&(e={});var t=new i.StringOptions(e),r="<!DOCTYPE "+this._name;if((0,o.isUndefined)(this._pubId))(0,o.isUndefined)(this._sysId)||(r=this.appendId("SYSTEM",this._sysId,r+=" ",t));else{if((0,o.isUndefined)(this._sysId))throw new Error((0,a.getContext)(this.up())+": DTD system identifier is not undefined");r=this.appendId("PUBLIC",this._pubId,r+=" ",t),r=this.appendId("",this._sysId,r,t)}if(0!==this._children.length){r+=" [";for(var n=0,s=this._children;n<s.length;n++)t.pretty&&(r+=t.newline+t.indent),r+=s[n].toString();t.pretty&&(r+=t.newline),r+="]>"}else r+=">";return r},e.prototype.up=function(){return this._parent},e.prototype.appendId=function(e,t,r,n){if(r+=e+" ",n.doubleQuotes){if(this._validation&&-1!==t.indexOf('"'))throw new Error((0,a.getContext)(this.up())+": doubleQuotes option inconsistent with DTD system identifier or public identifier");r+='"'+t+'"'}else{if(this._validation&&-1!==t.indexOf("'"))throw new Error((0,a.getContext)(this)+": doubleQuotes option inconsistent with DTD system identifier or public identifier");r+="'"+t+"'"}return r},e}(),t.validatePubId=m},"8mP/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FxkU"),a=r("t95l");t.default=function(){function e(e,t,r){this._hex=!1,this._validation=t,this._parent=e,this.char=r.char,(0,a.isUndefined)(r.hex)||(this.hex=r.hex)}return Object.defineProperty(e.prototype,"char",{get:function(){return this._char},set:function(e){if(this._validation&&!(0,a.validateSingleChar)(e))throw new Error((0,n.getContext)(this.up())+': character reference "'+e+'" should reference a single character, and this character should be allowed in XML');this._char=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hex",{get:function(){return this._hex},set:function(e){this._hex=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e;if(1===this._char.length)e=this._char.charCodeAt(0);else{var t=this._char.charCodeAt(0);if(t>=55296&&t<=56319&&this._char.length>1){var r=this._char.charCodeAt(1);if(!(r>=56320&&r<=57343))throw new Error((0,n.getContext)(this.up())+': character reference "'+this.char+'" should reference a valid Unicode character');e=1024*(t-55296)+r-56320+65536}else e=t}return this._hex?"&#x"+e.toString(16)+";":"&#"+e+";"},e.prototype.up=function(){return this._parent},e}()},FxkU:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getContext=void 0;var a=n(r("UkBv")),i=n(r("GKPG")),o=n(r("587B")),s=n(r("JdgO"));t.getContext=function e(t){if(t instanceof a.default)return e(t.up())+' > attribute "'+t.name+'"';if(t instanceof i.default)return"in XML document";if(t instanceof o.default)return e(t.up())+" > DTD";if(t instanceof s.default)return e(t.up())+' > element "'+t.name+'"';throw new Error("Unrecognized object of type "+Object.prototype.toString.call(t))}},GKPG:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("KGbz"),i=r("t95l"),o=n(r("iIvF")),s=n(r("NJLA")),c=n(r("587B")),l=n(r("JdgO")),u=n(r("j3+I"));t.default=function(){function e(e){this._children=[],this._validation=!!(0,i.isUndefined)(e.validation)||e.validation}return e.prototype.comment=function(e){var t=new o.default(this,this._validation,e);return this._children.push(t),t},e.prototype.decl=function(e){if(void 0===e&&(e={}),this._validation&&0!==this._children.length)throw new Error("in XML document: declaration must be the first child");var t=new s.default(this,this._validation,e);return this._children.push(t),t},e.prototype.dtd=function(e){var t=this._children.filter((function(e){return e instanceof l.default}));if(this._validation&&0!==t.length)throw new Error("in XML document: DTD must precede the root element");var r=new c.default(this,this._validation,e);return this._children.push(r),r},e.prototype.element=function(e){var t=this._children.filter((function(e){return e instanceof l.default}));if(this._validation&&0!==t.length)throw new Error("in XML document: only one root element is permitted");var r=new l.default(this,this._validation,e);return this._children.push(r),r},e.prototype.procInst=function(e){var t=new u.default(this,this._validation,e);return this._children.push(t),t},e.prototype.toString=function(e){void 0===e&&(e={});var t=this._children.filter((function(e){return e instanceof l.default}));if(this._validation&&1!==t.length)throw new Error("in XML document: no more than one root element is permitted");for(var r=new a.StringOptions(e),n="",i=0,o=this._children;i<o.length;i++){var u=o[i];n+=u instanceof s.default||u instanceof c.default||u instanceof l.default?u.toString(e):u.toString(),r.pretty&&(n+=r.newline)}var h=n.length-r.newline.length;return n.substr(h)===r.newline&&(n=n.substr(0,h)),n},e}()},HXsH:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FxkU"),a=r("t95l");t.default=function(){function e(e,t,r){this._validation=t,this._parent=e,this.charData=r.charData}return Object.defineProperty(e.prototype,"charData",{get:function(){return this._charData},set:function(e){if(this._validation&&!(0,a.validateChar)(e))throw new Error((0,n.getContext)(this.up())+': notation declaration "'+e+'" should not contain characters not allowed in XML');this._charData=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"<!NOTATION "+this._charData+">"},e.prototype.up=function(){return this._parent},e}()},JdgO:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("FxkU"),i=r("KGbz"),o=r("t95l"),s=n(r("UkBv")),c=n(r("UBQ+")),l=n(r("qScH")),u=n(r("8mP/")),h=n(r("iIvF")),d=n(r("h2TC")),p=n(r("j3+I"));t.default=function(){function e(e,t,r){this._validation=t,this._replaceInvalidCharsInName=!(0,o.isUndefined)(r.replaceInvalidCharsInName)&&r.replaceInvalidCharsInName,this._useSelfClosingTagIfEmpty=!!(0,o.isUndefined)(r.useSelfClosingTagIfEmpty)||r.useSelfClosingTagIfEmpty,this._children=[],this._attributeNames=[],this._parent=e,this.name=r.name}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){if(this._replaceInvalidCharsInName){if(0===(e=(0,o.fixName)(e)).length)throw new Error((0,a.getContext)(this.up())+": element name should not be empty")}else if(this._validation&&!(0,o.validateName)(e))throw 0===e.length?new Error((0,a.getContext)(this.up())+": element name should not be empty"):new Error((0,a.getContext)(this.up())+': element name "'+e+'" should not contain characters not allowed in XML names');this._name=e},enumerable:!1,configurable:!0}),e.prototype.attribute=function(e){if(this._validation&&-1!==this._attributeNames.indexOf(e.name))throw new Error((0,a.getContext)(this.up())+': element "'+this.name+'" already contains an attribute with the name "'+e.name+'"');var t=new s.default(this,this._validation,e);return this._children.push(t),this._attributeNames.push(e.name),t},e.prototype.cdata=function(e){var t=new c.default(this,this._validation,e);return this._children.push(t),t},e.prototype.charData=function(e){var t=new l.default(this,this._validation,e);return this._children.push(t),t},e.prototype.charRef=function(e){var t=new u.default(this,this._validation,e);return this._children.push(t),t},e.prototype.comment=function(e){var t=new h.default(this,this._validation,e);return this._children.push(t),t},e.prototype.element=function(t){var r=new e(this,this._validation,t);return this._children.push(r),r},e.prototype.entityRef=function(e){var t=new d.default(this,this._validation,e);return this._children.push(t),t},e.prototype.procInst=function(e){var t=new p.default(this,this._validation,e);return this._children.push(t),t},e.prototype.toString=function(e){return void 0===e&&(e={}),this.toStringWithIndent(e,"")},e.prototype.up=function(){return this._parent},e.prototype.toStringWithIndent=function(t,r){for(var n=new i.StringOptions(t),a=r+n.indent,o="<"+this._name,c=[],u=0,h=this._children;u<h.length;u++){var d=h[u];d instanceof s.default?o+=" "+d.toString(t):c.push(d)}if(c.length>0){for(var p="",m=0;m<c.length;m++){var g=c[m],f="";f+=g instanceof e?g.toStringWithIndent(n,a):g.toString();var b=m>0?c[m-1]:void 0;g instanceof l.default&&""===g.toString()||(n.pretty&&(this.allSameLineNodes(c)||m>0&&this.onSameLine(g,b)||(f=n.newline+a+f)),p+=f)}n.pretty&&(this.allSameLineNodes(c)||(p+=n.newline+r)),o+=0===p.length&&this._useSelfClosingTagIfEmpty?"/>":">"+p+"</"+this._name+">"}else o+=this._useSelfClosingTagIfEmpty?"/>":"></"+this._name+">";return o},e.prototype.allSameLineNodes=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(!(n instanceof u.default||n instanceof d.default||n instanceof l.default))return!1}return!0},e.prototype.onSameLine=function(e,t){return(e instanceof u.default||e instanceof d.default||e instanceof l.default)&&!(0,o.isUndefined)(t)&&(t instanceof u.default||t instanceof d.default||t instanceof l.default)},e}()},JikW:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FxkU"),a=r("t95l");t.default=function(){function e(e,t,r){this._validation=t,this._parent=e,this.charData=r.charData}return Object.defineProperty(e.prototype,"charData",{get:function(){return this._charData},set:function(e){if(this._validation&&!(0,a.validateChar)(e))throw new Error((0,n.getContext)(this.up())+': element declaration "'+e+'" should not contain characters not allowed in XML');this._charData=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"<!ELEMENT "+this._charData+">"},e.prototype.up=function(){return this._parent},e}()},KGbz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringOptions=void 0;var n=r("t95l");t.StringOptions=function(e){this.doubleQuotes=!1,this.indent="    ",this.newline="\n",this.pretty=!0,(0,n.isUndefined)(e.doubleQuotes)||(this.doubleQuotes=e.doubleQuotes),(0,n.isUndefined)(e.indent)||(this.indent=e.indent),(0,n.isUndefined)(e.newline)||(this.newline=e.newline),(0,n.isUndefined)(e.pretty)||(this.pretty=e.pretty)}},L7dJ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FxkU"),a=r("LlVR"),i=r("t95l");t.default=function(){function e(e,t,r){this._validation=t,this._replaceInvalidCharsInCharData=!(0,i.isUndefined)(r.replaceInvalidCharsInCharData)&&r.replaceInvalidCharsInCharData,this._parent=e,this.charData=r.charData}return Object.defineProperty(e.prototype,"charData",{get:function(){return this._charData},set:function(e){if(this._replaceInvalidCharsInCharData)e=(0,i.fixChar)(e);else if(this._validation&&!(0,i.validateChar)(e))throw new Error((0,n.getContext)(this.up())+': attribute text "'+e+'" should not contain characters not allowed in XML');this._charData=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this._charData;return e=(0,a.escapeAmpersands)(e),(0,a.escapeLeftAngleBrackets)(e)},e.prototype.up=function(){return this._parent},e}()},LlVR:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeDoubleQuotes=t.escapeSingleQuotes=t.escapeRightAngleBracketsInCdataTerminator=t.escapeLeftAngleBrackets=t.escapeAmpersands=void 0,t.escapeAmpersands=function(e){return e.replace(/&/g,"&amp;")},t.escapeLeftAngleBrackets=function(e){return e.replace(/</g,"&lt;")},t.escapeRightAngleBracketsInCdataTerminator=function(e){return e.replace(/]]>/g,"]]&gt;")},t.escapeSingleQuotes=function(e){return e.replace(/'/g,"&apos;")},t.escapeDoubleQuotes=function(e){return e.replace(/"/g,"&quot;")}},NJLA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FxkU"),a=r("KGbz"),i=r("t95l");t.default=function(){function e(e,t,r){this._version="1.0",this._validation=t,this._parent=e,this.encoding=r.encoding,this.standalone=r.standalone,(0,i.isUndefined)(r.version)||(this.version=r.version)}return Object.defineProperty(e.prototype,"encoding",{get:function(){return this._encoding},set:function(e){if(this._validation&&!(0,i.isUndefined)(e)&&!function(e){if(0===e.length)return!1;var t=e.charCodeAt(0);if(!(t>=65&&t<=90||t>=97&&t<=122))return!1;for(var r=1;r<e.length;r++){var n=e.charCodeAt(r);if(!(95===n||45===n||46===n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122))return!1}return!0}(e))throw new Error((0,n.getContext)(this.up())+": declaration encoding attribute "+e+" should be a valid encoding");this._encoding=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"standalone",{get:function(){return this._standalone},set:function(e){if(this._validation&&!(0,i.isUndefined)(e)&&"yes"!==e&&"no"!==e)throw new Error((0,n.getContext)(this.up())+": declaration standalone attribute "+e+" should be the string 'yes' or the string 'no'");this._standalone=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},set:function(e){if(this._validation&&!function(e){for(var t=0;t<=9;t++)if(e==="1."+t)return!0;return!1}(e))throw new Error((0,n.getContext)(this.up())+": declaration version attribute "+e+" should be a valid XML version");this._version=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(e){void 0===e&&(e={});var t=new a.StringOptions(e).doubleQuotes?'"':"'",r="<?xml version="+t+this._version+t;return(0,i.isUndefined)(this._encoding)||(r+=" encoding="+t+this._encoding+t),(0,i.isUndefined)(this._standalone)||(r+=" standalone="+t+this._standalone+t),r+"?>"},e.prototype.up=function(){return this._parent},e}()},P1SL:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.parseToExistingElement=t.Absent=void 0;var n=r("3CPU"),a=r("ewic"),i=r("znvk"),o=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return e._instance},enumerable:!1,configurable:!0}),e._instance=new e,e}();function s(e,t){var r,n=Object.prototype.toString.call(e);return Object.prototype.hasOwnProperty.call(t.typeHandlers,"*")&&(r=t.typeHandlers["*"]),Object.prototype.hasOwnProperty.call(t.typeHandlers,n)&&(r=t.typeHandlers[n]),r}function c(e,t,r){var a=function(e){return r.cdataInvalidChars&&(-1!==e.indexOf("<")||-1!==e.indexOf("&"))||-1!==r.cdataKeys.indexOf(t.name)||-1!==r.cdataKeys.indexOf("*")};if(t instanceof n.XmlElement)if(a(e))for(var i=e.split("]]>"),o=0;o<i.length;o++)a(i[o])?t.cdata({charData:i[o],replaceInvalidCharsInCharData:r.replaceInvalidChars}):t.charData({charData:i[o],replaceInvalidCharsInCharData:r.replaceInvalidChars}),o<i.length-1&&t.charData({charData:"]]>",replaceInvalidCharsInCharData:r.replaceInvalidChars});else t.charData({charData:e,replaceInvalidCharsInCharData:r.replaceInvalidChars});else t.text({charData:e,replaceInvalidCharsInCharData:r.replaceInvalidChars})}function l(e,t,r,n){var a=r.attribute({name:e,replaceInvalidCharsInName:n.replaceInvalidChars});c((0,i.stringify)(t),a,n)}function u(e,t,r,n){if(e!==n.aliasString)if(0===e.indexOf(n.attributeString)&&(0,i.isObject)(t))for(var a=0,c=Object.keys(t);a<c.length;a++){var u=c[a];l(u,(0,i.stringify)(t[u]),r,n)}else if(0!==e.indexOf(n.valueString)){var d=r;if(!(0,i.isArray)(t)&&!(0,i.isSet)(t)){var p=s(t,n);if(!(0,i.isUndefined)(p)&&p(t)===o.instance)return;d=r.element({name:e,replaceInvalidCharsInName:n.replaceInvalidChars,useSelfClosingTagIfEmpty:n.useSelfClosingTagIfEmpty})}h(e,t,d,n)}else h(e,(0,i.stringify)(t),r,n);else r.name=(0,i.stringify)(t)}function h(e,t,r,n){var a=s(t,n);(0,i.isUndefined)(a)||(t=a(t)),(0,i.isObject)(t)||(0,i.isMap)(t)?function(e,t,r){if((0,i.isMap)(e))e.forEach((function(e,n){u((0,i.stringify)(n),e,t,r)}));else for(var n=0,a=Object.keys(e);n<a.length;n++){var o=a[n];u(o,e[o],t,r)}}(t,r,n):(0,i.isArray)(t)||(0,i.isSet)(t)?function(e,t,r,n){var a;Object.prototype.hasOwnProperty.call(n.wrapHandlers,"*")&&(a=n.wrapHandlers["*"]),Object.prototype.hasOwnProperty.call(n.wrapHandlers,e)&&(a=n.wrapHandlers[e]);var c=e,l=r;if(!(0,i.isUndefined)(a)){var u=a(c,t);(0,i.isNull)(u)||(c=u,l=r.element({name:e,replaceInvalidCharsInName:n.replaceInvalidChars,useSelfClosingTagIfEmpty:n.useSelfClosingTagIfEmpty}))}t.forEach((function(e){var t=l;if(!(0,i.isArray)(e)&&!(0,i.isSet)(e)){var r=s(e,n);if(!(0,i.isUndefined)(r)&&r(e)===o.instance)return;t=l.element({name:c,replaceInvalidCharsInName:n.replaceInvalidChars,useSelfClosingTagIfEmpty:n.useSelfClosingTagIfEmpty})}h(c,e,t,n)}))}(e,t,r,n):c((0,i.stringify)(t),r,n)}function d(e,t,r){var n=new a.Options(r);h(e.name,t,e,n)}t.Absent=o,t.parseToExistingElement=d,t.parse=function(e,t,r){var i=new a.Options(r),o=new n.XmlDocument({validation:i.validation});return i.declaration.include&&o.decl(i.declaration),i.dtd.include&&o.dtd({name:i.dtd.name,pubId:i.dtd.pubId,sysId:i.dtd.sysId}),d(o.element({name:e,replaceInvalidCharsInName:i.replaceInvalidChars,useSelfClosingTagIfEmpty:i.useSelfClosingTagIfEmpty}),t,r),o.toString(i.format)}},PO8X:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FxkU"),a=r("t95l");t.default=function(){function e(e,t,r){this._validation=t,this._parent=e,this.charData=r.charData}return Object.defineProperty(e.prototype,"charData",{get:function(){return this._charData},set:function(e){if(this._validation&&!(0,a.validateChar)(e))throw new Error((0,n.getContext)(this.up())+': entity declaration "'+e+'" should not contain characters not allowed in XML');this._charData=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"<!ENTITY "+this._charData+">"},e.prototype.up=function(){return this._parent},e}()},"UBQ+":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FxkU"),a=r("t95l");t.default=function(){function e(e,t,r){this._validation=t,this._replaceInvalidCharsInCharData=!(0,a.isUndefined)(r.replaceInvalidCharsInCharData)&&r.replaceInvalidCharsInCharData,this._parent=e,this.charData=r.charData}return Object.defineProperty(e.prototype,"charData",{get:function(){return this._charData},set:function(e){if(this._replaceInvalidCharsInCharData)e=(0,a.fixChar)(e);else if(this._validation&&!(0,a.validateChar)(e))throw new Error((0,n.getContext)(this.up())+': CDATA section "'+e+'" should not contain characters not allowed in XML');if(this._replaceInvalidCharsInCharData)e=e.replace("]]>","\ufffd\ufffd\ufffd");else if(this._validation&&-1!==e.indexOf("]]>"))throw new Error((0,n.getContext)(this.up())+': CDATA section "'+e+"\" should not contain the string ']]>'");this._charData=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"<![CDATA["+this._charData+"]]>"},e.prototype.up=function(){return this._parent},e}()},UkBv:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r("FxkU"),i=r("LlVR"),o=r("KGbz"),s=r("t95l"),c=n(r("L7dJ")),l=n(r("8mP/")),u=n(r("h2TC"));t.default=function(){function e(e,t,r){this._validation=t,this._replaceInvalidCharsInName=!(0,s.isUndefined)(r.replaceInvalidCharsInName)&&r.replaceInvalidCharsInName,this._children=[],this._parent=e,this.name=r.name}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){if(this._replaceInvalidCharsInName){if(0===(e=(0,s.fixName)(e)).length)throw new Error((0,a.getContext)(this.up())+": attribute name should not be empty")}else if(this._validation&&!(0,s.validateName)(e))throw 0===e.length?new Error((0,a.getContext)(this.up())+": attribute name should not be empty"):new Error((0,a.getContext)(this.up())+': attribute name "'+e+'" should not contain characters not allowed in XML names');this._name=e},enumerable:!1,configurable:!0}),e.prototype.charRef=function(e){var t=new l.default(this,this._validation,e);return this._children.push(t),t},e.prototype.entityRef=function(e){var t=new u.default(this,this._validation,e);return this._children.push(t),t},e.prototype.text=function(e){var t=new c.default(this,this._validation,e);return this._children.push(t),t},e.prototype.toString=function(e){void 0===e&&(e={});for(var t=new o.StringOptions(e),r=t.doubleQuotes?'"':"'",n=this._name+"="+r,a=0,s=this._children;a<s.length;a++){var c=s[a];n+=t.doubleQuotes?(0,i.escapeDoubleQuotes)(c.toString()):(0,i.escapeSingleQuotes)(c.toString())}return n+r},e.prototype.up=function(){return this._parent},e}()},bMBk:function(e,t,r){"use strict";r.r(t),r.d(t,"RsaReportsModule",(function(){return Ke}));var n=r("ofXK"),a=r("1kSV"),i=r("qFsG"),o=r("iadO"),s=r("FKr1"),c=r("tyNb"),l=r("mrSG"),u=r("P1SL"),h=r("/UHo"),d=r("kpVs"),p=r("nrdC"),m=r("fXoL"),g=r("kVbP"),f=r("92Lm"),b=r("3Pt+"),y=r("kmnG");function N(e,t){1&e&&(m.Ub(0,"div"),m.Ub(1,"h5"),m.Hc(2,"RSA Pension Report"),m.Tb(),m.Tb())}function v(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.name," ")}}function A(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.description," ")}}function S(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",11),m.Ub(1,"div",12),m.Ub(2,"label"),m.Hc(3,"Application Type"),m.Tb(),m.Ub(4,"select",13,14),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().penReport.applicationType=e}))("change",(function(e){return m.yc(r),m.kc().getAppType(e)})),m.Ub(6,"option",15),m.Hc(7,"Select Application Type"),m.Tb(),m.Fc(8,v,2,1,"option",9),m.Tb(),m.Ub(9,"div",16),m.Ub(10,"p",17),m.Hc(11," Application Type is required "),m.Tb(),m.Tb(),m.Tb(),m.Ub(12,"div",12),m.Ub(13,"label"),m.Hc(14,"Pencom Submission Date"),m.Tb(),m.Ub(15,"mat-form-field",18),m.Ub(16,"input",19,20),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().penReport.pencomSubmissionDate=e}))("dateInput",(function(){return m.yc(r),m.kc().validateSubmitDate()})),m.Tb(),m.Qb(18,"mat-datepicker-toggle",21),m.Qb(19,"mat-datepicker",22,23),m.Tb(),m.Ub(21,"div",16),m.Ub(22,"p",17),m.Hc(23," Pencom Submission Date is required "),m.Tb(),m.Tb(),m.Tb(),m.Ub(24,"div",12),m.Ub(25,"label"),m.Hc(26,"Mode of Submission"),m.Tb(),m.Ub(27,"select",24,20),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().penReport.submitMode=e}))("change",(function(e){return m.yc(r),m.kc().getSubmitMode(e)})),m.Ub(29,"option",15),m.Hc(30,"Select Mode of Submission"),m.Tb(),m.Fc(31,A,2,1,"option",9),m.Tb(),m.Ub(32,"div",16),m.Ub(33,"p",17),m.Hc(34," Mode of Submission is required "),m.Tb(),m.Tb(),m.Tb(),m.Tb()}if(2&e){var n=m.xc(5),a=m.xc(17),i=m.xc(20),o=m.kc();m.Bb(4),m.qc("ngModel",o.penReport.applicationType),m.Bb(4),m.qc("ngForOf",o.applicationType),m.Bb(2),m.qc("hidden",n.valid||!1===o.submitted),m.Bb(6),m.qc("matDatepicker",i)("max",o.today)("ngModel",o.penReport.pencomSubmissionDate),m.Bb(2),m.qc("for",i),m.Bb(4),m.qc("hidden",a.valid||!1===o.submitted),m.Bb(5),m.qc("ngModel",o.penReport.submitMode),m.Bb(4),m.qc("ngForOf",o.submissionMode),m.Bb(2),m.qc("hidden",a.valid||!1===o.submitted)}}function T(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div"),m.Ub(1,"button",25),m.gc("click",(function(){m.yc(r);var e=m.kc(),t=m.xc(2);return e.search(t)})),m.Hc(2,"Search "),m.Tb(),m.Tb()}}function U(e,t){if(1&e){var r=m.Vb();m.Ub(0,"button",26),m.gc("click",(function(){return m.yc(r),m.kc().exportToExcel()})),m.Hc(1,"Export to Excel"),m.Tb()}}function E(e,t){if(1&e){var r=m.Vb();m.Ub(0,"button",26),m.gc("click",(function(){return m.yc(r),m.kc().exportToRMAS()})),m.Hc(1,"Generate XML"),m.Tb()}}function M(e,t){if(1&e){var r=m.Vb();m.Ub(0,"button",26),m.gc("click",(function(){return m.yc(r),m.kc().exportRMASToExcel()})),m.Hc(1,"Export XML to Excel"),m.Tb()}}function C(e,t){1&e&&(m.Ub(0,"h4"),m.Hc(1,"Uncheck List"),m.Tb())}function L(e,t){1&e&&(m.Ub(0,"td"),m.Hc(1,"Actions"),m.Tb())}function R(e,t){if(1&e){var r=m.Vb();m.Ub(0,"td"),m.Ub(1,"button",29),m.gc("click",(function(){m.yc(r);var e=m.kc().index,t=m.kc(2);return t.removeToBatch(e,t.taskBatch[e])})),m.Hc(2,"Check"),m.Tb(),m.Tb()}}function P(e,t){if(1&e){var r=m.Vb();m.Ub(0,"tr"),m.Ub(1,"td"),m.Hc(2),m.Tb(),m.Ub(3,"td"),m.Ub(4,"a",28),m.gc("click",(function(){m.yc(r);var e=t.$implicit;return m.kc(2).routeToPage(e.id)})),m.Hc(5),m.Tb(),m.Tb(),m.Ub(6,"td"),m.Hc(7),m.Tb(),m.Ub(8,"td"),m.Hc(9),m.Tb(),m.Ub(10,"td"),m.Hc(11),m.Tb(),m.Ub(12,"td"),m.Hc(13),m.Tb(),m.Ub(14,"td"),m.Hc(15),m.lc(16,"date"),m.Tb(),m.Fc(17,R,3,0,"td",0),m.Tb()}if(2&e){var n=t.$implicit,a=t.index,i=m.kc(2);m.Bb(2),m.Ic(a+1),m.Bb(3),m.Ic(n.workflowRequestID),m.Bb(2),m.Ic(n.applicationType),m.Bb(2),m.Ic(n.modeOfSubmission),m.Bb(2),m.Ic(n.rsapin),m.Bb(2),m.Ic(n.approval_Status),m.Bb(2),m.Ic(m.nc(16,8,n.createdDate,"dd/MM/yyyy")),m.Bb(2),m.qc("ngIf",i.isShowComm)}}function k(e,t){if(1&e&&(m.Ub(0,"table",27),m.Ub(1,"thead"),m.Ub(2,"tr"),m.Ub(3,"td"),m.Hc(4,"S/N"),m.Tb(),m.Ub(5,"td"),m.Hc(6,"Reference Code"),m.Tb(),m.Ub(7,"td"),m.Hc(8,"Application Name"),m.Tb(),m.Ub(9,"td"),m.Hc(10,"Mode of Submission"),m.Tb(),m.Ub(11,"td"),m.Hc(12,"RSA Pin"),m.Tb(),m.Ub(13,"td"),m.Hc(14,"Status"),m.Tb(),m.Ub(15,"td"),m.Hc(16,"Request Date"),m.Tb(),m.Fc(17,L,2,0,"td",0),m.Tb(),m.Tb(),m.Ub(18,"tbody"),m.Fc(19,P,18,11,"tr",9),m.Tb(),m.Tb()),2&e){var r=m.kc();m.Bb(17),m.qc("ngIf",r.isShowComm),m.Bb(2),m.qc("ngForOf",r.taskBatch)}}function O(e,t){1&e&&(m.Ub(0,"td"),m.Hc(1,"Actions"),m.Tb())}function I(e,t){if(1&e){var r=m.Vb();m.Ub(0,"td"),m.Qb(1,"span",30),m.Ub(2,"button",31),m.gc("click",(function(){m.yc(r);var e=m.kc().index,t=m.kc();return t.moveToBatch(e,t.taskList[e])})),m.Hc(3,"Un-Check"),m.Tb(),m.Tb()}}function x(e,t){if(1&e){var r=m.Vb();m.Ub(0,"tr"),m.Ub(1,"td"),m.Hc(2),m.Tb(),m.Ub(3,"td"),m.Ub(4,"a",28),m.gc("click",(function(){m.yc(r);var e=t.$implicit;return m.kc().routeToPage(e.id)})),m.Hc(5),m.Tb(),m.Tb(),m.Ub(6,"td"),m.Hc(7),m.Tb(),m.Ub(8,"td"),m.Hc(9),m.Tb(),m.Ub(10,"td"),m.Hc(11),m.Tb(),m.Ub(12,"td"),m.Hc(13),m.Tb(),m.Ub(14,"td"),m.Hc(15),m.Tb(),m.Ub(16,"td"),m.Hc(17),m.lc(18,"date"),m.Tb(),m.Fc(19,I,4,0,"td",0),m.Tb()}if(2&e){var n=t.$implicit,a=t.index,i=m.kc();m.Bb(2),m.Ic(a+1),m.Bb(3),m.Ic(n.workflowRequestID),m.Bb(2),m.Ic(n.applicationType),m.Bb(2),m.Ic(n.modeOfSubmission),m.Bb(2),m.Ic(n.lastEmployerCode),m.Bb(2),m.Ic(n.rsapin),m.Bb(2),m.Ic(n.approval_Status),m.Bb(2),m.Ic(m.nc(18,9,n.createdDate,"dd/MM/yyyy")),m.Bb(2),m.qc("ngIf",i.isShowComm)}}var D,w=((D=function(){return _createClass((function e(t,r,n,a){_classCallCheck(this,e),this.service=t,this.helperService=r,this.datePipes=n,this.router=a,this.submitted=!1,this.isHardCopy=!1,this.isRmas=!1,this.isBMULead=!1,this.isBMUMaker=!1,this.isBatch=!1,this.isShowComm=!1,this.isFundAcc=!1,this.isFundAccShow=!1,this.isFundAccAP=!1,this.rmasList=[],this.rmasList2=[],this.useGroup=[],this.applicationType=[],this.signatoryUserList=[],this.signatoryList2=[],this.signatList2=[],this.rmasListStatic=[],this.total=0,this.submissionMode=[{code:"01",description:"Hardcopy"},{code:"02",description:"RMAS"}],this.taskBatch=[],this.tashBatchReq=[],this.taskList=[],this.taskList25Payment=[],this.userList=[],this.insuranceList=[],this.page=1,this.pageSize=10,this.today=new Date,this.penReport={applicationType:"",appTypeCode:"",pencomSubmissionDate:null,submitMode:"",currentUserLogin:"",currentUserName:"",currentUserEmail:"",batchUserLogin:"",batchUserEmail:"",batchUserName:"",batchUserLogin1:"",batchUserEmail1:"",batchUserName1:"",batchUserLogin2:"",batchUserEmail2:"",batchUserName2:"",batchUserRole2:"",batchUserLogin3:"",batchUserLogin4:"",fstSignDate:null,secSignDate:null,sector:"",insuranceCoy:"",comment:"",batchNo:0,teamLeadAmount:"",unitHeadAmount:"",headDeptAmount:"",edOpertnAmount:"",groupName:"",userRole:"",actionTime:new Date,gender:0}}),[{key:"ngOnInit",value:function(){this.currentUserDetail(),this.getApplicationType()}},{key:"currentUserDetail",value:function(){var e=this;this.service.getIdentityUserUrl().then((function(t){if(null!=t){console.log(t);var r=t.samAccountName;e.penReport.currentUserName=t.displayName,e.penReport.currentUserLogin=t.samAccountName,e.penReport.currentUserEmail=t.emailAddress,e.initTaskList(r)}})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"getApplicationType",value:function(){var e=this;this.service.get("DigiProFormSetting/GetApplicationTypes").then((function(t){null!=t&&(e.applicationType=t)})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"initTaskList",value:function(e){var t=this;this.service.postUrl("DigiProRequest/GetUserGroups/"+e).then((function(r){if(null!=r){t.useGroup=r;var n=r.some((function(e){return e.groupName==d.l})),a=r.some((function(e){return e.groupName==d.f}));1==n?(t.isBatch=!0,t.isBMULead=!0,t.isShowComm=!0,t.gettaskBMU("AA3")):1==a&&t.gettaskChecker(e,d.f)}})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"gettaskBMU",value:function(e){var t=this;this.service.postUrl("DigiProRequest/MyBMULeadReport/"+e).then((function(e){console.log(e),t.startMapping(e)})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"updateEmpCode",value:function(){return Object(l.a)(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t,r,n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.penReport.applicationType,r=this.taskList.filter((function(e){return e.applicationType===t})),n=[],a=0;a<r.length;a++)n.push(this.getEmpCode(r[a]));return e.next=5,Promise.allSettled(n);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getEmpCode",value:function(e){return Object(l.a)(this,void 0,void 0,_regeneratorRuntime().mark((function t(){var r,n=this;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={PIN:e.rsapin,Userkey:p.g,Uid:p.f},t.next=3,this.service.postUrlStanbic("DigiPro/FetchBioData/GetCustomerBioData",r).then((function(t){e.lastEmployerCode=t.EmployerCode})).catch((function(e){return Object(l.a)(n,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e.statusText;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"gettaskChecker",value:function(e,t){var r=this;this.service.postUrl("DigiProRequest/GetPendingMyApproval/".concat(e,"/").concat(t)).then((function(e){console.log(e),null!=e&&r.startMapping(e)})).catch((function(e){return Object(l.a)(r,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"startMapping",value:function(e){this.taskList=e,this.taskList=this.taskList.sort((function(e,t){return t.id-e.id}));var t=this.penReport.applicationType,r=this.penReport.submitMode;if(this.taskList=""!=t&&""!=r?this.taskList.filter((function(e){return e.applicationType==t&&e.modeOfSubmission==r})):""!=t?this.taskList.filter((function(e){return e.applicationType==t})):""!=r&&""!=t?this.taskList.filter((function(e){return e.applicationType==t&&e.modeOfSubmission==r})):""!=r?this.taskList.filter((function(e){return e.modeOfSubmission==r})):this.taskList,t===h.k&&"RMAS"===r){this.taskList25Payment=[];for(var n=this.taskList,a=0;a<n.length;a++){var i=new Date(this.datePipes.transform(n[a].dateOfExit,"yyyy-MM-dd")),o=new Date(this.datePipes.transform(this.helperService.getTimeStamp(),"yyyy-MM-dd"));(new Date(o).getTime()-new Date(i).getTime())/864e5>=180&&this.taskList25Payment.push(n[a])}this.taskList=[],this.taskList=this.taskList25Payment}}},{key:"routeToPage",value:function(e){this.router.navigate(["approval-page",{id:e}])}},{key:"getAppType",value:function(e){var t=e.target.selectedIndex,r=-1+t;this.appType=t,console.log(this.applicationType[r]),this.penReport.applicationType=this.applicationType[r].name,this.penReport.appTypeCode=this.applicationType[r].code,this.gettaskBMU("AA3")}},{key:"validateSubmitDate",value:function(){this.gettaskBMU("AA3")}},{key:"getSubmitMode",value:function(e){var t=e.target.selectedIndex,r=-1+t;this.modeSubmit=t,console.log(this.submissionMode[r]),this.penReport.submitMode=this.submissionMode[r].description;var n=this.penReport.submitMode;this.gettaskBMU("AA3"),"Hardcopy"==n?(this.isHardCopy=!0,this.isRmas=!1):"RMAS"==n&&(this.isRmas=!0,this.isHardCopy=!1)}},{key:"search",value:function(e){var t=this;if(this.submitted=!0,e.valid){if(1==this.useGroup.some((function(e){return e.groupName==d.l}))){var r=this.penReport.appTypeCode,n=this.penReport.submitMode;""!=n&&""!=r?this.service.postUrl("DigiProRequest/GetPencomTemplate/AA3/".concat(r,"/").concat(n)).then((function(e){console.log(e),t.startMapping(e)})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e.error.message;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))})):(this.penReport.pencomSubmissionDate=new Date(""),this.helperService.showError("Please select Pencom Submission Date, application type and mode of submission before you proceed"))}}else console.log("Invalid form"),this.helperService.showError("An error Occured, Try again"),console.log(this.penReport)}},{key:"moveToBatch",value:function(e,t){""!==this.penReport.applicationType&&""!==this.penReport.submitMode?"AA3"===t.current_Approver_Code&&(this.taskList.splice(e,1),this.batchItem(t)):this.helperService.showError("Please select application type and submit mode before you proceed")}},{key:"batchItem",value:function(e){this.taskBatch.push(e)}},{key:"removeToBatch",value:function(e,t){this.taskBatch.splice(e,1),this.taskList.push(t),this.taskList=this.taskList.sort((function(e,t){return t.id-e.id}))}},{key:"exportToRMAS",value:function(){this.taskList=this.taskList.filter((function(e){return""!==e.lastEmployerCode}));var e=this.taskList,t=this.taskList.reduce((function(e,t){return e+Number(t.netAmount.replace(/NGN|,/g,""))}),0),r=this.taskList.reduce((function(e,t){return e+Number(t.requestedAmount.replace(/NGN|,/g,""))}),0),n=this.helperService.formatNaira(t),a=this.helperService.formatNaira(r),i=Number(n.replace(/\u20a6|,/g,"")),o=Number(a.replace(/\u20a6|,/g,"")),s=this.taskList[this.taskList.length-1];if("NaN"===this.helperService.formatNaira(s.accruedRight.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(s.accruedRight="0.00"),"NaN"===this.helperService.formatNaira(s.basic.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(s.basic="0.00"),"NaN"===this.helperService.formatNaira(s.housing.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(s.housing="0.00"),"NaN"===this.helperService.formatNaira(s.transport.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(s.transport="0.00"),"PRIVATE"===s.sector.toUpperCase())var c=Number(s.basic.replace(/NGN|,/g,""))+Number(s.housing.replace(/NGN|,/g,""))+Number(s.transport.replace(/NGN|,/g,""));else c=Number(s.consolSalary.replace(/NGN|,/g,""))/2;for(var l=12*Number(c),d=0;d<e.length;d++)e[d].serialNo=d+1;var p=this.penReport.applicationType;if(this.rmasList=[],this.rmasListStatic=[],p===h.g){for(var m="Male"==s.sex?1:0,g=this.datePipes.transform(s.dateofBirth,"dd-MMM-yyyy"),f=this.datePipes.transform(s.dateOfExit,"dd-MMM-yyyy"),b=[{"serial-no":"1",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,nationality:"NG",gender:m,"birth-date":g,"retirement-date":f,"reason-for-payment":3,"rsa-balance":0,"enbloc-payment":0},{"serial-no":"T9999",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,nationality:"NG",gender:m,"birth-date":g,"retirement-date":f,"reason-for-payment":1,"rsa-balance":0,"enbloc-payment":0}],y=[{"serial-no":"T9999",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,nationality:"NG",gender:m,"birth-date":g,"retirement-date":f,"reason-for-payment":3,"rsa-balance":i,"enbloc-payment":i}],N=0;N<e.length;N++){var v="Male"==e[N].sex?1:0,A={"serial-no":e[N].serialNo,pin:e[N].rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":e[N].lastEmployerCode,nationality:"NG",gender:v,"birth-date":this.datePipes.transform(e[N].dateofBirth,"dd-MMM-yyyy"),"retirement-date":this.datePipes.transform(e[N].dateOfExit,"dd-MMM-yyyy"),"reason-for-payment":3,"rsa-balance":Number(e[N].netAmount.replace(/NGN|,/g,"")),"enbloc-payment":Number(e[N].netAmount.replace(/NGN|,/g,""))};this.rmasListStatic.push(A)}this.rmasList=this.rmasListStatic.concat(y);var S="PFAAWBR400",T="PFAAWBR400.xsd",U="20100",E="20101",M="Request For Payment of Small Balances of Foreigners-Enbloc Payment",C="10021",L=this.helperService.getTimeStamp(),R=this.datePipes.transform(L,"dd-MMM-yyyy")}else if(p===h.k){this.penReport.gender="Male"==s.sex?1:0;for(var P=this.penReport.gender,k=this.datePipes.transform(s.dateofBirth,"dd-MMM-yyyy"),O=this.datePipes.transform(s.dateOfExit,"dd-MMM-yyyy"),I=[{"serial-no":"T9999",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,gender:P,"birth-date":k,"disengagement-date":O,"rsa-balance":o,"twentyfive-percent-rsa-balance":i}],x=[{"serial-no":"1",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,gender:P,"birth-date":k,"disengagement-date":O,"rsa-balance":0,"twentyfive-percent-rsa-balance":0},{"serial-no":"T9999",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,gender:P,"birth-date":k,"disengagement-date":O,"rsa-balance":0,"twentyfive-percent-rsa-balance":0}],D=0;D<e.length;D++){this.penReport.gender="Male"==e[D].sex?1:0;var w={"serial-no":e[D].serialNo,pin:e[D].rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":e[D].lastEmployerCode,gender:this.penReport.gender,"birth-date":this.datePipes.transform(e[D].dateofBirth,"dd-MMM-yyyy"),"disengagement-date":this.datePipes.transform(e[D].dateOfExit,"dd-MMM-yyyy"),"rsa-balance":4*Number(e[D].netAmount.replace(/NGN|,/g,"")),"twentyfive-percent-rsa-balance":e[D].netAmount.replace(/NGN|,/g,"")};this.rmasListStatic.push(w)}this.rmasList=this.rmasListStatic.concat(I),S="PFAAWBR500",T="PFAAWBR500.xsd";var B="10150",_="10050",F=(U="10100","10151");M="Request For Payment due to Temporary Loss of Employment",C="10021";var H=this.helperService.getTimeStamp();R=this.datePipes.transform(H,"dd-MMM-yyyy")}else if(p===h.e){var G="Male"==s.sex?1:0,q=new Date(this.datePipes.transform(s.dateOfExit,"yyyy-MM-dd")),j=new Date(this.datePipes.transform(s.deathDate,"yyyy-MM-dd"));if(q.getTime()>j.getTime())var V=this.datePipes.transform(s.deathDate,"dd-MMM-yyyy");else V=this.datePipes.transform(s.dateOfExit,"dd-MMM-yyyy");for(var z=this.datePipes.transform(s.deathDate,"dd-MMM-yyyy"),K=this.datePipes.transform(s.adminLetterDate,"dd-MMM-yyyy"),X=this.taskList.reduce((function(e,t){return e+Number(t.investIncome.replace(/NGN|,/g,""))}),0),J=Number(i)-Number(X),Q=this.helperService.formatNaira(J),W=Number(Q.replace(/\u20a6|,/g,"")),Y=this.helperService.formatNaira(X),Z=Number(Y.replace(/\u20a6|,/g,"")),$=s.surname+" "+s.firstName+" "+s.otherNames,ee=[{"serial-no":"1",name:$.replace(/[^a-zA-Z0-9]/g," "),"pin-dba":s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),gender:G,"employer-code":s.lastEmployerCode,"retirement-date":V,"death-date":z,"administration-letter-issuing-authority":s.adminLetterAuth.replace(/[^a-zA-Z0-9]/g," "),"administration-letter-date":K,"administration-letter-named-administrator-nok":s.namedAdminNOK.replace(/[^a-zA-Z0-9]/g," "),"life-insurance-proceed":s.lifeInsurance,"accured-right":"0.00",contributions:"0.00","investment-income":"0.00","total-rsa-balance":"0.00",remark:""},{"serial-no":"T9999",name:$.replace(/[^a-zA-Z0-9]/g," "),"pin-dba":s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),gender:G,"employer-code":s.lastEmployerCode,"retirement-date":V,"death-date":z,"administration-letter-issuing-authority":s.adminLetterAuth.replace(/[^a-zA-Z0-9]/g," "),"administration-letter-date":K,"administration-letter-named-administrator-nok":s.namedAdminNOK.replace(/[^a-zA-Z0-9]/g," "),"life-insurance-proceed":s.lifeInsurance,"accured-right":"0.00",contributions:"0.00","investment-income":"0.00","total-rsa-balance":"0.00",remark:""}],te=[{"serial-no":"T9999",name:$.replace(/[^a-zA-Z0-9]/g," "),"pin-dba":s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),gender:G,"employer-code":s.lastEmployerCode,"retirement-date":V,"death-date":z,"administration-letter-issuing-authority":s.adminLetterAuth.replace(/[^a-zA-Z0-9]/g," "),"administration-letter-date":K,"administration-letter-named-administrator-nok":s.namedAdminNOK.replace(/[^a-zA-Z0-9]/g," "),"life-insurance-proceed":s.lifeInsurance,"accured-right":"0.00",contributions:W,"investment-income":Z,"total-rsa-balance":i,remark:""}],re=0;re<e.length;re++){var ne="Male"==e[re].sex?1:0,ae=new Date(this.datePipes.transform(e[re].dateOfExit,"yyyy-MM-dd")),ie=new Date(this.datePipes.transform(e[re].deathDate,"yyyy-MM-dd"));ae.getTime()>ie.getTime()&&(e[re].dateOfExit=e[re].deathDate);var oe=Number(e[re].netAmount.replace(/NGN|,/g,""))-Number(e[re].investIncome.replace(/NGN|,/g,"")),se=this.helperService.formatNaira(oe).replace(/\u20a6|,/g,""),ce={"serial-no":e[re].serialNo,name:(e[re].surname+" "+e[re].firstName+" "+e[re].otherNames).replace(/[^a-zA-Z0-9]/g," "),"pin-dba":e[re].rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),gender:ne,"employer-code":e[re].lastEmployerCode,"retirement-date":this.datePipes.transform(e[re].dateOfExit,"dd-MMM-yyyy"),"death-date":this.datePipes.transform(e[re].deathDate,"dd-MMM-yyyy"),"administration-letter-issuing-authority":e[re].adminLetterAuth.replace(/[^a-zA-Z0-9]/g," "),"administration-letter-date":this.datePipes.transform(e[re].adminLetterDate,"dd-MMM-yyyy"),"administration-letter-named-administrator-nok":e[re].namedAdminNOK.replace(/[^a-zA-Z0-9]/g," "),"life-insurance-proceed":e[re].lifeInsurance.replace(/NGN|,/g,""),"accured-right":"0.00",contributions:se,"investment-income":e[re].investIncome.replace(/NGN|,/g,""),"total-rsa-balance":e[re].netAmount.replace(/NGN|,/g,""),remark:e[re].remarksQ8R8};this.rmasListStatic.push(ce)}this.rmasList=this.rmasListStatic.concat(te),S="PFAAWBR600",T="PFAAWBR600.xsd",U="20100",E="20101",M="Request For Payment of Death Benefits",C="10021";var le=this.helperService.getTimeStamp();R=this.datePipes.transform(le,"dd-MMM-yyyy")}else if(p===h.i){for(var ue=this.datePipes.transform(s.dateOfExit,"dd-MMM-yyyy"),he=this.taskList.reduce((function(e,t){return e+Number(t.netAmount.replace(/NGN|,/g,""))}),0),de=[{"serial-no":"T9999",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,"retirement-date":ue,"enbloc-payment":he}],pe=[{"serial-no":"1",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,"retirement-date":ue,"enbloc-payment":s.netAmount.replace(/NGN|,/g,"")},{"serial-no":"T9999",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,"retirement-date":ue,"enbloc-payment":he}],me=0;me<e.length;me++){var ge={"serial-no":e[me].serialNo,pin:e[me].rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":e[me].lastEmployerCode,"retirement-date":this.datePipes.transform(e[me].dateOfExit,"dd-MMM-yyyy"),"enbloc-payment":e[me].netAmount.replace(/NGN|,/g,"")};this.rmasListStatic.push(ge)}this.rmasList=this.rmasListStatic.concat(de),S="PFAAWBR300",T="PFAAWBR300.xsd",B="10151",F="10150";var fe="20100";U="10050",_="20101",M="Request For Payment of Pre Act Benefits",C="10021";var be=this.helperService.getTimeStamp();R=this.datePipes.transform(be,"dd-MMM-yyyy")}else if(p===h.j){for(var ye="Male"==s.sex?1:0,Ne=this.datePipes.transform(s.dateOfExit,"dd-MMM-yyyy"),ve=this.datePipes.transform(s.dateofBirth,"dd-MMM-yyyy"),Ae=(this.taskList.reduce((function(e,t){return e+Number(t.accuredRight)}),0),this.taskList.reduce((function(e,t){return e+Number(t.emolumentTotal)}),0)),Se=this.taskList.reduce((function(e,t){return e+Number(t.requestedAmount.replace(/NGN|,/g,""))}),0),Te=this.taskList.reduce((function(e,t){return e+Number(t.recommendLupsum.replace(/NGN|,/g,""))}),0),Ue=this.taskList.reduce((function(e,t){return e+Number(t.monthlyTotal.replace(/NGN|,/g,""))}),0),Ee=[{"serial-no":"T9999",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,"birth-date":ve,"retirement-date":Ne,"retirement-age":s.retirementAge,gender:ye,"retirement-ground":1,"annual-total-emolument":this.helperService.formatNaira(Ae).replace(/\u20a6|,/g,""),"accrued-right":"0.00","rsa-balance":this.helperService.formatNaira(Se).replace(/\u20a6|,/g,""),"recommended-lumpsum":this.helperService.formatNaira(Te).replace(/\u20a6|,/g,""),"monthly-programed-drawndown":this.helperService.formatNaira(Ue).replace(/\u20a6|,/g,"")}],Me=[{"serial-no":"1",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,"birth-date":ve,"retirement-date":Ne,"retirement-age":s.retirementAge,gender:ye,"retirement-ground":1,"annual-total-emolument":l,"accrued-right":s.accruedRight,"rsa-balance":s.requestedAmount.replace(/NGN|,/g,""),"recommended-lumpsum":s.recommendLupsum.replace(/NGN|,/g,""),"monthly-programed-drawndown":s.monthlyTotal.replace(/NGN|,/g,"")},{"serial-no":"T9999",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,"birth-date":ve,"retirement-date":Ne,"retirement-age":s.retirementAge,gender:ye,"retirement-ground":1,"annual-total-emolument":this.helperService.formatNaira(Ae).replace(/\u20a6|,/g,""),"accrued-right":"0.00","rsa-balance":this.helperService.formatNaira(Se).replace(/\u20a6|,/g,""),"recommended-lumpsum":this.helperService.formatNaira(Te).replace(/\u20a6|,/g,""),"monthly-programed-drawndown":this.helperService.formatNaira(Ue).replace(/\u20a6|,/g,"")}],Ce=0;Ce<e.length;Ce++){var Le="Male"==e[Ce].sex?1:0,Re=e[Ce].sector.toUpperCase();if("NaN"===this.helperService.formatNaira(e[Ce].accruedRight.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[Ce].accruedRight="0.00"),"NaN"===this.helperService.formatNaira(e[Ce].basic.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[Ce].basic="0.00"),"NaN"===this.helperService.formatNaira(e[Ce].housing.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[Ce].housing="0.00"),"NaN"===this.helperService.formatNaira(e[Ce].transport.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[Ce].transport="0.00"),"NaN"===this.helperService.formatNaira(e[Ce].consolSalary.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[Ce].consolSalary="0.00"),"PRIVATE"===Re)var Pe=Number(e[Ce].basic.replace(/NGN|,/g,""))+Number(e[Ce].housing.replace(/NGN|,/g,""))+Number(e[Ce].transport.replace(/NGN|,/g,""));else Pe=Number(e[Ce].consolSalary.replace(/NGN|,/g,""))/2;var ke=12*Number(Pe),Oe={"serial-no":e[Ce].serialNo,pin:e[Ce].rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":e[Ce].lastEmployerCode,"birth-date":this.datePipes.transform(e[Ce].dateofBirth,"dd-MMM-yyyy"),"retirement-date":this.datePipes.transform(e[Ce].dateOfExit,"dd-MMM-yyyy"),"retirement-age":e[Ce].retirementAge,gender:Le,"retirement-ground":1,"annual-total-emolument":this.helperService.formatNaira(ke).replace(/\u20a6|,/g,""),"accrued-right":e[Ce].accruedRight,"rsa-balance":e[Ce].requestedAmount.replace(/NGN|,/g,""),"recommended-lumpsum":e[Ce].recommendLupsum.replace(/NGN|,/g,""),"monthly-programed-drawndown":e[Ce].monthlyTotal.replace(/NGN|,/g,"")};this.rmasListStatic.push(Oe)}this.rmasList=this.rmasListStatic.concat(Ee),S="PFAAWBR100",T="PFAAWBR100.xsd",U="20100",E="20101",M="Request For Approval to Retirement Benefits",C="10021";var Ie=this.helperService.getTimeStamp();R=this.datePipes.transform(Ie,"dd-MMM-yyyy")}else if(p===h.c){for(var xe=this.datePipes.transform(s.dateOfExit,"dd-MMM-yyyy"),De=this.datePipes.transform(s.dateofBirth,"dd-MMM-yyyy"),we=this.taskList.reduce((function(e,t){return e+Number(t.addPremium.replace(/NGN|,/g,""))}),0),Be=this.taskList.reduce((function(e,t){return e+Number(t.emolumentTotal)}),0),_e=this.taskList.reduce((function(e,t){return e+Number(t.requestedAmount.replace(/NGN|,/g,""))}),0),Fe=this.taskList.reduce((function(e,t){return e+Number(t.recommendLupsum.replace(/NGN|,/g,""))}),0),He=this.taskList.reduce((function(e,t){return e+Number(t.monthlyAnnuity.replace(/NGN|,/g,""))}),0),Ge=this.helperService.getTimeStamp(),qe=[{"serial-no":"T9999",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,"birth-date":De,"retirement-date":xe,"insurance-company-name":s.insuranceCoy,"annuity-commencement-date":this.datePipes.transform(Ge,"dd-MMM-yyyy"),"annual-total-emolument":this.helperService.formatNaira(Be).replace(/\u20a6|,/g,""),"rsa-balance":this.helperService.formatNaira(_e).replace(/\u20a6|,/g,""),premium:this.helperService.formatNaira(we).replace(/\u20a6|,/g,""),lumpsum:this.helperService.formatNaira(Fe).replace(/\u20a6|,/g,""),"monthly-annuity":this.helperService.formatNaira(He).replace(/\u20a6|,/g,"")}],je=[{"serial-no":"1",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,"birth-date":De,"retirement-date":xe,"insurance-company-name":s.insuranceCoy,"annuity-commencement-date":this.datePipes.transform(Ge,"dd-MMM-yyyy"),"annual-total-emolument":l,"rsa-balance":s.requestedAmount.replace(/NGN|,/g,""),premium:s.addPremium.replace(/NGN|,/g,""),lumpsum:s.recommendLupsum.replace(/NGN|,/g,""),"monthly-annuity":s.monthlyAnnuity.replace(/NGN|,/g,"")},{"serial-no":"T9999",pin:s.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":s.lastEmployerCode,"birth-date":De,"retirement-date":xe,"insurance-company-name":s.insuranceCoy,"annuity-commencement-date":this.datePipes.transform(Ge,"dd-MMM-yyyy"),"annual-total-emolument":this.helperService.formatNaira(Be).replace(/\u20a6|,/g,""),"rsa-balance":this.helperService.formatNaira(_e).replace(/\u20a6|,/g,""),premium:this.helperService.formatNaira(we).replace(/\u20a6|,/g,""),lumpsum:this.helperService.formatNaira(Fe).replace(/\u20a6|,/g,""),"monthly-annuity":this.helperService.formatNaira(He).replace(/\u20a6|,/g,"")}],Ve=0;Ve<e.length;Ve++){null!==e[Ve].dateOfInflow&&""!==e[Ve].dateOfInflow||(e[Ve].dateOfInflow=Ge),"NaN"===this.helperService.formatNaira(e[Ve].basic.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[Ve].basic="0.00"),"NaN"===this.helperService.formatNaira(e[Ve].housing.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[Ve].housing="0.00"),"NaN"===this.helperService.formatNaira(e[Ve].transport.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[Ve].transport="0.00"),"NaN"===this.helperService.formatNaira(e[Ve].consolSalary.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[Ve].consolSalary="0.00"),Pe="PRIVATE"===e[Ve].sector.toUpperCase()?Number(e[Ve].basic.replace(/NGN|,/g,""))+Number(e[Ve].housing.replace(/NGN|,/g,""))+Number(e[Ve].transport.replace(/NGN|,/g,"")):Number(e[Ve].consolSalary.replace(/NGN|,/g,""))/2;var ze=12*Number(Pe),Ke={"serial-no":e[Ve].serialNo,pin:e[Ve].rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-code":e[Ve].lastEmployerCode,"birth-date":this.datePipes.transform(e[Ve].dateofBirth,"dd-MMM-yyyy"),"retirement-date":this.datePipes.transform(e[Ve].dateOfExit,"dd-MMM-yyyy"),"insurance-company-name":e[Ve].insuranceCoy,"annuity-commencement-date":this.datePipes.transform(e[Ve].dateOfInflow,"dd-MMM-yyyy"),"annual-total-emolument":this.helperService.formatNaira(ze).replace(/\u20a6|,/g,""),"rsa-balance":e[Ve].requestedAmount.replace(/NGN|,/g,""),premium:e[Ve].addPremium.replace(/NGN|,/g,""),lumpsum:e[Ve].recommendLupsum.replace(/NGN|,/g,""),"monthly-annuity":e[Ve].monthlyAnnuity.replace(/NGN|,/g,"")};this.rmasListStatic.push(Ke)}this.rmasList=this.rmasListStatic.concat(qe),S="PFAAWBR700",T="PFAAWBR700.xsd",U="20100",E="20101",M="Request For Withdrawal by Annuity",C="10021",R=this.datePipes.transform(Ge,"dd-MMM-yyyy")}if(p===h.k){var Xe=u.parse("return",{"@":{"xmlns:rmas":"http://www.pencom.gov.ng/2011/XMLSchema/datatype","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:noNamespaceSchemaLocation":T},header:{"return-code":S,"return-desc":M,"as-at-date":R,"operator-code":C},body:{scheme:[{code:U,data:this.rmasList},{code:_,data:x},{code:B,data:x},{code:F,data:x}]}},{declaration:{encoding:"utf-8"}});console.log(Xe)}else p===h.e?(Xe=u.parse("return",{"@":{"xmlns:rmas":"http://www.pencom.gov.ng/2011/XMLSchema/datatype","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:noNamespaceSchemaLocation":T},header:{"return-code":S,"return-desc":M,"as-at-date":R,"operator-code":C},body:{scheme:[{code:E,data:ee},{code:U,data:this.rmasList}]}},{declaration:{encoding:"utf-8"}}),console.log(Xe)):p===h.g?(Xe=u.parse("return",{"@":{"xmlns:rmas":"http://www.pencom.gov.ng/2011/XMLSchema/datatype","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:noNamespaceSchemaLocation":T},header:{"return-code":S,"return-desc":M,"as-at-date":R,"operator-code":C},body:{scheme:[{code:E,data:b},{code:U,data:this.rmasList}]}},{declaration:{encoding:"utf-8"}}),console.log(Xe)):p===h.i?(Xe=u.parse("return",{"@":{"xmlns:rmas":"http://www.pencom.gov.ng/2011/XMLSchema/datatype","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:noNamespaceSchemaLocation":T},header:{"return-code":S,"return-desc":M,"as-at-date":R,"operator-code":C},body:{scheme:[{code:U,data:this.rmasList},{code:_,data:pe},{code:B,data:pe},{code:F,data:pe},{code:fe,data:pe},{code:fe,data:pe}]}},{declaration:{encoding:"utf-8"}}),console.log(Xe)):p===h.j?(Xe=u.parse("return",{"@":{"xmlns:rmas":"http://www.pencom.gov.ng/2011/XMLSchema/datatype","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:noNamespaceSchemaLocation":T},header:{"return-code":S,"return-desc":M,"as-at-date":R,"operator-code":C},body:{scheme:[{code:U,data:this.rmasList},{code:E,data:Me}]}},{declaration:{encoding:"utf-8"}}),console.log(Xe),this.getAllowance()):p===h.c&&(Xe=u.parse("return",{"@":{"xmlns:rmas":"http://www.pencom.gov.ng/2011/XMLSchema/datatype","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:noNamespaceSchemaLocation":T},header:{"return-code":S,"return-desc":M,"as-at-date":R,"operator-code":C},body:{scheme:[{code:U,data:this.rmasList},{code:E,data:je}]}},{declaration:{encoding:"utf-8"}}),console.log(Xe),this.getAllowance());return this.service.saveAsFile(Xe,S+".xml",'text/xml;encoding="utf-8"')}},{key:"getAllowance",value:function(){for(var e=this.taskList,t=0;t<e.length;t++){e[t].serialNo=t+1;var r=e[t].sector.toUpperCase();e[t].monthlyTotalALW="PRIVATE"===r||"PRIVATE"!==r&&(Number(e[t].basic.replace(/NGN|,/g,""))>0||Number(e[t].housing.replace(/NGN|,/g,""))>0||Number(e[t].transport.replace(/NGN|,/g,""))>0)?Number(e[t].basic.replace(/NGN|,/g,""))+Number(e[t].housing.replace(/NGN|,/g,""))+Number(e[t].transport.replace(/NGN|,/g,"")):Number(e[t].consolSalary.replace(/NGN|,/g,""))/2,e[t].totalMonthlyTotalALW=12*Number(e[t].monthlyTotalALW),"NaN"===this.helperService.formatNaira(e[t].basic.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[t].basic="0.00"),"NaN"===this.helperService.formatNaira(e[t].housing.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[t].housing="0.00"),"NaN"===this.helperService.formatNaira(e[t].transport.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[t].transport="0.00"),"NaN"===this.helperService.formatNaira(e[t].utility.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[t].utility="0.00"),"NaN"===this.helperService.formatNaira(e[t].consolAllowance.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[t].consolAllowance="0.00"),"NaN"===this.helperService.formatNaira(e[t].consolSalary.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(e[t].consolSalary="0.00")}var n=this.penReport.applicationType,a=e[e.length-1],i=e.reduce((function(e,t){return e+Number(t.basic)}),0),o=e.reduce((function(e,t){return e+Number(t.housing.replace(/NGN|,/g,""))}),0),s=e.reduce((function(e,t){return e+Number(t.transport.replace(/NGN|,/g,""))}),0),c=e.reduce((function(e,t){return e+Number(t.utility.replace(/NGN|,/g,""))}),0),l=e.reduce((function(e,t){return e+Number(t.consolAllowance.replace(/NGN|,/g,""))}),0),d=e.reduce((function(e,t){return e+Number(t.consolSalary.replace(/NGN|,/g,""))}),0);if("NaN"===this.helperService.formatNaira(a.basic.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(a.basic="0.00"),"NaN"===this.helperService.formatNaira(a.housing.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(a.housing="0.00"),"NaN"===this.helperService.formatNaira(a.transport.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(a.transport="0.00"),"PRIVATE"===a.sector.toUpperCase())var p=Number(a.basic.replace(/NGN|,/g,""))+Number(a.housing.replace(/NGN|,/g,""))+Number(a.transport.replace(/NGN|,/g,""));else p=Number(a.consolSalary.replace(/NGN|,/g,""))/2;for(var m=12*Number(p),g=e.reduce((function(e,t){return e+Number(t.monthlyTotalALW)}),0),f=e.reduce((function(e,t){return e+Number(t.totalMonthlyTotalALW)}),0),b=0;b<e.length;b++){var y=e[b].sector.toUpperCase();if("PRIVATE"===y||"PRIVATE"!==y&&(Number(e[b].basic.replace(/NGN|,/g,""))>0||Number(e[b].housing.replace(/NGN|,/g,""))>0||Number(e[b].transport.replace(/NGN|,/g,""))>0))var N=Number(e[b].basic.replace(/NGN|,/g,""))+Number(e[b].housing.replace(/NGN|,/g,""))+Number(e[b].transport.replace(/NGN|,/g,"")),v=this.helperService.formatNaira(N).replace(/\u20a6|,/g,"");else N=Number(e[b].consolSalary.replace(/NGN|,/g,""))/2,v=this.helperService.formatNaira(N).replace(/\u20a6|,/g,"");var A=12*Number(v),S=this.helperService.formatNaira(A).replace(/\u20a6|,/g,""),T={"serial-no":e[b].serialNo,pin:e[b].rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-name":e[b].lastEmployerCode,"basic-salary":e[b].basic.replace(/NGN|,/g,""),"housing-rent":e[b].housing.replace(/NGN|,/g,""),transport:e[b].transport.replace(/NGN|,/g,""),utility:e[b].utility.replace(/NGN|,/g,""),"consolidated-allowance":e[b].consolAllowance.replace(/NGN|,/g,""),"consolidated-salary":e[b].consolSalary.replace(/NGN|,/g,""),"monthly-total":v,"annual-total-emolument-adjusted":S};this.rmasList2.push(T)}var U=[{"serial-no":"T9999",pin:a.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-name":a.lastEmployerCode,"basic-salary":this.helperService.formatNaira(i).replace(/\u20a6|,/g,""),"housing-rent":this.helperService.formatNaira(o).replace(/\u20a6|,/g,""),transport:this.helperService.formatNaira(s).replace(/\u20a6|,/g,""),utility:this.helperService.formatNaira(c).replace(/\u20a6|,/g,""),"consolidated-allowance":this.helperService.formatNaira(l).replace(/\u20a6|,/g,""),"consolidated-salary":this.helperService.formatNaira(d).replace(/\u20a6|,/g,""),"monthly-total":this.helperService.formatNaira(g).replace(/\u20a6|,/g,""),"annual-total-emolument-adjusted":this.helperService.formatNaira(f).replace(/\u20a6|,/g,"")}];this.rmasList2=this.rmasList2.concat(U);var E=[{"serial-no":"1",pin:a.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-name":a.lastEmployerCode,"basic-salary":a.basic.replace(/NGN|,/g,""),"housing-rent":a.housing.replace(/NGN|,/g,""),transport:a.transport.replace(/NGN|,/g,""),utility:a.utility.replace(/NGN|,/g,""),"consolidated-allowance":a.consolAllowance.replace(/NGN|,/g,""),"consolidated-salary":a.consolSalary.replace(/NGN|,/g,""),"monthly-total":p,"annual-total-emolument-adjusted":m},{"serial-no":"T9999",pin:a.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),"employer-name":a.lastEmployerCode,"basic-salary":this.helperService.formatNaira(i).replace(/\u20a6|,/g,""),"housing-rent":this.helperService.formatNaira(o).replace(/\u20a6|,/g,""),transport:this.helperService.formatNaira(s).replace(/\u20a6|,/g,""),utility:this.helperService.formatNaira(c).replace(/\u20a6|,/g,""),"consolidated-allowance":this.helperService.formatNaira(l).replace(/\u20a6|,/g,""),"consolidated-salary":this.helperService.formatNaira(d).replace(/\u20a6|,/g,""),"monthly-total":this.helperService.formatNaira(g).replace(/\u20a6|,/g,""),"annual-total-emolument-adjusted":this.helperService.formatNaira(f).replace(/\u20a6|,/g,"")}];if(n===h.j)var M="PFAAWBR101",C="PFAAWBR101.xsd",L="20100",R="Breakdown of Annual Total Emoluments for Retirement Benefits",P="10021",k=this.helperService.getTimeStamp(),O=this.datePipes.transform(k,"dd-MMM-yyyy");if(n===h.c){M="PFAAWBR701",C="PFAAWBR701.xsd",L="20100",R="Breakdown of Annual Total Emoluments for Withdrawal by Annuity",P="10021";var I=this.helperService.getTimeStamp();O=this.datePipes.transform(I,"dd-MMM-yyyy")}var x=u.parse("return",{"@":{"xmlns:rmas":"http://www.pencom.gov.ng/2011/XMLSchema/datatype","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:noNamespaceSchemaLocation":C},header:{"return-code":M,"return-desc":R,"as-at-date":O,"operator-code":P},body:{scheme:[{code:L,data:this.rmasList2},{code:"20101",data:E}]}},{declaration:{encoding:"utf-8"}});return console.log(x),this.service.saveAsFile(x,M+".xml",'text/xml;encoding="utf-8"')}},{key:"exportRMASToExcel",value:function(){for(var e=this,t=0;t<this.taskList.length;t++){this.taskList[t].serialNo=t+1,this.taskList[t].sex="Male"==this.taskList[t].sex?1:0;var r=Number(this.taskList[t].netAmount.replace(/NGN|,/g,""))-Number(this.taskList[t].investIncome.replace(/NGN|,/g,"")),n=this.helperService.formatNaira(r).replace(/\u20a6|,/g,"");this.taskList[t].contribute=n}var a=this.penReport.applicationType,i=[];if(a===h.k){var o="PFAAWBR500",s={data:[{A:"RSA Data"},{A:"serial-no",B:"pin",C:"employer-code",D:"gender",E:"birth-date",F:"disengagement-date",G:"rsa-balance",H:"twentyfive-percent-rsa-balance"}],skipHeader:!0};this.taskList.forEach((function(t){s.data.push({A:t.serialNo,B:t.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),C:t.lastEmployerCode,D:t.sex,E:e.datePipes.transform(t.dateofBirth,"dd-MMM-yyyy"),F:e.datePipes.transform(t.dateOfExit,"dd-MMM-yyyy"),G:4*Number(t.netAmount.replace(/NGN|,/g,"")),H:t.netAmount.replace(/NGN|,/g,"")})})),i.push(s)}else if(a===h.g){o="PFAAWBR400";var c={data:[{A:"RSA Data"},{A:"serial-no",B:"pin",C:"employer-code",D:"nationality",E:"gender",F:"birth-date",G:"retirement-date",H:"reason-for-payment",I:"rsa-balance",J:"enbloc-payment"}],skipHeader:!0};this.taskList.forEach((function(t){c.data.push({A:t.serialNo,B:t.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),C:t.lastEmployerCode,D:"ng",E:t.sex,F:e.datePipes.transform(t.dateofBirth,"dd-MMM-yyyy"),G:e.datePipes.transform(t.dateOfExit,"dd-MMM-yyyy"),H:3,I:t.netAmount.replace(/NGN|,/g,""),J:t.netAmount.replace(/NGN|,/g,"")})})),i.push(c)}else if(a===h.e){o="PFAAWBR600";for(var l=this.taskList,u=0;u<l.length;u++){var d=new Date(this.datePipes.transform(l[u].dateOfExit,"yyyy-MM-dd")),p=new Date(this.datePipes.transform(l[u].deathDate,"yyyy-MM-dd"));d.getTime()>p.getTime()&&(l[u].dateOfExit=l[u].deathDate);var m=Number(l[u].netAmount.replace(/NGN|,/g,""))-Number(l[u].investIncome.replace(/NGN|,/g,""));l[u].cntrAmot=this.helperService.formatNaira(m).replace(/\u20a6|,/g,"")}var g={data:[{A:"RSA Data"},{A:"serial-no",B:"name",C:"pin-dba",D:"gender",E:"employer-code",F:"retirement-date",G:"death-date",H:"administration-letter-issuing-authority",I:"administration-letter-date",J:"administration-letter-named-administrator-nok",K:"life-insurance-proceed",L:"accured-right",M:"contributions",N:"investment-income",O:"total-rsa-balance",P:"remark"}],skipHeader:!0};l.forEach((function(t){g.data.push({A:t.serialNo,B:(t.surname+" "+t.firstName+" "+t.otherNames).replace(/[^a-zA-Z0-9]/g," "),C:t.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),D:t.sex,E:t.lastEmployerCode,F:e.datePipes.transform(t.dateOfExit,"dd-MMM-yyyy"),G:e.datePipes.transform(t.deathDate,"dd-MMM-yyyy"),H:t.adminLetterAuth.replace(/[^a-zA-Z0-9]/g," "),I:e.datePipes.transform(t.adminLetterDate,"dd-MMM-yyyy"),J:t.namedAdminNOK.replace(/[^a-zA-Z0-9]/g," "),K:t.lifeInsurance,L:0,M:t.cntrAmot,N:t.investIncome,O:t.netAmount.replace(/NGN|,/g,""),P:t.remarksQ8R8})})),i.push(g)}else if(a===h.i){o="PFAAWBR300";var f={data:[{A:"RSA Data"},{A:"serial-no",B:"pin",C:"employer-code",D:"retirement-date",E:"enbloc-payment"}],skipHeader:!0};this.taskList.forEach((function(t){f.data.push({A:t.serialNo,B:t.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),C:t.lastEmployerCode,D:e.datePipes.transform(t.dateOfExit,"dd-MMM-yyyy"),E:t.netAmount.replace(/NGN|,/g,"")})})),i.push(f)}else if(a===h.c){o="PFAAWBR700";for(var b="PFAAWBR701",y=this.taskList,N=0;N<y.length;N++){var v=y[N].sector.toUpperCase();if(null!==y[N].dateOfInflow&&""!==y[N].dateOfInflow||(y[N].dateOfInflow=this.helperService.getTimeStamp()),"NaN"===this.helperService.formatNaira(y[N].accruedRight.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(y[N].accruedRight="0.00"),"NaN"===this.helperService.formatNaira(y[N].basic.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(y[N].basic="0.00"),"NaN"===this.helperService.formatNaira(y[N].housing.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(y[N].housing="0.00"),"NaN"===this.helperService.formatNaira(y[N].transport.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(y[N].transport="0.00"),"NaN"===this.helperService.formatNaira(y[N].consolSalary.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(y[N].consolSalary="0.00"),"NaN"===this.helperService.formatNaira(y[N].utility.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(y[N].utility="0.00"),"NaN"===this.helperService.formatNaira(y[N].consolAllowance.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(y[N].consolAllowance="0.00"),"PRIVATE"===v)var A=Number(y[N].basic.replace(/NGN|,/g,""))+Number(y[N].housing.replace(/NGN|,/g,""))+Number(y[N].transport.replace(/NGN|,/g,""));else A=Number(y[N].consolSalary.replace(/NGN|,/g,""))/2;var S=12*Number(A);y[N].montTotalAnul2=S}var T={data:[{A:"RSA Data"},{A:"serial-no",B:"pin",C:"employer-code",D:"birth-date",E:"retirement-date",F:"insurance-company-name",G:"annuity-commencement-date",H:"annual-total-emolument",I:"rsa-balance",J:"premium",K:"lumpsum",L:"monthly-annuity"}],skipHeader:!0};y.forEach((function(t){T.data.push({A:t.serialNo,B:t.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),C:t.lastEmployerCode,D:e.datePipes.transform(t.dateofBirth,"dd-MMM-yyyy"),E:e.datePipes.transform(t.dateOfExit,"dd-MMM-yyyy"),F:t.insuranceCoy,G:e.datePipes.transform(t.dateOfInflow,"dd-MMM-yyyy"),H:e.helperService.formatNaira(t.montTotalAnul2).replace(/\u20a6|,/g,""),I:t.requestedAmount.replace(/NGN|,/g,""),J:t.addPremium.replace(/NGN|,/g,""),K:t.recommendLupsum.replace(/NGN|,/g,""),L:t.monthlyAnnuity.replace(/NGN|,/g,"")})})),i.push(T),this.getAllowanceRMAStoExcel(y,b)}else if(a===h.j){o="PFAAWBR100",b="PFAAWBR101";for(var U=this.taskList,E=0;E<U.length;E++){var M=U[E].sector.toUpperCase();null!==U[E].dateOfInflow&&""!==U[E].dateOfInflow||(U[E].dateOfInflow=this.helperService.getTimeStamp()),"NaN"===this.helperService.formatNaira(U[E].accruedRight.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(U[E].accruedRight="0.00"),"NaN"===this.helperService.formatNaira(U[E].basic.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(U[E].basic="0.00"),"NaN"===this.helperService.formatNaira(U[E].housing.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(U[E].housing="0.00"),"NaN"===this.helperService.formatNaira(U[E].transport.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(U[E].transport="0.00"),"NaN"===this.helperService.formatNaira(U[E].consolSalary.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(U[E].consolSalary="0.00"),"NaN"===this.helperService.formatNaira(U[E].utility.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(U[E].utility="0.00"),"NaN"===this.helperService.formatNaira(U[E].consolAllowance.replace(/NGN|,/g,"")).replace(/\u20a6|,/g,"")&&(U[E].consolAllowance="0.00"),A="PRIVATE"===M?Number(U[E].basic.replace(/NGN|,/g,""))+Number(U[E].housing.replace(/NGN|,/g,""))+Number(U[E].transport.replace(/NGN|,/g,"")):Number(U[E].consolSalary.replace(/NGN|,/g,""))/2;var C=12*Number(A);U[E].montTotalAnul2=C}var L={data:[{A:"RSA Data"},{A:"serial-no",B:"pin",C:"employer-code",D:"birth-date",E:"retirement-date",F:"retirement-age",G:"gender",H:"retirement-ground",I:"annual-total-emolument",J:"accrued-right",K:"rsa-balance",L:"recommended-lumpsum",M:"monthly-programed-drawndown"}],skipHeader:!0};this.taskList.forEach((function(t){L.data.push({A:t.serialNo,B:t.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),C:t.lastEmployerCode,D:e.datePipes.transform(t.dateofBirth,"dd-MMM-yyyy"),E:e.datePipes.transform(t.dateOfExit,"dd-MMM-yyyy"),F:t.retirementAge,G:t.sex,H:"1",I:e.helperService.formatNaira(t.montTotalAnul2).replace(/\u20a6|,/g,""),J:t.accruedRight,K:t.requestedAmount.replace(/NGN|,/g,""),L:t.recommendLupsum.replace(/NGN|,/g,""),M:t.monthlyTotal.replace(/NGN|,/g,"")})})),i.push(L),this.getAllowanceRMAStoExcel(U,b)}this.service.exportJsonToExcel(i,o)}},{key:"getAllowanceRMAStoExcel",value:function(e,t){for(var r=[],n=0;n<e.length;n++){var a=e[n].sector.toUpperCase();if("PRIVATE"===a||"PRIVATE"!==a&&(Number(e[n].basic.replace(/NGN|,/g,""))>0||Number(e[n].housing.replace(/NGN|,/g,""))>0||Number(e[n].transport.replace(/NGN|,/g,""))>0)){var i=Number(e[n].basic.replace(/NGN|,/g,""))+Number(e[n].housing.replace(/NGN|,/g,""))+Number(e[n].transport.replace(/NGN|,/g,"")),o=this.helperService.formatNaira(i).replace(/\u20a6|,/g,"");e[n].montTotal3=this.helperService.formatNaira(i).replace(/\u20a6|,/g,"")}else i=Number(e[n].consolSalary.replace(/NGN|,/g,""))/2,o=this.helperService.formatNaira(i).replace(/\u20a6|,/g,""),e[n].montTotal3=this.helperService.formatNaira(i).replace(/\u20a6|,/g,"");var s=12*Number(o);e[n].montTotalAnul3=this.helperService.formatNaira(s).replace(/\u20a6|,/g,"")}var c={data:[{A:"RSA Data"},{A:"serial-no",B:"pin",C:"employer-name",D:"basic-salary",E:"housing-rent",F:"transport",G:"utility",H:"consolidated-allowance",I:"consolidated-salary",J:"monthly-total",K:"annual-total-emolument-adjusted"}],skipHeader:!0};e.forEach((function(e){c.data.push({A:e.serialNo,B:e.rsapin.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),C:e.lastEmployerCode,D:e.basic,E:e.housing,F:e.transport,G:e.utility,H:e.consolAllowance.replace(/NGN|,/g,""),I:e.consolSalary.replace(/NGN|,/g,""),J:e.montTotal3,K:e.montTotalAnul3})})),r.push(c),this.service.exportJsonToExcel(r,t)}},{key:"exportToExcel",value:function(){for(var e=0;e<this.taskList.length;e++)this.taskList[e].serialNo=e+1;var t=this.penReport.applicationType,r=[];if(t===h.k){var n={data:[{A:"RSA Data"},{A:"S/N",B:"NAMES",C:"EX-EMPLOYER",D:"PFA",E:"PIN",F:"Date of Disengament",G:"Period Month",H:"Gender",I:"Date of Birth",J:"Age",K:"Reason",L:"RSA Balance",M:"Estimated 25% (N)",N:"Severance",O:"Statement",P:"Sector",Q:"Employer Code"}],skipHeader:!0};this.taskList.forEach((function(e){n.data.push({A:e.serialNo,B:e.surname+" "+e.firstName+" "+e.otherNames,C:e.lastEmployer,D:"STANBIC IBTC",E:e.rsapin,F:e.dateOfExit,G:e.monthsPeriod,H:e.sex,I:e.dateofBirth,J:e.retirementAge,K:e.modeOfExit,L:e.requestedAmount.replace(/NGN|,/g,""),M:e.netAmount.replace(/NGN|,/g,""),N:e.severanceLetter,O:e.accountStatement,P:e.sector,Q:e.lastEmployerCode})})),r.push(n)}else if(t===h.g||t===h.a){var a={data:[{A:"RSA Data"},{A:"S/N",B:"NAMES",C:"PIN",D:"PFA",E:"Age at Retirement",F:"Sex",G:"Date of Retirment",H:"Employer",I:"RSA Balance",J:"Date of Birth",K:"Reason",L:"Severance Letter",M:"Statment of Account",N:"Sector",O:"Employer Code"}],skipHeader:!0};this.taskList.forEach((function(e){a.data.push({A:e.serialNo,B:e.surname+" "+e.firstName+" "+e.otherNames,C:e.rsapin,D:e.pfa,E:e.retirementAge,F:e.sex,G:e.dateOfExit,H:e.lastEmployer,I:e.netAmount.replace(/NGN|,/g,""),J:e.dateofBirth,K:e.modeOfExit,L:e.severanceLetter,M:e.accountStatement,N:e.sector,O:e.lastEmployerCode})})),r.push(a)}else if(t==h.e){var i={data:[{A:"RSA Data"},{A:"S/N",B:"PIN",C:"NAMES",D:"GENDER",E:"EMPLOYER NAME",F:"EMPLOYER CODE",G:"DATE OF RETIREMENT",H:"DATE OF DEATH",I:"LETTER OF ADMINISTRATION ISSUING AUTHORITY",J:"DATE OF LETTER ADMINISTRATION",K:"NAMED ADMINISTRATOR/NOK",L:"TOTAL DEATH BENEFITS APPROVED ON RMAS (=N=)",M:"CUMULATIVE DEATH BENEFITS PAID WITHOUT COMMISSIONS APPROVAL(=N =)",N:"TOTAL RSA BALANCE (=N=)",O:"REMARK (WHERE Q8 AND R8 ARE NOT EQUAL)"}],skipHeader:!0};this.taskList.forEach((function(e){i.data.push({A:e.serialNo,B:e.surname+" "+e.firstName+" "+e.otherNames,C:e.rsapin,D:e.sex,E:e.lastEmployer,F:e.lastEmployerCode,G:e.dateOfExit,H:e.deathDate,I:e.adminLetterAuth,J:e.adminLetterDate,K:e.namedAdminNOK,L:e.netAmount.replace(/NGN|,/g,""),M:e.deathBenefitsPWCA,N:e.requestedAmount.replace(/NGN|,/g,""),O:e.remarksQ8R8})})),r.push(i)}else if(t===h.i){var o={data:[{A:"RSA Data"},{A:"S/N",B:"NAMES",C:"PIN",D:"EX-EMPLOYER",E:"PFA",F:"SEX",G:"DATE LEGACY PURCHASED",H:"AMOUNT PAYABLE",I:"SECTOR",J:"EMPLOYER CODE"}],skipHeader:!0};this.taskList.forEach((function(e){o.data.push({A:e.serialNo,B:e.surname+" "+e.firstName+" "+e.otherNames,C:e.rsapin,D:e.lastEmployer,E:e.pfa,F:e.sex,G:e.dateLegacyPurch,H:e.netAmount.replace(/NGN|,/g,""),I:e.sector,J:e.lastEmployerCode})})),r.push(o)}else if(t===h.f){var s={data:[{A:"RSA Data"},{A:"S/N",B:"NAMES",C:"PIN",D:"GENDER",E:"MDA",F:"PFA",G:"DATE OF RETIREMENT",H:"RSA BALANCE",I:"REASON FOR EXEMPTION"}],skipHeader:!0};this.taskList.forEach((function(e){s.data.push({A:e.serialNo,B:e.surname+" "+e.firstName+" "+e.otherNames,C:e.rsapin,D:e.SEX,E:e.employeeMDA,F:e.pfa,G:e.dateOfExit,H:e.requestedAmount.replace(/NGN|,/g,""),I:e.modeOfExit})})),r.push(s)}else if(t===h.c){var c={data:[{A:"RSA Data"},{A:"S/N",B:"NAMES",C:"PIN",D:"PFA",E:"AGE",F:"SEX",G:"EMPLOYER NAME",H:"SECTOR",I:"INSURANCE COMPANY",J:"OLD RSA BALANCE",K:"NEW RSA BALANCE",L:"Additional Remittance",M:"OLD LUMPSUM",N:"ADDITIONAL LUMPSUM",O:"ADDITIONAL PREMIUM",P:"ADDITIONAL ANNUITY",Q:"TOTAL ANNUITY",R:"EMPLOYER CODE"}],skipHeader:!0};this.taskList.forEach((function(e){c.data.push({A:e.serialNo,B:e.surname+" "+e.firstName+" "+e.otherNames,C:e.rsapin,D:e.pfa,E:e.retirementAge,F:e.sex,G:e.lastEmployer,H:e.sector,I:e.insuranceCoy,J:e.oldRAAmount,K:e.requestedAmount.replace(/NGN|,/g,""),L:e.addRemitance,M:e.oldLumpsum,N:e.addLumpsum,O:e.addPremium,P:e.addAnnuity,Q:e.netAmount.replace(/NGN|,/g,""),R:e.lastEmployerCode})})),r.push(c)}else if(t===h.j){var l={data:[{A:"RSA Data"},{A:"S/N",B:"PIN",C:"NAMES",D:"PFA",E:"EMPLOYER NAME",F:"EMPLOYER CODE",G:"AGE",H:"REQUEST DATE",I:"GENDER",J:"DATE OF BIRTH",K:"DATE OF RETIREMENT",L:"DATE OF INFLOW",M:"RSA BALANCE BEFORE INFLOW",N:"ADDITIONAL INFLOW",O:"CURRENT RSA BALANCE",P:"CURRENT PENSION",Q:"INITIAL ANNUAL SALARY APPROVED",R:"MINIMUM PENSION PAYOUT",S:"NEW PENSION",T:"AVAILABLE LUMPSUM",U:"MAXIMUM POSSIBLE PENSION",V:"NEGOTIATED LUMPSUM",W:"FREQUENCY OF PAYMENT"}],skipHeader:!0};this.taskList.forEach((function(e){l.data.push({A:e.serialNo,B:e.rsapin,C:e.surname+" "+e.firstName+" "+e.otherNames,D:e.pfa,E:e.lastEmployer,F:e.lastEmployerCode,G:e.retirementAge,H:e.createdDate,I:e.sex,J:e.dateofBirth,K:e.dateOfExit,L:e.dateOfInflow,M:e.oldRAAmount,N:e.addLumpsum,O:e.requestedAmount.replace(/NGN|,/g,""),P:e.netAmount.replace(/NGN|,/g,""),Q:e.annSalaryApproved,R:e.mmPensionPay,S:e.newPension,T:e.availLupsum,U:e.maxmPossbPension,V:e.negoLumpsum,W:e.freqcyPayment})})),r.push(l)}else if(t===h.l){var u={data:[{A:"RSA Data"},{A:"S/N",B:"NAMES",C:"PIN",D:"DATE OF EMPLOYMENT",E:"DATE OF BIRTH",F:"DATE OF RETIREMENT",G:"EMPLOYER NAME",H:"EMPLOYER CODE",I:"SECTOR",J:"VC CATEGORY",K:"DATE OF LAST WITHDRAWAL",L:"DATE OF CURRENT DEPOSIT",M:"TOTAL VC BALANCE (CONTINGENT VC BALANCE) (N)",N:"TENOR (IN MONTHS HELD)",O:"AVERAGE UNIT PRICE AT ENTRY (N)",P:"TOTAL UNITS CREATED AT ENTRY",Q:"TOTAL AMOUNT REQUESTED",R:"UNIT PRICE AT EXIT (N)",S:"NON TAXABLE AMOUNT (N)",T:"TAXABLE AMOUNT PAYABLE AT EXIT (N)",U:"INTEREST (P)",V:"TAX (Q)",W:"NET AMOUNT PAYABLE (R)",X:"REMARK"}],skipHeader:!0};this.taskList.forEach((function(e){u.data.push({A:e.serialNo,B:e.surname+" "+e.firstName+" "+e.otherNames,C:e.rsapin,D:e.fAppointmentDate,E:e.dateofBirth,F:e.retirementAge,G:e.lastEmployer,H:e.lastEmployerCode,I:e.sector,J:e.vcCategory,K:e.withdrawalDate,L:e.curDepositDate,M:e.oldRAAmount,N:e.tenorMonth,O:e.avgPriceEntry,P:e.unitEntry,Q:e.requestedAmount.replace(/NGN|,/g,""),R:e.unitPriceExit,S:e.ntaxAmount,T:e.taxableAmount,U:e.vcInterest,V:e.vcTax,W:e.netAmount.replace(/NGN|,/g,""),X:e.initiatorComment})})),r.push(u)}else if(t===h.d){var d={data:[{A:"RSA Data"},{A:"S/N",B:"FULL NAME OF DECEASED",C:"SEX",D:"PIN/DBA NO",E:"EMPLOYER CODE",F:"NAME OF EMPLOYER",G:"DATE OF DEATH",H:"DATE OF BIRTH",I:"DATE OF FIRST APPOINTMENT",J:"SALARY STRUCTURE AS AT JUNE, 2004",K:"GL AS AT JUNE, 2004",L:"STEP AS AT JUNE, 2004",M:"SALARY STRUCTURE AS AT JAN, 2007",N:"GL\xa0 AS\xa0 AT JAN, 2007",O:"STEP AS AT JAN. 2007",P:"SALARY STRUCTURE AS AT JULY, 2010",Q:"GL AS AT JULY, 2010",R:"STEP AS AT JULY, 2010",S:"SALARY STRUCTURE AS\xa0 AT DEC, 2013",T:"GL AS AT DEC, 2013",U:"STEP AS AT DEC 13",V:"SALARY STRUCTURE AS\xa0 AT DEC, 2017",W:"GL AS AT DEC, 2017",X:"STEP AS AT DEC 17",Y:"SALARY STRUCTURE AS AT PCURRENT YEAR",Z:"GL AS AT AS AT PCURRENT YEAR",AA:"STEP AS AT PCURRENT YEAR",AB:"SALARY STRUCTURE AS AT MONTH OF DEATH",AC:"GL AS AT AS AT MONTH OF DEATH",AD:"STEP AS AT MONTH OF DEATH"}],skipHeader:!0};this.taskList.forEach((function(e){d.data.push({A:e.serialNo,B:e.surname+" "+e.firstName+" "+e.otherNames,C:e.sex,D:e.rsapin,E:e.lastEmployerCode,F:e.lastEmployer,G:e.deathDate,H:e.dateofBirth,I:e.fAppointmentDate,J:"",K:"",L:"",M:"",N:"",O:"",P:"",Q:"",R:"",S:"",T:"",U:"",V:"",W:"",X:"",Y:"",Z:"",AA:"",AB:"",AC:"",AD:""})})),r.push(d)}this.service.exportJsonToExcel(r,t)}},{key:"exportToCsv",value:function(){this.service.exportToCsv(this.taskList,"rsa-data",["workflowRequestID","applicationType","current_Approver","approval_Status"])}}])}()).\u0275fac=function(e){return new(e||D)(m.Pb(g.a),m.Pb(f.a),m.Pb(n.e),m.Pb(c.c))},D.\u0275cmp=m.Jb({type:D,selectors:[["app-rsa-report"]],decls:39,vars:17,consts:[[4,"ngIf"],["novalidate","",3,"ngSubmit"],["submitForm","ngForm"],["class","row",4,"ngIf"],[1,"mb-3"],["type","button",1,"btn","btn-warning","mb-4",3,"click"],["class","btn btn-sm font-weight-bold btn-link",3,"click",4,"ngIf"],["class","table batch-table table-striped",4,"ngIf"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"collectionSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],[1,"row"],[1,"col-4","gName"],["name","appType","required","","placeholder","d.ff",1,"form-control",3,"ngModel","ngModelChange","change"],["appType","ngModel"],["hidden","","value","","disabled","","selected",""],["color","danger"],["id","error",3,"hidden"],["appearance","fill"],["matInput","","required","","name","subMode","placeholder","Choose a date",3,"matDatepicker","max","ngModel","ngModelChange","dateInput"],["subMode","ngModel"],["matSuffix","",3,"for"],["color","primary"],["picker1",""],["name","subMode","required","","placeholder","d.ff",1,"form-control",3,"ngModel","ngModelChange","change"],["id","search","type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-sm","font-weight-bold","btn-link",3,"click"],[1,"table","batch-table","table-striped"],[3,"click"],[1,"btn","btn-success",3,"click"],["id","spacer"],[1,"btn","btn-warning",3,"click"]],template:function(e,t){if(1&e){var r=m.Vb();m.Fc(0,N,3,0,"div",0),m.Ub(1,"form",1,2),m.gc("ngSubmit",(function(){m.yc(r);var e=m.xc(2);return t.search(e)})),m.Fc(3,S,35,11,"div",3),m.Tb(),m.Ub(4,"div",4),m.Fc(5,T,3,0,"div",0),m.Ub(6,"div"),m.Ub(7,"button",5),m.gc("click",(function(){return t.updateEmpCode()})),m.Hc(8,"Update Emp Code "),m.Tb(),m.Tb(),m.Tb(),m.Fc(9,U,2,0,"button",6),m.Fc(10,E,2,0,"button",6),m.Fc(11,M,2,0,"button",6),m.Fc(12,C,2,0,"h4",0),m.Fc(13,k,20,2,"table",7),m.Ub(14,"table",8),m.Ub(15,"thead"),m.Ub(16,"tr"),m.Ub(17,"td"),m.Hc(18,"S/N"),m.Tb(),m.Ub(19,"td"),m.Hc(20,"Reference Code"),m.Tb(),m.Ub(21,"td"),m.Hc(22,"Application Name"),m.Tb(),m.Ub(23,"td"),m.Hc(24,"Mode of Submission"),m.Tb(),m.Ub(25,"td"),m.Hc(26,"Employer Code"),m.Tb(),m.Ub(27,"td"),m.Hc(28,"RSA Pin"),m.Tb(),m.Ub(29,"td"),m.Hc(30,"Status"),m.Tb(),m.Ub(31,"td"),m.Hc(32,"Request Date"),m.Tb(),m.Fc(33,O,2,0,"td",0),m.Tb(),m.Tb(),m.Ub(34,"tbody"),m.Fc(35,x,20,12,"tr",9),m.Tb(),m.Tb(),m.Ub(36,"ngb-pagination",10),m.gc("pageChange",(function(e){return t.page=e})),m.Tb(),m.Ub(37,"pre"),m.Hc(38),m.Tb()}2&e&&(m.qc("ngIf",t.isBMULead),m.Bb(3),m.qc("ngIf",t.isShowComm),m.Bb(2),m.qc("ngIf",t.isShowComm),m.Bb(4),m.qc("ngIf",t.isHardCopy),m.Bb(1),m.qc("ngIf",t.isRmas),m.Bb(1),m.qc("ngIf",t.isRmas),m.Bb(1),m.qc("ngIf",t.taskBatch.length>0),m.Bb(1),m.qc("ngIf",t.taskBatch.length>0),m.Bb(20),m.qc("ngIf",t.isShowComm),m.Bb(2),m.qc("ngForOf",t.taskList),m.Bb(1),m.qc("collectionSize",t.taskList.length)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0),m.Bb(2),m.Jc("Current page: ",t.page,""))},directives:[n.m,b.x,b.m,b.n,n.l,a.l,b.u,b.t,b.l,b.o,b.p,b.w,y.b,i.b,o.b,b.c,o.d,y.e,o.a],pipes:[n.e],styles:["h5[_ngcontent-%COMP%]{color:#fff;padding:4px;background-color:#0033a1;width:100%;text-align:center}#error[_ngcontent-%COMP%]{color:red}thead[_ngcontent-%COMP%]{color:#fff;padding:4px;background-color:#0033a1;width:100%}.row[_ngcontent-%COMP%]   .col.col-3[_ngcontent-%COMP%]{margin-top:20px}.gName[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}a[_ngcontent-%COMP%]{color:#0033a1!important}a[_ngcontent-%COMP%]:hover{text-decoration:underline!important}h4[_ngcontent-%COMP%]{margin-top:25px}.batch-table[_ngcontent-%COMP%]{margin-bottom:30px}#spacer[_ngcontent-%COMP%]{margin:2vh}td[_ngcontent-%COMP%]{text-align:center}#search[_ngcontent-%COMP%]{margin-bottom:5vh}#btn[_ngcontent-%COMP%]{color:#fff;background-color:#0033a1;margin-bottom:2vh}"]}),D);function B(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.name," ")}}function _(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",11),m.Ub(1,"label"),m.Hc(2,"Approvers"),m.Tb(),m.Ub(3,"select",12,13),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().reRoute.batchUserLogin=e}))("change",(function(e){return m.yc(r),m.kc().getUserName(e)})),m.Ub(5,"option",14),m.Hc(6,"Select Approver Name"),m.Tb(),m.Fc(7,B,2,1,"option",9),m.Tb(),m.Ub(8,"div",15),m.Ub(9,"p",16),m.Hc(10," Approver name is required "),m.Tb(),m.Tb(),m.Tb()}if(2&e){var n=m.xc(4),a=m.kc();m.Bb(3),m.qc("ngModel",a.reRoute.batchUserLogin),m.Bb(4),m.qc("ngForOf",a.userList),m.Bb(2),m.qc("hidden",n.valid||!1===a.submitted)}}function F(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",17),m.Ub(1,"label"),m.Hc(2,"Comment"),m.Tb(),m.Ub(3,"textarea",18,19),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().reRoute.comment=e})),m.Tb(),m.Ub(5,"div",15),m.Ub(6,"p",16),m.Hc(7," Comment is required "),m.Tb(),m.Tb(),m.Tb()}if(2&e){var n=m.xc(4),a=m.kc();m.Bb(3),m.qc("ngModel",a.reRoute.comment),m.Bb(3),m.qc("hidden",n.valid||!1===a.submitted)}}function H(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.name," ")}}function G(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",11),m.Ub(1,"label"),m.Hc(2,"Re-route Option"),m.Tb(),m.Ub(3,"select",20,21),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().reRoute.reRouteOption=e}))("change",(function(e){return m.yc(r),m.kc().getRerouteOption(e)})),m.Ub(5,"option",14),m.Hc(6,"Select route Option"),m.Tb(),m.Fc(7,H,2,1,"option",9),m.Tb(),m.Ub(8,"div",15),m.Ub(9,"p",16),m.Hc(10," Re-route option is required "),m.Tb(),m.Tb(),m.Tb()}if(2&e){var n=m.xc(4),a=m.kc();m.Bb(3),m.qc("ngModel",a.reRoute.reRouteOption),m.Bb(4),m.qc("ngForOf",a.routeOption),m.Bb(2),m.qc("hidden",n.valid||!1===a.submitted)}}function q(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.name," ")}}function j(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",11),m.Ub(1,"label"),m.Hc(2,"First Signatory"),m.Tb(),m.Ub(3,"select",22,23),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().reRoute.batchUserLogin5=e}))("change",(function(e){return m.yc(r),m.kc().getFirstSignatory(e)})),m.Ub(5,"option",14),m.Hc(6,"Select Signatory"),m.Tb(),m.Fc(7,q,2,1,"option",9),m.Tb(),m.Ub(8,"div",15),m.Ub(9,"p",16),m.Hc(10," Signatory name is required "),m.Tb(),m.Tb(),m.Tb()}if(2&e){var n=m.xc(4),a=m.kc();m.Bb(3),m.qc("ngModel",a.reRoute.batchUserLogin5),m.Bb(4),m.qc("ngForOf",a.signatoryUserList),m.Bb(2),m.qc("hidden",n.valid||!1===a.submitted)}}function V(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.name," ")}}function z(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",11),m.Ub(1,"label"),m.Hc(2,"Secondary Signatory"),m.Tb(),m.Ub(3,"select",24,25),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().reRoute.batchUserLogin6=e}))("change",(function(e){return m.yc(r),m.kc().getSecondSignatory(e)})),m.Ub(5,"option",14),m.Hc(6,"Select Signatory"),m.Tb(),m.Fc(7,V,2,1,"option",9),m.Tb(),m.Ub(8,"div",15),m.Ub(9,"p",16),m.Hc(10," Signatory name is required "),m.Tb(),m.Tb(),m.Tb()}if(2&e){var n=m.xc(4),a=m.kc();m.Bb(3),m.qc("ngModel",a.reRoute.batchUserLogin6),m.Bb(4),m.qc("ngForOf",a.signatoryList2),m.Bb(2),m.qc("hidden",n.valid||!1===a.submitted)}}function K(e,t){1&e&&(m.Ub(0,"h4"),m.Hc(1,"Re-route list"),m.Tb())}function X(e,t){if(1&e){var r=m.Vb();m.Ub(0,"td"),m.Ub(1,"button",28),m.gc("click",(function(){m.yc(r);var e=m.kc().index,t=m.kc(2);return t.removeToBatch(e,t.taskBatch[e])})),m.Hc(2,"Remove"),m.Tb(),m.Tb()}}function J(e,t){if(1&e){var r=m.Vb();m.Ub(0,"tr"),m.Ub(1,"td"),m.Hc(2),m.Tb(),m.Ub(3,"td"),m.Ub(4,"a",27),m.gc("click",(function(){m.yc(r);var e=t.$implicit;return m.kc(2).routeToPage(e.id)})),m.Hc(5),m.Tb(),m.Tb(),m.Ub(6,"td"),m.Hc(7),m.Tb(),m.Ub(8,"td"),m.Hc(9),m.Tb(),m.Ub(10,"td"),m.Hc(11),m.Tb(),m.Fc(12,X,3,0,"td",5),m.Tb()}if(2&e){var n=t.$implicit,a=t.index,i=m.kc(2);m.Bb(2),m.Ic(a+1),m.Bb(3),m.Ic(n.workflowRequestID),m.Bb(2),m.Ic(n.applicationType),m.Bb(2),m.Ic(n.rsapin),m.Bb(2),m.Ic(n.pencomApprovalNo),m.Bb(1),m.qc("ngIf",i.isBatch)}}function Q(e,t){if(1&e&&(m.Ub(0,"table",26),m.Ub(1,"thead"),m.Ub(2,"tr"),m.Ub(3,"td"),m.Hc(4,"S/N"),m.Tb(),m.Ub(5,"td"),m.Hc(6,"Reference Code"),m.Tb(),m.Ub(7,"td"),m.Hc(8,"Application Name"),m.Tb(),m.Ub(9,"td"),m.Hc(10,"RSA Pin"),m.Tb(),m.Ub(11,"td"),m.Hc(12,"Approval Serial No"),m.Tb(),m.Ub(13,"td"),m.Hc(14,"Actions"),m.Tb(),m.Tb(),m.Tb(),m.Ub(15,"tbody"),m.Fc(16,J,13,6,"tr",9),m.Tb(),m.Tb()),2&e){var r=m.kc();m.Bb(16),m.qc("ngForOf",r.taskBatch)}}function W(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",2),m.Ub(1,"div",29),m.Ub(2,"button",30),m.gc("click",(function(){return m.yc(r),m.kc().submit()})),m.Hc(3,"Submit"),m.Tb(),m.Tb(),m.Tb()}}function Y(e,t){1&e&&(m.Ub(0,"td"),m.Hc(1,"First Signatory"),m.Tb())}function Z(e,t){1&e&&(m.Ub(0,"td"),m.Hc(1,"1st Sign. Date"),m.Tb())}function $(e,t){1&e&&(m.Ub(0,"td"),m.Hc(1,"Second Signatory"),m.Tb())}function ee(e,t){1&e&&(m.Ub(0,"td"),m.Hc(1,"2nd Sign. Date"),m.Tb())}function te(e,t){1&e&&(m.Ub(0,"td"),m.Hc(1,"Check In"),m.Tb())}function re(e,t){1&e&&(m.Ub(0,"td"),m.Hc(1,"Actions"),m.Tb())}function ne(e,t){if(1&e&&(m.Ub(0,"td"),m.Hc(1),m.Tb()),2&e){var r=m.kc().$implicit;m.Bb(1),m.Ic(r.batchUserName1)}}function ae(e,t){if(1&e&&(m.Ub(0,"td"),m.Hc(1),m.lc(2,"date"),m.Tb()),2&e){var r=m.kc().$implicit;m.Bb(1),m.Ic(m.nc(2,1,r.signatory1Date,"dd/MM/yyyy"))}}function ie(e,t){if(1&e&&(m.Ub(0,"td"),m.Hc(1),m.Tb()),2&e){var r=m.kc().$implicit;m.Bb(1),m.Ic(r.batchUserName2)}}function oe(e,t){if(1&e&&(m.Ub(0,"td"),m.Hc(1),m.lc(2,"date"),m.Tb()),2&e){var r=m.kc().$implicit;m.Bb(1),m.Ic(m.nc(2,1,r.signatory2Date,"dd/MM/yyyy"))}}function se(e,t){if(1&e){var r=m.Vb();m.Ub(0,"td"),m.Ub(1,"button",31),m.gc("click",(function(){m.yc(r);var e=m.kc().index,t=m.kc();return t.moveToCheckIn(e,t.taskList[e])})),m.Hc(2,"Check-In"),m.Tb(),m.Tb()}}function ce(e,t){if(1&e){var r=m.Vb();m.Ub(0,"td"),m.Qb(1,"span",32),m.Ub(2,"button",33),m.gc("click",(function(){m.yc(r);var e=m.kc().index,t=m.kc();return t.moveToBatch(e,t.taskList[e])})),m.Hc(3,"Re-route"),m.Tb(),m.Tb()}}function le(e,t){if(1&e){var r=m.Vb();m.Ub(0,"tr"),m.Ub(1,"td"),m.Hc(2),m.Tb(),m.Ub(3,"td"),m.Ub(4,"a",27),m.gc("click",(function(){m.yc(r);var e=t.$implicit;return m.kc().routeToPage(e.id)})),m.Hc(5),m.Tb(),m.Tb(),m.Ub(6,"td"),m.Hc(7),m.Tb(),m.Fc(8,ne,2,1,"td",5),m.Fc(9,ae,3,4,"td",5),m.Fc(10,ie,2,1,"td",5),m.Fc(11,oe,3,4,"td",5),m.Ub(12,"td"),m.Hc(13),m.Tb(),m.Ub(14,"td"),m.Hc(15),m.Tb(),m.Fc(16,se,3,0,"td",5),m.Fc(17,ce,4,0,"td",5),m.Tb()}if(2&e){var n=t.$implicit,a=t.index,i=m.kc();m.Bb(2),m.Ic(a+1),m.Bb(3),m.Ic(n.workflowRequestID),m.Bb(2),m.Ic(n.applicationType),m.Bb(1),m.qc("ngIf",i.isFundAcc),m.Bb(1),m.qc("ngIf",i.isFundAcc),m.Bb(1),m.qc("ngIf",i.isFundAcc),m.Bb(1),m.qc("ngIf",i.isFundAcc),m.Bb(2),m.Ic(n.pendingUserLogin),m.Bb(2),m.Ic(n.approval_Status),m.Bb(1),m.qc("ngIf",i.isCheckIn),m.Bb(1),m.qc("ngIf",i.isBatch)}}var ue,he=((ue=function(){return _createClass((function e(t,r,n){_classCallCheck(this,e),this.service=t,this.helperService=r,this.router=n,this.submitted=!1,this.isBMUMaker=!1,this.isBatch=!1,this.isFaBltd=!1,this.isFundAcc=!1,this.isCheckIn=!0,this.applicationType=[],this.taskBatch=[],this.tashBatchReq=[],this.taskList=[],this.userList=[],this.groupList=[],this.checkItem=[],this.routeOption=[],this.signatoryUserList=[],this.signatoryList2=[],this.signatList2=[],this.page=1,this.pageSize=10,this.reRoute={applicationType:"",currentUserLogin:"",currentUserName:"",currentUserEmail:"",batchUserLogin:"",batchUserEmail:"",batchUserName:"",batchNo:0,teamLeadAmount:"",unitHeadAmount:"",headDeptAmount:"",edOpertnAmount:"",batchUserLogin4:"",groupName:"",userRole:"",comment:"",actionTime:null,reRouteOption:"",batchUserLogin1:"",batchUserLogin2:"",batchUserLogin5:"",batchUserLogin6:"",batchUserName1:"",batchUserName2:"",batchUserEmail1:"",batchUserEmail2:"",batchUserRole1:"",batchUserRole2:""}}),[{key:"ngOnInit",value:function(){this.currentUserDetail(),this.getApplicationType()}},{key:"currentUserDetail",value:function(){var e=this;this.service.getIdentity("identity/GetCurrentUser").then((function(t){if(null!=t){console.log(t);var r=t.samAccountName;e.reRoute.currentUserName=t.displayName,e.reRoute.currentUserLogin=t.samAccountName,e.reRoute.currentUserEmail=t.emailAddress,e.getSettings(),e.initTaskList(r)}})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"getUserInGroupName",value:function(e){var t=this;this.service.get("DigiProRequest/GetUsersInGroup/".concat(e,"}")).then((function(r){null!=r&&(e==d.f?t.userList=r:e==d.m&&(t.signatoryUserList=r))})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"getSettings",value:function(){var e=this;this.service.get("RSASetting/1").then((function(t){null!=t&&(e.reRoute.batchNo=t.settings.batchNo,e.reRoute.teamLeadAmount=t.settings.teamLeadAmount,e.reRoute.unitHeadAmount=t.settings.headOfUnitAmount,e.reRoute.headDeptAmount=t.settings.headOfDepartmentAmount,e.reRoute.edOpertnAmount=t.settings.edOperationsAmount)})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"search",value:function(e){}},{key:"getApplicationType",value:function(){var e=this;this.service.get("RSAApplicationType").then((function(t){null!=t&&(e.applicationType=t)})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"initTaskList",value:function(e){var t=this;this.service.get("DigiProRequest/GetUserGroups/"+e).then((function(e){if(null!=e){t.groupList=e;var r=t.groupList,n=r.some((function(e){return e.groupName===d.a})),a=r.some((function(e){return e.groupName===d.e})),i=(r.some((function(e){return e.groupName===d.g})),r.some((function(e){return e.groupName===d.c}))),o=r.some((function(e){return e.groupName===d.b})),s=r.some((function(e){return e.groupName===d.l})),c=r.some((function(e){return e.groupName===d.j}));r.some((function(e){return e.groupName===d.m})),r.some((function(e){return e.groupName===d.f})),r.some((function(e){return e.groupName===d.o})),r.some((function(e){return e.groupName===d.h})),r.some((function(e){return e.groupName===d.i})),1==i&&(t.isBatch=!0,t.isBMUMaker=!0,t.isCheckIn=!1,t.getUserInGroupName(d.f),t.gettaskBMU("AA6")),1==o&&(t.isBatch=!1,t.isBMUMaker=!1,t.isFaBltd=!0,t.routeOption=[{code:"01",name:"CheckIn Maker"},{code:"02",name:"CheckIn BMU Team Lead"}],t.gettaskBMU("AA5")),1==c&&(t.isBatch=!0,t.isBMUMaker=!1,t.isFundAcc=!1,t.isFaBltd=!0,t.routeOption=[{code:"01",name:"Signatory"},{code:"02",name:"CheckIn FAC"}],t.getUserInGroupName("Signatory"),t.gettaskBMU("AA10")),1==s&&(t.isBatch=!1,t.isBMUMaker=!1,t.gettaskBMU("AA3")),1==n&&(t.isBatch=!1,t.isBMUMaker=!1,t.gettaskBMU("AA1")),1==a&&(t.isBatch=!1,t.isBMUMaker=!1,t.gettaskBMU("AA2"))}})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"gettaskBMU",value:function(e){var t=this;this.service.postUrl("RSARequest/MyBMULeadReport/"+e).then((function(e){if(console.log(e),null!=e){t.startMapping(e);var r=t.groupList.some((function(e){return"BMU Maker"==e.groupName})),n=t.reRoute.userRole;t.getUserListByAmount(n),""!=n&&1==r&&t.getUserListByAmount(n)}})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"gettaskSign",value:function(e){var t=this;this.service.postUrl("RSARequest/MyGroupNameReport/"+e).then((function(e){console.log(e),null!=e&&t.startMapping(e)})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"getUserListByAmount",value:function(e){if("Team Lead"==e){var t=this.reRoute.teamLeadAmount;this.taskList=this.taskList.filter((function(e){return Number(e.requestedAmount)<=Number(t)})),console.log(this.taskList)}else if("Head of Unit"==e){var r=this.reRoute.teamLeadAmount,n=this.reRoute.unitHeadAmount;this.taskList=this.taskList.filter((function(e){return Number(e.requestedAmount)>Number(r)&&Number(e.requestedAmount)<=Number(n)})),console.log(this.taskList)}else if("Head of Department"==e){var a=this.reRoute.unitHeadAmount,i=this.reRoute.headDeptAmount;this.taskList=this.taskList.filter((function(e){return e.requestedAmount>a&&e.requestedAmount<=i}))}else if("ED Operations"==e){var o=this.reRoute.edOpertnAmount;this.taskList.filter((function(e){return e.requestedAmount>=o}))}}},{key:"getRerouteOption",value:function(e){var t=e.target.selectedIndex;this.routeOpt=t,console.log(t),console.log(this.reRoute.reRouteOption);var r=this.reRoute.reRouteOption;"Signatory"===r?(this.isFundAcc=!0,this.isFaBltd=!0,this.isCheckIn=!1,this.gettaskSign("Signatory")):"CheckIn FAC"===r&&(this.isFundAcc=!1,this.isFaBltd=!0,this.gettaskBMU("AA10")),"CheckIn Maker"===r&&this.gettaskBMU("AA5"),"CheckIn BMU Team Leadr"===r&&this.gettaskBMU("AA4")}},{key:"getFirstSignatory",value:function(e){var t=this,r=e.target.selectedIndex,n=-1+r;this.signName=r,console.log(this.signatoryUserList[n]),this.reRoute.batchUserName1=this.signatoryUserList[n].name,this.reRoute.batchUserLogin1=this.signatoryUserList[n].login,this.reRoute.batchUserEmail1=this.signatoryUserList[n].email;var a=this.signatoryUserList[n].role;"Signatory A"==a&&"Signatory B"==this.reRoute.batchUserRole2?(this.helperService.showError("Please select signatory with signatory B role"),this.reRoute.batchUserLogin6=null):"Signatory A"==a?(this.signatList2=this.signatoryUserList.filter((function(e){return e.login!==t.reRoute.batchUserLogin1})),this.signatoryList2=this.signatList2.filter((function(e){return"Signatory B"!==e.role}))):this.signatoryList2=this.signatoryUserList.filter((function(e){return e.login!==t.reRoute.batchUserLogin1}))}},{key:"getSecondSignatory",value:function(e){var t=e.target.selectedIndex,r=-1+t;this.signName2=t,console.log(this.signatoryList2[r]),this.reRoute.batchUserName2=this.signatoryList2[r].name,this.reRoute.batchUserLogin2=this.signatoryList2[r].login,this.reRoute.batchUserEmail2=this.signatoryList2[r].email,this.reRoute.batchUserRole2=this.signatoryList2[r].role,console.log(this.reRoute)}},{key:"startMapping",value:function(e){this.taskList=e,this.taskList=this.taskList.sort((function(e,t){return t.id-e.id}));var t=this.groupList.some((function(e){return e.groupName==d.m})),r=this.groupList.some((function(e){return e.groupName==d.f}));0==t&&0==r&&(this.taskList=this.taskList.filter((function(e){return e.pendingUserLogin!==e.pendingUserEmail})))}},{key:"routeToPage",value:function(e){this.router.navigate(["approval-page",{id:e}])}},{key:"getAppType",value:function(e){var t=e.target.selectedIndex;this.appType=t,console.log(t),console.log(this.reRoute.applicationType)}},{key:"moveToCheckIn",value:function(e,t){this.checkItem.push(t),this.checkInItem(t)}},{key:"checkInItem",value:function(e){for(var t=this,r="RSARequest/UpdateRSARequest/"+e.id,n={comment:"Check in",email:this.reRoute.currentUserEmail,login:this.reRoute.currentUserLogin,name:this.reRoute.currentUserName,actionTime:this.reRoute.actionTime,rsaRequestID:e.id,stage:e.pendingUserEmail,signature:""},a=this.checkItem,i=0;i<a.length;i++)a[i].pendingUserLogin=e.pendingUserEmail;this.service.update(r,{rsaRequest:a[0],requestHistory:n}).then((function(e){console.log(e),null==e&&t.reloadCurrentRoute()})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e.error.message;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"reloadCurrentRoute",value:function(){var e=this,t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then((function(){e.router.navigate([t])}))}},{key:"moveToBatch",value:function(e,t){var r=this.reRoute.batchNo;"AA6"===t.current_Approver_Code?""!==this.reRoute.batchUserLogin?this.taskBatch.length<r?(this.taskList.splice(e,1),this.batchItem(t)):this.helperService.showError("You cannot move more than  "+r+"  tasks to batch list"):this.helperService.showError("Please select approver before you proceed"):"Signatory"===t.current_Approver&&(""!==this.reRoute.batchUserLogin5||""!==this.reRoute.batchUserLogin6?(this.taskList.splice(e,1),this.batchItem(t)):this.helperService.showError("Please select signatories before you proceed"))}},{key:"batchItem",value:function(e){this.taskBatch.push(e)}},{key:"removeToBatch",value:function(e,t){this.taskBatch.splice(e,1),this.taskList.push(t)}},{key:"submit",value:function(){var e=this,t=this.groupList.some((function(e){return"Fund Accounting"==e.groupName})),r=this.groupList.some((function(e){return"BMU Maker"==e.groupName})),n=this.groupList.map((function(e){return e.groupName}));console.log(this.reRoute);var a=this.taskBatch;if(1==r)for(var i=0;i<a.length;i++)a[i].pendingUserEmail=this.reRoute.batchUserEmail,a[i].pendingUserLogin=this.reRoute.batchUserLogin,a[i].batchUserEmail=this.reRoute.batchUserEmail,a[i].batchUserLogin=this.reRoute.batchUserLogin,a[i].batchUserName=this.reRoute.batchUserName,this.tashBatchReq.push({rsaRequestID:a[i].id,rsaRequest:a[i],requestHistory:{comment:this.reRoute.comment,email:this.reRoute.currentUserEmail,login:this.reRoute.currentUserLogin,name:this.reRoute.currentUserName,actionTime:this.reRoute.actionTime,rsaRequestID:a[i].id,stage:"BMU Maker",signature:""}});else if(1==t)for(var o=0;o<a.length;o++){var s=a[o].pendingUserLogin;s==a[o].batchUserLogin1&&(a[o].pendingUserLogin=this.reRoute.batchUserLogin1,a[o].pendingUserEmail=this.reRoute.batchUserEmail1),s==a[o].batchUserLogin2&&(a[o].pendingUserLogin=this.reRoute.batchUserLogin2,a[o].pendingUserEmail=this.reRoute.batchUserEmail2),a[o].batchUserEmail1=this.reRoute.batchUserEmail1,a[o].batchUserLogin1=this.reRoute.batchUserLogin1,a[o].batchUserName1=this.reRoute.batchUserName1,a[o].batchUserEmail2=this.reRoute.batchUserEmail2,a[o].batchUserLogin2=this.reRoute.batchUserLogin2,a[o].batchUserName2=this.reRoute.batchUserName2,this.tashBatchReq.push({rsaRequestID:a[o].id,rsaRequest:a[o],requestHistory:{comment:this.reRoute.comment,email:this.reRoute.currentUserEmail,login:this.reRoute.currentUserLogin,name:this.reRoute.currentUserName,actionTime:this.reRoute.actionTime,rsaRequestID:a[o].id,stage:n,signature:""}})}this.service.update("RSARequest/UpdateMultipleRSARequest",this.tashBatchReq).then((function(t){console.log(t),null==t&&e.reloadCurrentRoute()})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t.error.message;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"getUserName",value:function(e){var t=e.target.selectedIndex,r=-1+t;this.appName=t,console.log(this.userList[r]),this.reRoute.batchUserName=this.userList[r].name,this.reRoute.batchUserLogin=this.userList[r].login,this.reRoute.batchUserEmail=this.userList[r].email,this.reRoute.userRole=this.userList[r].role,console.log(this.reRoute),this.gettaskBMU("AA6")}}])}()).\u0275fac=function(e){return new(e||ue)(m.Pb(g.a),m.Pb(f.a),m.Pb(c.c))},ue.\u0275cmp=m.Jb({type:ue,selectors:[["app-rsa-reroute"]],decls:37,vars:22,consts:[["novalidate","",3,"ngSubmit"],["submitForm","ngForm"],[1,"row"],["id","gName","class","col-4 gName",4,"ngIf"],["class","col-8 gName",4,"ngIf"],[4,"ngIf"],["class","table batch-table table-striped",4,"ngIf"],["class","row",4,"ngIf"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"collectionSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["id","gName",1,"col-4","gName"],["name","appName","placeholder","d.ff","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["appName","ngModel"],["hidden","","value","","disabled","","selected",""],["color","danger"],["id","error",3,"hidden"],[1,"col-8","gName"],["name","bchComment","placeholder","Leave a comment here","required","",1,"form-control",2,"height","70px",3,"ngModel","ngModelChange"],["bchComment","ngModel"],["name","appOption","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["appOption","ngModel"],["name","appNamesign","placeholder","d.ff","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["appNamesign","ngModel"],["name","appNamesign2","placeholder","d.ff","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["appNamesign2","ngModel"],[1,"table","batch-table","table-striped"],[3,"click"],[1,"btn","btn-danger",3,"click"],[1,"col"],["id","btn","type","submit",1,"btn",3,"click"],[1,"btn","btn-success",3,"click"],["id","spacer"],[1,"btn","btn-warning",3,"click"]],template:function(e,t){if(1&e){var r=m.Vb();m.Ub(0,"h5"),m.Hc(1,"RSA Approvers Re-route"),m.Tb(),m.Ub(2,"form",0,1),m.gc("ngSubmit",(function(){m.yc(r);var e=m.xc(3);return t.search(e)})),m.Ub(4,"div",2),m.Fc(5,_,11,3,"div",3),m.Fc(6,F,8,2,"div",4),m.Fc(7,G,11,3,"div",3),m.Fc(8,j,11,3,"div",3),m.Fc(9,z,11,3,"div",3),m.Tb(),m.Tb(),m.Fc(10,K,2,0,"h4",5),m.Fc(11,Q,17,1,"table",6),m.Fc(12,W,4,0,"div",7),m.Ub(13,"table",8),m.Ub(14,"thead"),m.Ub(15,"tr"),m.Ub(16,"td"),m.Hc(17,"S/N"),m.Tb(),m.Ub(18,"td"),m.Hc(19,"Reference Code"),m.Tb(),m.Ub(20,"td"),m.Hc(21,"Application Name"),m.Tb(),m.Fc(22,Y,2,0,"td",5),m.Fc(23,Z,2,0,"td",5),m.Fc(24,$,2,0,"td",5),m.Fc(25,ee,2,0,"td",5),m.Ub(26,"td"),m.Hc(27,"SAP Id"),m.Tb(),m.Ub(28,"td"),m.Hc(29,"Status"),m.Tb(),m.Fc(30,te,2,0,"td",5),m.Fc(31,re,2,0,"td",5),m.Tb(),m.Tb(),m.Ub(32,"tbody"),m.Fc(33,le,18,11,"tr",9),m.Tb(),m.Tb(),m.Ub(34,"ngb-pagination",10),m.gc("pageChange",(function(e){return t.page=e})),m.Tb(),m.Ub(35,"pre"),m.Hc(36),m.Tb()}2&e&&(m.Bb(5),m.qc("ngIf",t.isBMUMaker),m.Bb(1),m.qc("ngIf",t.isBMUMaker),m.Bb(1),m.qc("ngIf",t.isFaBltd),m.Bb(1),m.qc("ngIf",t.isFundAcc),m.Bb(1),m.qc("ngIf",t.isFundAcc),m.Bb(1),m.qc("ngIf",t.taskBatch.length>0),m.Bb(1),m.qc("ngIf",t.taskBatch.length>0),m.Bb(1),m.qc("ngIf",t.taskBatch.length>0),m.Bb(10),m.qc("ngIf",t.isFundAcc),m.Bb(1),m.qc("ngIf",t.isFundAcc),m.Bb(1),m.qc("ngIf",t.isFundAcc),m.Bb(1),m.qc("ngIf",t.isFundAcc),m.Bb(5),m.qc("ngIf",t.isCheckIn),m.Bb(1),m.qc("ngIf",t.isBatch),m.Bb(2),m.qc("ngForOf",t.taskList),m.Bb(1),m.qc("collectionSize",t.taskList.length)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0),m.Bb(2),m.Jc("Current page: ",t.page,""))},directives:[b.x,b.m,b.n,n.m,n.l,a.l,b.u,b.t,b.l,b.o,b.p,b.w,b.c],pipes:[n.e],styles:["h5[_ngcontent-%COMP%]{color:#fff;padding:4px;background-color:#0033a1;width:100%;text-align:center}#error[_ngcontent-%COMP%]{color:red}thead[_ngcontent-%COMP%]{color:#fff;padding:4px;background-color:#0033a1;width:100%}.row[_ngcontent-%COMP%]   .col.col-3[_ngcontent-%COMP%]{margin-top:20px}.gName[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}a[_ngcontent-%COMP%]{color:#0033a1!important}a[_ngcontent-%COMP%]:hover{text-decoration:underline!important}h4[_ngcontent-%COMP%]{margin-top:25px}.batch-table[_ngcontent-%COMP%]{margin-bottom:30px}#spacer[_ngcontent-%COMP%]{margin:2vh}td[_ngcontent-%COMP%]{text-align:center}#search[_ngcontent-%COMP%]{margin-bottom:5vh}#btn[_ngcontent-%COMP%]{color:#fff;background-color:#0033a1;margin-bottom:2vh}"]}),ue);function de(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.name," ")}}function pe(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.name," ")}}function me(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.name," ")}}function ge(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.Name," ")}}function fe(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",15),m.Ub(1,"label"),m.Hc(2,"Insurance Company"),m.Tb(),m.Ub(3,"select",27,28),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().paySchedule.insuranceCoy=e}))("change",(function(e){return m.yc(r),m.kc().getInsuranceCode(e)})),m.Ub(5,"option",6),m.Hc(6,"Select Insurance Company"),m.Tb(),m.Fc(7,ge,2,1,"option",7),m.Tb(),m.Ub(8,"div",8),m.Ub(9,"p",9),m.Hc(10," Insurance company is required "),m.Tb(),m.Tb(),m.Tb()}if(2&e){var n=m.xc(4),a=m.kc();m.Bb(3),m.qc("ngModel",a.paySchedule.insuranceCoy),m.Bb(4),m.qc("ngForOf",a.insuranceList),m.Bb(2),m.qc("hidden",n.valid||!1===a.submitted)}}function be(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",15),m.Ub(1,"label"),m.Hc(2,"Second Signatory Date"),m.Tb(),m.Ub(3,"mat-form-field",16),m.Ub(4,"input",29,30),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().paySchedule.secSignDate=e})),m.Tb(),m.Qb(6,"mat-datepicker-toggle",19),m.Qb(7,"mat-datepicker",20,31),m.Tb(),m.Ub(9,"div",8),m.Ub(10,"p",9),m.Hc(11," Second signatory date is required "),m.Tb(),m.Tb(),m.Tb()}if(2&e){var n=m.xc(5),a=m.xc(8),i=m.kc();m.Bb(4),m.qc("matDatepicker",a)("max",i.today)("ngModel",i.paySchedule.secSignDate),m.Bb(2),m.qc("for",a),m.Bb(4),m.qc("hidden",n.valid||!1===i.submitted)}}function ye(e,t){if(1&e){var r=m.Vb();m.Ub(0,"button",32),m.gc("click",(function(){return m.yc(r),m.kc().generateInstruction()})),m.Hc(1,"Generate Payment Schedule"),m.Tb()}}function Ne(e,t){if(1&e){var r=m.Vb();m.Ub(0,"button",32),m.gc("click",(function(){return m.yc(r),m.kc().generateCoverMemo()})),m.Hc(1,"Generate Cover Memo"),m.Tb()}}function ve(e,t){if(1&e){var r=m.Vb();m.Ub(0,"tr"),m.Ub(1,"td"),m.Hc(2),m.Tb(),m.Ub(3,"td"),m.Ub(4,"a",33),m.gc("click",(function(){m.yc(r);var e=t.$implicit;return m.kc().routeToPage(e.id)})),m.Hc(5),m.Tb(),m.Tb(),m.Ub(6,"td"),m.Hc(7),m.Tb(),m.Ub(8,"td"),m.Hc(9),m.Tb(),m.Ub(10,"td"),m.Hc(11),m.lc(12,"date"),m.Tb(),m.Ub(13,"td"),m.Hc(14),m.Tb(),m.Ub(15,"td"),m.Hc(16),m.lc(17,"date"),m.Tb(),m.Ub(18,"td"),m.Hc(19),m.Tb(),m.Ub(20,"td"),m.Hc(21),m.lc(22,"date"),m.Tb(),m.Tb()}if(2&e){var n=t.$implicit,a=t.index;m.Bb(2),m.Ic(a+1),m.Bb(3),m.Ic(n.workflowRequestID),m.Bb(2),m.Ic(n.applicationType),m.Bb(2),m.Ic(n.batchUserName1),m.Bb(2),m.Ic(m.nc(12,9,n.signatory1Date,"dd/MM/yyyy")),m.Bb(3),m.Ic(n.batchUserName2),m.Bb(2),m.Ic(m.nc(17,12,n.signatory2Date,"dd/MM/yyyy")),m.Bb(3),m.Ic(n.approval_Status),m.Bb(2),m.Ic(m.nc(22,15,n.createdDate,"dd/MM/yyyy"))}}var Ae,Se=((Ae=function(){return _createClass((function e(t,r,n,a){_classCallCheck(this,e),this.service=t,this.helperService=r,this.datePipes=n,this.router=a,this.submitted=!1,this.isFundAcc=!1,this.isFundAccShow=!1,this.isFundAccAP=!1,this.applicationType=[],this.signatoryUserList=[],this.signatoryList2=[],this.signatList2=[],this.taskList=[],this.userList=[],this.insuranceList=[],this.groupList=[],this.page=1,this.pageSize=10,this.today=new Date,this.paySchedule={applicationType:"",currentUserLogin:"",currentUserName:"",currentUserEmail:"",batchUserLogin:"",batchUserEmail:"",batchUserName:"",batchUserLogin1:"",batchUserEmail1:"",batchUserName1:"",adminFee:"",zenithCustodianStaff:"",salute:"",batchUserLogin2:"",batchUserEmail2:"",batchUserName2:"",batchUserRole2:"",batchUserLogin3:"",batchUserLogin4:"",fstSignDate:null,secSignDate:null,insuranceCoy:"",groupName:"",userRole:"",actionTime:null}}),[{key:"ngOnInit",value:function(){this.currentUserDetail(),this.getApplicationType(),this.getUserInGroupName(),this.getInsuranceName(),this.getSettings()}},{key:"currentUserDetail",value:function(){var e=this;this.service.getIdentity("identity/GetCurrentUser").then((function(t){if(null!=t){console.log(t);var r=t.samAccountName;e.paySchedule.currentUserName=t.displayName,e.paySchedule.currentUserLogin=t.samAccountName,e.paySchedule.currentUserEmail=t.emailAddress,e.initTaskList(r)}})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"getSettings",value:function(){var e=this;this.service.get("DigiProFormSetting/GetSettingsById/1").then((function(t){null!=t&&(e.paySchedule.adminFee=t.settings.adminFee.replace(/\u20a6|,/g,""),e.paySchedule.zenithCustodianStaff=t.settings.zenithCustodianStaff,e.paySchedule.salute=t.settings.salutation)})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"getUserInGroupName",value:function(){var e=this;this.service.postUrl("DigiProRequest/GetUsersInGroup/Signatory}").then((function(t){null!=t&&(e.signatoryUserList=t)})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"getApplicationType",value:function(){var e=this;this.service.get("RSAApplicationType").then((function(t){null!=t&&(e.applicationType=t)})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"getInsuranceName",value:function(){var e=this;this.service.getUrlStanbic("DigiPro/Insurancelist").then((function(t){null!=t&&"00"!=t.Status?e.helperService.showError("Nav insurance list api "+t.StatusMessage):e.insuranceList=t.data})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"getInsuranceCode",value:function(e){var t=e.target.selectedIndex,r=-1+t;this.insuraCode=t,console.log(this.insuranceList[r]),this.paySchedule.insuranceCoy=this.insuranceList[r].Name}},{key:"initTaskList",value:function(e){var t=this;this.service.postUrl("DigiProRequest/GetUserGroups/"+e).then((function(e){null!=e&&(t.groupList=e,1==e.some((function(e){return"Fund Accounting"==e.groupName}))&&(t.isFundAcc=!0,t.gettaskBMU("AA13")))})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"gettaskBMU",value:function(e){var t=this;this.service.postUrl("RSARequest/MyBMULeadReport/"+e).then((function(e){console.log(e),null!=e&&t.startMapping(e)})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"startMapping",value:function(e){var t=this;this.taskList=e,this.taskList=this.taskList.sort((function(e,t){return t.id-e.id}));var r=this.paySchedule.applicationType,n=this.paySchedule.batchUserLogin1,a=this.paySchedule.batchUserLogin2,i=this.datePipes.transform(this.paySchedule.fstSignDate,"yyyy-MM-dd"),o=this.datePipes.transform(this.paySchedule.secSignDate,"yyyy-MM-dd");""!==r&&""!==n&&""!==a&&null!==i&&null!==o&&(this.taskList=this.taskList.filter((function(e){return e.applicationType===r&&e.batchUserLogin1===n&&e.batchUserLogin2===a&&t.datePipes.transform(e.signatory1Date,"yyyy-MM-dd")===i&&t.datePipes.transform(e.signatory2Date,"yyyy-MM-dd")===o})))}},{key:"routeToPage",value:function(e){this.router.navigate(["approval-page",{id:e}])}},{key:"getAppType",value:function(e){var t=e.target.selectedIndex;this.appType=t,console.log(t),console.log(this.paySchedule.applicationType);var r=this.paySchedule.applicationType;"Lump Sum and Annuity Payment"===r?(this.isFundAccShow=!1,this.isFundAccAP=!0):"Lump Sum and Annuity Payment"!==r&&(this.isFundAccShow=!1,this.isFundAccAP=!1)}},{key:"search",value:function(e){if(this.submitted=!0,e.valid){var t=this.groupList.some((function(e){return"Fund Accounting"==e.groupName})),r=this.groupList.some((function(e){return"Zenith Pension Custodian"==e.groupName}));1!=t&&1!=r||(this.isFundAccShow=!0,this.gettaskBMU("AA13"))}else console.log("Invalid form"),this.helperService.showError("An error Occured, Try again"),console.log(this.paySchedule)}},{key:"getFirstSignatory",value:function(e){var t=this,r=e.target.selectedIndex,n=-1+r;this.signName=r,console.log(this.signatoryUserList[n]),this.paySchedule.batchUserName1=this.signatoryUserList[n].name,this.paySchedule.batchUserLogin1=this.signatoryUserList[n].login,this.paySchedule.batchUserEmail1=this.signatoryUserList[n].email;var a=this.signatoryUserList[n].role,i=this.paySchedule.batchUserRole2;this.isFundAccShow=!1,"Signatory A"==a&&"Signatory B"==i?(this.helperService.showError("Please select signatory with signatory B role"),this.paySchedule.batchUserLogin3=null):"Signatory A"==a?(this.signatList2=this.signatoryUserList.filter((function(e){return e.login!==t.paySchedule.batchUserLogin1})),this.signatoryList2=this.signatList2.filter((function(e){return"Signatory B"!==e.role}))):this.signatoryList2=this.signatoryUserList.filter((function(e){return e.login!==t.paySchedule.batchUserLogin1}))}},{key:"getSecondSignatory",value:function(e){var t=e.target.selectedIndex,r=-1+t;this.signName2=t,console.log(this.signatoryList2[r]),this.paySchedule.batchUserName2=this.signatoryList2[r].name,this.paySchedule.batchUserLogin2=this.signatoryList2[r].login,this.paySchedule.batchUserEmail2=this.signatoryList2[r].email,this.paySchedule.batchUserRole2=this.signatoryList2[r].role,console.log(this.paySchedule),this.isFundAccShow=!1}},{key:"generateInstruction",value:function(){for(var e=this,t=Number(this.paySchedule.adminFee),r=0;r<this.taskList.length;r++)this.taskList[r].serialNo=r+1,this.taskList[r].adminFee=t,this.taskList[r].totalValue=Number(this.taskList[r].fundPrice)*Number(this.taskList[r].numberUnits),this.taskList[r].amtToPaid=Number(this.taskList[r].fundPrice)*Number(this.taskList[r].numberUnits);var n=this.paySchedule.applicationType,a=[];if(n===h.k){var i={data:[{A:"RSA Data"},{A:"S/N",B:"S/N ON APPR",C:"PIN",D:"NAME ON PENCOM APPROVAL",E:"MEMBER NAME ON NAV",F:"ACCOUNT NAME (NIBSS)",G:"BANK",H:"BANK ACCOUNT NO",I:"BANK SORT CODE",J:"25% VALUE",K:"EMPLOYER NAME",L:"WITHDRAWAL DATE",M:"EMPLOYER CODE",N:"FUND ID",O:"BA ID",P:"ACCOUNT VALIDATION",Q:"NIBSS ACCOUNT STATUS"}],skipHeader:!0};this.taskList.forEach((function(t){i.data.push({A:t.serialNo,B:t.pencomApprovalNo,C:t.rsapin,D:t.surname+" "+t.firstName+" "+t.otherNames,E:t.memberNavName,F:t.accountNameNav,G:t.bankBranchName,H:t.nkAccountNumber,I:t.sortCodeBank,J:t.netAmount,K:t.lastEmployer,L:e.datePipes.transform(t.navWithdrawalDate,"dd-MM-yyyy"),M:t.lastEmployerCode,N:t.fundCode,O:t.bashNo,P:t.nibssValidator,Q:"Exist"})})),a.push(i)}else if(n===h.g||n===h.a){var o={data:[{A:"RSA Data"},{A:"S/N",B:"S/N ON APPR",C:"PIN",D:"MEMBER NAME ON NAV",E:"NAME ON PENCOM APPROVAL",F:"ACCOUNT NAME (NIBSS)",G:"BANK",H:"BANK ACCOUNT NO",I:"BANK SORT CODE",J:"FUND PRICE",K:"TOTAL UNITS",L:"TOTAL VALUE",M:"ADMIN FEES",N:"AMOUNT TO PAID TO CLIENT",O:"FUND ID",P:"WITHDRAWAL DATE",Q:"EMPLOYER NAME",R:"EMPLOYER NO",S:"BA ID",T:"APPL TYPE"}],skipHeader:!0};this.taskList.forEach((function(t){o.data.push({A:t.serialNo,B:t.pencomApprovalNo,C:t.rsapin,D:t.memberNavName,E:t.surname+" "+t.firstName+" "+t.otherNames,F:t.accountNameNav,G:t.bankBranchName,H:t.nkAccountNumber,I:t.bankSortCode,J:t.fundPrice,K:t.numberUnits,L:t.totalValue,M:t.adminFee,N:Number(t.netAmount)-Number(t.adminFee),O:t.fundCode,P:e.datePipes.transform(t.navWithdrawalDate,"dd-MM-yyyy"),Q:t.lastEmployer,R:t.lastEmployerCode,S:t.bashNo,T:"Enbloc"})})),a.push(o)}else if(n==h.e){var s={data:[{A:"RSA Data"},{A:"S/N",B:"S/N ON APPR",C:"PIN",D:"MEMBER NAME ON NAV",E:"NAME ON PENCOM APPROVAL",F:"ACCOUNT NAME (NIBSS)",G:"BANK",H:"BANK ACCOUNT NO",I:"BANK SORT CODE",J:"TOTAL UNITS",K:"FUND PRICE",L:"TOTAL VALUE",M:"ADMIN FEES",N:"AMOUNT TO BE PAID",O:"EMPLOYER NAME",P:"NEXT OF KIN ON LOA",Q:"LAW CHAMBERS",R:"DATE OF DEATH",S:"ACCOUNT VALIDATION",T:"NIBSS ACCOUNT STATUS",U:"PHONE NO"}],skipHeader:!0};this.taskList.forEach((function(t){s.data.push({A:t.serialNo,B:t.pencomApprovalNo,C:t.rsapin,D:t.memberNavName,E:t.surname+" "+t.firstName+" "+t.otherNames,F:t.accountNameNav,G:t.bankBranchName,H:t.nkAccountNumber,I:t.sortCodeBank,J:t.numberUnits,K:t.fundPrice,L:t.requestedAmount,M:t.adminFee,N:Number(t.netAmount),O:t.lastEmployer,P:t.nkSurname+" "+t.nkFirstName+" "+t.nkOtherNames,Q:t.nkSurname,R:e.datePipes.transform(t.deathDate,"dd-MM-yyyy"),S:t.nibssValidator,T:"Exist",U:t.nkPhoneNumber})})),a.push(s)}else if("Lump sum and Programmed Withdrawal Payment"==n){var c={data:[{A:"RSA Data"},{A:"S/N",B:"S/N ON APPR",C:"PIN",D:"MEMBER NAME ON NAV",E:"NAME ON PENCOM APPROVAL",F:"ACCOUNT NAME (NIBSS)",G:"BANK",H:"BANK ACCOUNT NO",I:"BANK SORT CODE",J:"LUMPSUM AMOUNT",K:"MONTHLY PENSION",L:"NO OF MONTHS(ARREARS)",M:"AMOUNT TO BE PAID",N:"EMPLOYER NAME"}],skipHeader:!0};this.taskList.forEach((function(e){c.data.push({A:e.serialNo,B:e.pencomApprovalNo,C:e.rsapin,D:e.memberNavName,E:e.surname+" "+e.firstName+" "+e.otherNames,F:e.accountNameNav,G:e.bankBranchName,H:e.nkAccountNumber,I:e.bankSortCode,J:e.availLupsum,K:e.monthlyTotal,L:e.requestedAmount,M:e.netAmount,N:e.lastEmployer})})),a.push(c)}else if("Lump Sum and Annuity Payment"==n){var l={data:[{A:"RSA Data"},{A:"S/N",B:"S/N ON APPR",C:"PIN",D:"MEMBER NAME ON NAV",E:"NAME ON PENCOM APPROVAL",F:"ACCOUNT NAME (NIBSS)",G:"BANK",H:"BANK ACCOUNT NO",I:"BANK SORT CODE",J:"FUND PRICE",K:"TOTAL UNITS",L:"TOTAL VALUE",M:"Insurance Company",N:"PREMIUM",O:"LUMPSUM AMOUNT",P:"ADMIN FEES",Q:"AMOUNT TO BE PAID",R:"EMPLOYER NAME",S:"EMPLOYER CODE",T:"BA ID"}],skipHeader:!0};this.taskList.forEach((function(e){l.data.push({A:e.serialNo,B:e.pencomApprovalNo,C:e.rsapin,D:e.memberNavName,E:e.surname+" "+e.firstName+" "+e.otherNames,F:e.accountNameNav,G:e.bankBranchName,H:e.nkAccountNumber,I:e.sortCodeBank,J:e.fundPrice,K:e.numberUnits,L:e.requestedAmount,M:e.insuranceCoy,N:e.addPremium,O:e.availLupsum,P:e.adminFee,Q:e.Number(e.netAmount)-Number(e.adminFee),R:e.lastEmployer,S:e.lastEmployerCode,T:e.bashNo})})),a.push(l)}else if("Pre-Act Contributions Payment (Pre-Act)"==n){var u={data:[{A:"RSA Data"},{A:"S/N",B:"SN ON APPROVAL",C:"PIN",D:"NAME ON PENCOM APPROVAL",E:"MEMBER NAME ON NAV",F:"ACCOUNT NAME (NIBSS)",G:"BANK",H:"BANK ACCOUNT NO",I:"BANK SORT CODE",J:"FUND PRICE",K:"UNITS",L:"AMOUNT TO BE PAID",M:"Employer Name"}],skipHeader:!0};this.taskList.forEach((function(e){u.data.push({A:e.serialNo,B:e.pencomApprovalNo,C:e.rsapin,D:e.surname+" "+e.firstName+" "+e.otherNames,E:e.t.surname+" "+e.firstName+" "+e.otherNames,F:e.accountNameNav,G:e.bankBranchName,H:e.nkAccountNumber,I:e.sortCodeBank,J:e.fundPrice,K:e.numberUnits,L:e.netAmount,M:e.lastEmployer})})),a.push(u)}else if("Employee Portion Payment (OLD SCHEME)"==n){var d={data:[{A:"RSA Data"},{A:"S/N",B:"SN ON APPROVAL",C:"PIN",D:"NAME ON PENCOM APPROVAL",E:"MEMBER NAME ON NAV",F:"ACCOUNT NAME (NIBSS)",G:"BANK",H:"BANK ACCOUNT NO",I:"BANK SORT CODE",J:"TOTAL UNITS (FUND)",K:"FUND PRICE",L:"TOTAL VALUE",M:"ADMIN FEES",N:"AMOUNT TO BE PAID",O:"EMPLOYER NAME"}],skipHeader:!0};this.taskList.forEach((function(e){d.data.push({A:e.serialNo,B:e.pencomApprovalNo,C:e.rsapin,D:e.surname+" "+e.firstName+" "+e.otherNames,E:e.t.surname+" "+e.firstName+" "+e.otherNames,F:e.accountNameNav,G:e.bankBranchName,H:e.nkAccountNumber,I:e.sortCodeBank,J:e.numberUnits,K:e.fundPrice,L:e.totalValue,M:e.adminFee,N:e.amtToPaid,O:e.lastEmployer})})),a.push(d)}this.service.exportJsonToExcel(a,"rsa_data_customized")}},{key:"generateCoverMemo",value:function(){return Object(l.a)(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var t,r,n,a,i,o,s,c,l,u,d,p,m,g,f,b;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Number(this.paySchedule.adminFee),r=0;r<this.taskList.length;r++)n=Number(this.taskList[r].fundPrice)*Number(this.taskList[r].numberUnits),this.taskList[r].serialNo=r+1,this.taskList[r].adminFee=t,this.taskList[r].totalValue=n;if(console.log(this.taskList),a=this.paySchedule.applicationType,i=this.paySchedule.zenithCustodianStaff,o=this.paySchedule.salute,s=this.taskList.reduce((function(e,t){return e+Number(t.netAmount)}),0),c=this.helperService.formatNaira(s),l="./assets/img/logo2.png",u=new Date,d=this.datePipes.transform(u,"MMMM d, y"),p=this.taskList.map((function(e){return e.signatory1Date}))[0],m=this.taskList.map((function(e){return e.signatory2Date}))[0],g=this.datePipes.transform(p,"MMM d, y"),f=this.datePipes.transform(m,"MMM d, y"),a!=h.k){e.next=11;break}return e.next=7,this.generate25Pay(l,c,d,g,f,i,o);case 7:b=e.sent,pdfMake.createPdf(b).open(),e.next=12;break;case 11:a==h.g||a===h.a?this.generateEnblocPay(l,c,d,g,f,i,o):a==h.e?this.generateDeceasedPay(l,c,d,g,f,i,o):"Lump sum and Programmed Withdrawal Payment"==a?this.generatePWithdraw(l,c,d,g,f):"Lump Sum and Annuity Payment"==a&&this.generateAnnunityPay(l,c,d,g,f);case 12:case"end":return e.stop()}}),e,this)})))}},{key:"generate25Pay",value:function(e,t,r,n,a,i,o){return Object(l.a)(this,void 0,void 0,_regeneratorRuntime().mark((function s(){var c=this;return _regeneratorRuntime().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(),s.t0={printing:"highResolution",modifying:!1,copying:!1,annotating:!0,fillingForms:!0,contentAccessibility:!0,documentAssembly:!0},s.t1={title:"Memo and Schedule 25Percent"},s.next=5,this.helperService.getBase64ImageFromURL(e);case 5:return s.t2=s.sent,s.t3={image:s.t2,width:150,alignment:"right"},s.t4={text:"Fund Accounting \n\n\n",bold:!0,alignment:"right",color:"black"},s.t5={text:"The Managing Director",bold:!0},s.t6={text:"Zenith Pensions Custodian Limited",styles:""},s.t7={text:"4th & 5th Floors, Civic Towers",styles:""},s.t8={text:"Ozumba Mbadiwe Street",styles:""},s.t9={text:"Victoria Island, Lagos \n\n",styles:""},s.t10={text:["Attention: ",{text:i,bold:!0},"\n\n"],styles:""},s.t11={text:["Dear ",{text:o},"\n\n"],styles:""},s.t12={text:"Transfer instruction - ZPC/ SIBTC RSA Fund II \n\n",bold:!0,alignment:"left",fontSize:14},s.t13={text:["Please debit our ZPC/STANBIC RSA Fund II no. 1010884305 with the sum of ",{text:t}," and apply  as detailed in the schedule attached. \n\n"],lineHeight:1.2},s.t14={text:["This amount represents the value of 25% of the balance in the Retirement Savings Account RSA).\n\n"],lineHeight:1.2},s.t15={text:["Please see attached approval from National Pension Commission \n\n"],lineHeight:1.2},s.t16={text:["Kindly ensure the transfers are done before the close of business today ",{text:r}," \n\n"],lineHeight:1.2},s.t17={text:"Yours faithfully \n\n\n",lineHeight:1.2},s.t18={columns:[{text:["Signed: ",{text:this.paySchedule.batchUserName1,italics:!0,fontSize:20}],decoration:"underline"},{text:["Signed: ",{text:this.paySchedule.batchUserName2,italics:!0,fontSize:20}],decoration:"underline"}]},s.t19={columns:[{text:[{text:this.paySchedule.batchUserName1,bold:!0}," ",{text:n,bold:!0}]},{text:[{text:this.paySchedule.batchUserName2,bold:!0}," ",{text:a,bold:!0}]}]},s.t20={text:"Payment Schedule",font:"Roboto",bold:!0,alignment:"center",pageOrientation:"landscape",pageBreak:"before"},s.t21={style:"tableExample",table:{headerRows:1,body:[["S/N","S/N ON APPR","PIN","NAME ON PENCOM APPROVAL","MEMBER NAME ON NAV","ACCOUNT NAME NIBSS","BANK","BANK ACCOUNT NO","BANK SORT CODE","25% VALUE","EMPLOYER NAME","WITHDRAWAL DATE","EMPLOYER CODE","FUND ID","BA ID","ACCOUNT VALIDATION","NIBSS ACCOUNT STATUS"]].concat(_toConsumableArray(this.taskList.map((function(e){return[e.serialNo,e.pencomApprovalNo,e.rsapin,e.surname+" "+e.firstName+" "+e.otherNames,e.surname,e.accountNameNav,e.bankBranchName,e.nkAccountNumber,e.bankSortCode,c.helperService.formatNaira(e.netAmount).replace(/\u20a6/g,""),e.lastEmployer,c.datePipes.transform(e.navWithdrawalDate,"dd-MM-yyyy"),e.bvn,e.fundCode,e.bashNo,e.nibssValidator,"Exist"]}))),[[{text:"Total Amount",colSpan:9},{},{},{},{},{},{},{},{},t,{text:" ",colSpan:7},{},{},{},{},{},{}]])}},s.t22=["Total Amount  ",{text:t,bold:!0}],s.t23=[s.t3,s.t4,s.t5,s.t6,s.t7,s.t8,s.t9,s.t10,s.t11,s.t12,s.t13,s.t14,s.t15,s.t16,s.t17,s.t18,s.t19,s.t20,s.t21,s.t22],s.t24={header:{fontSize:22,bold:!0,alignment:"center"},baright:{alignment:"right",bold:!0,color:"blue"},signEx:{italics:!0,decoration:"underline",fontSize:18},tableExample:{margin:[0,5,0,15],fontSize:8},anotherStyle:{italics:!0,alignment:"right"}},s.abrupt("return",{userPassword:"1234",ownerPassword:"123456",permissions:s.t0,info:s.t1,pageSize:"LEGAL",content:s.t23,styles:s.t24});case 29:case"end":return s.stop()}}),s,this)})))}},{key:"generateEnblocPay",value:function(e,t,r,n,a,i,o){return Object(l.a)(this,void 0,void 0,_regeneratorRuntime().mark((function s(){var c,l=this;return _regeneratorRuntime().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0={printing:"highResolution",modifying:!1,copying:!1,annotating:!0,fillingForms:!0,contentAccessibility:!0,documentAssembly:!0},s.t1={title:"Memo and Schedule Enbloc Payment"},s.next=4,this.helperService.getBase64ImageFromURL(e);case 4:s.t2=s.sent,s.t3={image:s.t2,width:150,alignment:"right"},s.t4={text:"Fund Accounting \n\n\n",bold:!0,alignment:"right",color:"black"},s.t5={text:"The Managing Director",styles:""},s.t6={text:"Zenith Pensions Custodian Limited",styles:""},s.t7={text:"4th & 5th Floors, Civic Towers",styles:""},s.t8={text:"Ozumba Mbadiwe Street",styles:""},s.t9={text:"Victoria Island, Lagos \n\n",styles:""},s.t10={text:["Attention: ",{text:i,bold:!0},"\n\n"],styles:""},s.t11={text:["Dear ",{text:o},"\n\n"],styles:""},s.t12={text:"Transfer instruction - ZPC/SIPML RSA Fund IV  \n\n",bold:!0,alignment:"center",fontSize:14},s.t13={text:["Please debit our ZPC/SIPML RSA Fund IV Investment Account no. 1011819188 with the total "," sum of ",{text:t}," and transfer to ZPC/SIBTC RSA Retiree Benefit Payment Account no. "," 1011993563 from where it will be applied as stated in the attached schedule \n\n"],lineHeight:1.2},s.t14={text:["This amount represents additional Enbloc payment for the clients as approved by PenCom \n\n"],lineHeight:1.2},s.t15={text:["Please see attached approval from National Pension Commission \n\n"],lineHeight:1.2},s.t16={text:["Kindly ensure the transfer is done before close of business today ",{text:r}," \n\n"],lineHeight:1.2},s.t17={text:"Yours faithfully \n\n\n",lineHeight:1.2},s.t18={columns:[{text:[{text:"Signed: ",italics:!0},{text:this.paySchedule.batchUserName1,style:"signEx"}]},{text:[{text:"Signed: ",italics:!0},{text:this.paySchedule.batchUserName2,style:"signEx"}]}]},s.t19={columns:[{text:[{text:this.paySchedule.batchUserName1,bold:!0}," ",{text:n,bold:!0}]},{text:[{text:this.paySchedule.batchUserName2,bold:!0}," ",{text:a,bold:!0}]}]},s.t20={text:"Payment Schedule Enbloc Payment",bold:!0,alignment:"center",pageOrientation:"landscape",pageBreak:"before"},s.t21={style:"tableExample",table:{headerRows:1,body:[["S/N","S/N ON APPR","PIN","MEMBER NAME ON NAV","NAME ON PENCOM APPROVAL","ACCOUNT NAME (NIBSS)","BANK","BANK ACCOUNT NO","BANK SORT CODE","FUND PRICE","TOTAL UNITS","TOTAL VALUE","ADMIN FEES","AMOUNT TO PAID TO CLIENT","FUND ID","WITHDRAWAL DATE","EMPLOYER NAME","EMPLOYER NO","BA ID","APPL TYPE"]].concat(_toConsumableArray(this.taskList.map((function(e){return[e.serialNo,e.pencomApprovalNo,e.rsapin,e.surname+" "+e.firstName+" "+e.otherNames,e.surname,e.accountNameNav,e.bankBranchName,e.nkAccountNumber,e.bankSortCode,e.fundPrice,e.numberUnits,e.totalValue,e.adminFee,l.helperService.formatNaira(e.netAmount).replace(/\u20a6/g,""),e.fundCode,l.datePipes.transform(e.navWithdrawalDate,"dd-MM-yyyy"),e.lastEmployer,e.lastEmployerCode,e.bashNo,e.applicationType]}))),[[{text:"Total Amount",colSpan:13},{},{},{},{},{},{},{},{},{},{},{},{},t,{text:"",colSpan:6},{},{},{},{},{}]])}},s.t22=["Total Amount  ",{text:t,bold:!0}],s.t23=[s.t3,s.t4,s.t5,s.t6,s.t7,s.t8,s.t9,s.t10,s.t11,s.t12,s.t13,s.t14,s.t15,s.t16,s.t17,s.t18,s.t19,s.t20,s.t21,s.t22],s.t24={header:{fontSize:22,bold:!0,alignment:"center"},tableExample:{margin:[0,5,0,15],fontSize:7},baright:{alignment:"right",bold:!0,color:"blue"},anotherStyle:{italics:!0,alignment:"right"}},c={userPassword:"1234",ownerPassword:"123456",permissions:s.t0,info:s.t1,pageSize:"LEGAL",content:s.t23,styles:s.t24},pdfMake.createPdf(c).open();case 29:case"end":return s.stop()}}),s,this)})))}},{key:"generateDeceasedPay",value:function(e,t,r,n,a,i,o){return Object(l.a)(this,void 0,void 0,_regeneratorRuntime().mark((function s(){var c,l=this;return _regeneratorRuntime().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0={printing:"highResolution",modifying:!1,copying:!1,annotating:!0,fillingForms:!0,contentAccessibility:!0,documentAssembly:!0},s.t1={title:"Memo and Schedule Deceased Payment"},s.next=4,this.helperService.getBase64ImageFromURL(e);case 4:s.t2=s.sent,s.t3={image:s.t2,width:150,alignment:"left"},s.t4={text:"Fund Accounting \n\n\n",bold:!0,alignment:"right",color:"black"},s.t5={text:"The Managing Director",styles:""},s.t6={text:"Zenith Pensions Custodian Limited",styles:""},s.t7={text:"4th & 5th Floors, Civic Towers",styles:""},s.t8={text:"Ozumba Mbadiwe Street",styles:""},s.t9={text:"Victoria Island, Lagos \n\n",styles:""},s.t10={text:["Attention: ",{text:i},"\n\n"],styles:""},s.t11={text:["Dear ",{text:o},"\n\n"],styles:""},s.t12={text:"Transfer Instruction - ZPC/SIPML RSA Fund IV \n\n",bold:!0,alignment:"center",fontSize:14},s.t13={text:["Please debit our ZPC/SIPML RSA Fund IV Investment Account no. 1011819188 with the total ","sum of ",{text:t}," and transfer to ZPC/SIBTC RSA Retiree Benefit Payment Account no. ","1011993563 from where it will be applied as stated in the attached schedule. \n\n"],lineHeight:1.2},s.t14={text:["This amount represents balance on the Retiree Fund Account (\u201cRFA\u201d) of deceased clients which ","have been requested for by the named beneficiaries \n\n"],lineHeight:1.2},s.t15={text:["Also note that the administrative fees should be transferred to our FEE PAYABLE ACCOUNT No. ","1010925097. \n\n\n"],lineHeight:1.2},s.t16={text:["Kindly ensure the transfers are done before the close of business today ",{text:r}," \n\n"],lineHeight:1.2},s.t17={text:"Yours faithfully \n\n\n",lineHeight:1.2},s.t18={columns:[{text:[{text:"Signed: ",italics:!0},{text:this.paySchedule.batchUserName1,style:"signEx"}]},{text:[{text:"Signed: ",italics:!0},{text:this.paySchedule.batchUserName2,style:"signEx"}]}]},s.t19={columns:[{text:[{text:this.paySchedule.batchUserName1,bold:!0}," ",{text:n,bold:!0}]},{text:[{text:this.paySchedule.batchUserName2,bold:!0}," ",{text:a,bold:!0}]}]},s.t20={text:"Payment Schedule Deceased Payment",bold:!0,alignment:"center",pageOrientation:"landscape",pageBreak:"before"},s.t21={style:"tableExample",table:{headerRows:1,body:[["S/N","S/N ON APPR","PIN","MEMBER NAME ON NAV","NAME ON PENCOM APPROVAL","ACCOUNT NAME (NIBSS)","BANK","BANK ACCOUNT NO","BANK SORT CODE","TOTAL UNITS","FUND PRICE","TOTAL VALUE","ADMIN FEES","AMOUNT TO BE PAID","EMPLOYER NAME","NEXT OF KIN ON LOA","LAW CHAMBERS","DATE OF DEATH","ACCOUNT VALIDATION","NIBSS ACCOUNT STATUS","PHONE NO"]].concat(_toConsumableArray(this.taskList.map((function(e){return[e.serialNo,e.pencomApprovalNo,e.rsapin,e.surname+" "+e.firstName+" "+e.otherNames,e.surname,e.accountNameNav,e.bankBranchName,e.nkAccountNumber,e.bankSortCode,e.numberUnits,e.fundPrice,l.helperService.formatNaira(e.totalValue).replace(/\u20a6/g,""),e.adminFee,l.helperService.formatNaira(e.netAmount).replace(/\u20a6/g,""),e.lastEmployer,e.nkSurname+" "+e.nkFirstName+" "+e.nkOtherNames,e.bvn,l.datePipes.transform(e.deathDate,"dd-MMM-yyyy"),e.nibssValidator,e.nibssValidator,e.nkPhoneNumber]}))),[[{text:"Total Amount",colSpan:13},{},{},{},{},{},{},{},{},{},{},{},{},t,{text:"",colSpan:7},{},{},{},{},{},{}]])}},s.t22=["Total Amount  ",{text:t,bold:!0}],s.t23=[s.t3,s.t4,s.t5,s.t6,s.t7,s.t8,s.t9,s.t10,s.t11,s.t12,s.t13,s.t14,s.t15,s.t16,s.t17,s.t18,s.t19,s.t20,s.t21,s.t22],s.t24={header:{fontSize:22,bold:!0,alignment:"center"},baright:{alignment:"right",bold:!0,color:"blue"},tableExample:{margin:[0,5,0,15],fontSize:7},anotherStyle:{italics:!0,alignment:"right"}},c={userPassword:"1234",ownerPassword:"123456",permissions:s.t0,info:s.t1,pageSize:"LEGAL",content:s.t23,styles:s.t24},pdfMake.createPdf(c).open();case 29:case"end":return s.stop()}}),s,this)})))}},{key:"generatePWithdraw",value:function(e,t,r,n,a){return Object(l.a)(this,void 0,void 0,_regeneratorRuntime().mark((function i(){var o;return _regeneratorRuntime().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0={printing:"highResolution",modifying:!1,copying:!1,annotating:!0,fillingForms:!0,contentAccessibility:!0,documentAssembly:!0},i.t1={title:"Memo and Schedule Program Withdrawal Payment"},i.next=4,this.helperService.getBase64ImageFromURL(e);case 4:i.t2=i.sent,i.t3={image:i.t2,width:150,alignment:"right"},i.t4={text:"Fund Accounting \n\n\n",bold:!0,alignment:"right",color:"black"},i.t5={text:"The Managing Director",styles:""},i.t6={text:"Zenith Pensions Custodian Limited",styles:""},i.t7={text:"4th & 5th Floors, Civic Towers",styles:""},i.t8={text:"Ozumba Mbadiwe Street",styles:""},i.t9={text:"Victoria Island, Lagos \n\n",styles:""},i.t10={text:"Attention: Mrs Nkem Oni-Egboma/Mrs Yinka Ajayi \n",styles:""},i.t11={text:"Dear Madam, \n\n",styles:""},i.t12={text:"Transfer Instruction - ZPC/SIPML RSA Fund IV \n\n",bold:!0,alignment:"center",fontSize:14},i.t13={text:["Please debit our ZPC/SIPML RSA Fund IV Investment Account no. 1011819188 with the total ","sum of ",{text:t}," and transfer to ZPC/SIBTC RSA Retiree Benefit Payment Account no. ","1011993563 from where it will be applied as stated in the attached schedule. "],lineHeight:1.2},i.t14={text:["This amount represents Lump-sum payment and programmed withdrawal for the clients as ","approved by PenCom. \n\n"],lineHeight:1.2},i.t15={text:["Please see attached approval from National Pension Commission \n\n"],lineHeight:1.2},i.t16={text:["Kindly ensure the transfer is done before close of business today ",{text:r}," \n\n"],lineHeight:1.2},i.t17={text:"Yours faithfully \n\n\n",lineHeight:1.2},i.t18={columns:[{text:[{text:"Signed: ",italics:!0},{text:this.paySchedule.batchUserName1,style:"signEx"}]},{text:[{text:"Signed: ",italics:!0},{text:this.paySchedule.batchUserName2,style:"signEx"}]}]},i.t19={columns:[{text:[{text:this.paySchedule.batchUserName1,bold:!0}," ",{text:n,bold:!0}]},{text:[{text:this.paySchedule.batchUserName2,bold:!0}," ",{text:a,bold:!0}]}]},i.t20={text:"Payment Schedule Program Withdrawal Payment",bold:!0,alignment:"center",pageOrientation:"landscape",pageBreak:"before"},i.t21={style:"tableExample",table:{headerRows:1,body:[["S/N","S/N ON APPR","PIN","MEMBER NAME ON NAV","NAME ON PENCOM APPROVAL","ACCOUNT NAME (NIBSS)","BANK","BANK ACCOUNT NO","BANK SORT CODE","LUMPSUM AMOUNT","MONTHLY PENSION","NO OF MONTHS(ARREARS)","AMOUNT TO BE PAID","EMPLOYER NAME"]].concat(_toConsumableArray(this.taskList.map((function(e){return[e.serialNo,e.pencomApprovalNo,e.rsapin,e.surname+" "+e.firstName+" "+e.otherNames,e.surname,e.accountNameNav,e.bankBranchName,e.nkAccountNumber,e.bankSortCode,e.availLupsum,e.monthlyTotal,e.createdDate,e.netAmount,e.lastEmployer]}))),[[{text:"Total Amount",colSpan:12},{},{},{},{},{},{},{},{},{},{},{},t,{}]])}},i.t22=["Total Amount  ",{text:t,bold:!0}],i.t23=[i.t3,i.t4,i.t5,i.t6,i.t7,i.t8,i.t9,i.t10,i.t11,i.t12,i.t13,i.t14,i.t15,i.t16,i.t17,i.t18,i.t19,i.t20,i.t21,i.t22],i.t24={header:{fontSize:22,bold:!0,alignment:"center"},baright:{alignment:"right",bold:!0,color:"blue"},tableExample:{margin:[0,5,0,15],fontSize:8},anotherStyle:{italics:!0,alignment:"right"}},o={userPassword:"1234",ownerPassword:"123456",permissions:i.t0,info:i.t1,pageSize:"LEGAL",content:i.t23,styles:i.t24},pdfMake.createPdf(o).open();case 29:case"end":return i.stop()}}),i,this)})))}},{key:"generateAnnunityPay",value:function(e,t,r,n,a){return Object(l.a)(this,void 0,void 0,_regeneratorRuntime().mark((function i(){var o,s,c,l,u,h,d,p,m,g;return _regeneratorRuntime().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=this.taskList.reduce((function(e,t){return e+Number(t.totalValue)}),0),s=this.helperService.formatNaira(o),c=this.taskList.reduce((function(e,t){return e+Number(t.availLupsum)}),0),l=this.helperService.formatNaira(c),u=this.taskList.reduce((function(e,t){return e+Number(t.adminFee)}),0),"AIICO INSURANCE PLC"===(h=this.paySchedule.insuranceCoy)?(d="2031953641",p="011152303",m="FIRST BANK"):"CORNERSTONE INSURANCE PLC"===h?(d="0088428223",p="063150162",m="ACCESS (DIAMOND BANK)"):"FBN LIFE ASSURANCE"===h?(d="2031841410",p="011152303",m="FIRST BANK"):"LEADWAY INSURANCE"===h?(d="1015038189",p="057150013",m="ZENITH BANK"):"ARM LIFE ASSURANCE"===h?(d="1015041266",p="057150013",m="ZENITH BANK"):"GREAT NIGERIA INSURANCE PLC"===h?(d="2031963930",p="011152303",m="FIRST BANK"):"CUSTODIAN LIFE ASSURANCE LIMITED"===h&&(d="1020143010",p="033152048",m="UBA"),i.t0={printing:"highResolution",modifying:!1,copying:!1,annotating:!0,fillingForms:!0,contentAccessibility:!0,documentAssembly:!0},i.t1={title:"Memo and Schedule Annuity Payment"},i.next=6,this.helperService.getBase64ImageFromURL(e);case 6:i.t2=i.sent,i.t3={image:i.t2,width:150,alignment:"right"},i.t4={text:"Fund Accounting \n\n\n",bold:!0,alignment:"right",color:"black"},i.t5={text:"The Managing Director",styles:""},i.t6={text:"Zenith Pensions Custodian Limited",styles:""},i.t7={text:"4th & 5th Floors, Civic Towers",styles:""},i.t8={text:"Ozumba Mbadiwe Street",styles:""},i.t9={text:"Victoria Island, Lagos \n\n",styles:""},i.t10={text:"Attention: Mrs Nkem Oni-Egboma/Mrs Yinka Ajayi \n",styles:""},i.t11={text:"Dear Madam, \n\n",styles:""},i.t12={text:"Transfer instruction - ZPC/SIPML RLA Suspense Account \n\n",bold:!0,alignment:"center",fontSize:14},i.t13={text:["Please debit our Retiree Life Annuity Suspense Account with account No. 1017635197 with the  ","sum of ",{text:t}," and apply as stated in the attached schedule. \n\n","See attached approval from National Pension Commission. \n\n","Please transfer the cost of annuity purchased to the account details stated below "],lineHeight:1.2},i.t14={table:{headerRows:1,body:[[{text:"S/N",bold:!0},{text:"ACCOUNT NAME",bold:!0},{text:"ACCT/NO",bold:!0},{text:"SORT CODES",bold:!0},{text:"BANK",bold:!0}],["1",h,d,p,m]]}},i.t15={text:" \n\n"},i.t16={text:["This amount represents Lumpsum and Annuity withdrawal for the clients as approved by ","PenCom. Also note that the administrative fees should be transferred to our FEE PAYABLE ","ACCOUNT No. 1010925097 \n\n"],lineHeight:1.2},i.t17={text:["Kindly ensure the transfer is done before close of business today ",{text:r}," \n\n"],lineHeight:1.2},i.t18={text:"Yours faithfully \n\n\n",lineHeight:1.2},i.t19={columns:[{text:[{text:"Signed: ",italics:!0},{text:this.paySchedule.batchUserName1,style:"signEx"}]},{text:[{text:"Signed: ",italics:!0},{text:this.paySchedule.batchUserName2,style:"signEx"}]}]},i.t20={columns:[{text:[{text:this.paySchedule.batchUserName1,bold:!0}," ",{text:n,bold:!0}]},{text:[{text:this.paySchedule.batchUserName2,bold:!0}," ",{text:a,bold:!0}]}]},i.t21={text:"Payment Schedule Annuity Payment",bold:!0,alignment:"center",pageOrientation:"landscape",pageBreak:"before"},i.t22={style:"tableExample",table:{headerRows:1,body:[["S/N","S/N ON APPR","PIN","MEMBER NAME ON NAV","NAME ON PENCOM APPROVAL","ACCOUNT NAME (NIBSS)","BANK","BANK ACCOUNT NO","BANK SORT CODE","FUND PRICE","TOTAL UNITS","TOTAL VALUE","Insurance Company","PREMIUM","LUMPSUM AMOUNT","ADMIN FEES","AMOUNT TO BE PAID","EMPLOYER NAME","EMPLOYER CODE","BA ID"]].concat(_toConsumableArray(this.taskList.map((function(e){return[e.serialNo,e.pencomApprovalNo,e.rsapin,e.surname+" "+e.firstName+" "+e.otherNames,e.surname,e.accountNameNav,e.bankBranchName,e.nkAccountNumber,e.bankSortCode,e.fundPrice,e.numberUnits,e.totalValue,e.insuranceCoy,e.addPremium,e.availLupsum,e.adminFee,e.netAmount,e.lastEmployer,e.nibssValidator,e.bashNo]}))),[[{},{},{},{},{},{},{},{},{},{},{text:"Total Amount"},s,{},{},l,u,t,{},{},{}]])}},i.t23=["Total Amount  ",{text:t,bold:!0}],i.t24=[i.t3,i.t4,i.t5,i.t6,i.t7,i.t8,i.t9,i.t10,i.t11,i.t12,i.t13,i.t14,i.t15,i.t16,i.t17,i.t18,i.t19,i.t20,i.t21,i.t22,i.t23],i.t25={header:{fontSize:22,bold:!0,alignment:"center"},baright:{alignment:"right",bold:!0,color:"blue"},tableExample:{margin:[0,5,0,15],fontSize:8},anotherStyle:{italics:!0,alignment:"right"}},g={userPassword:"1234",ownerPassword:"123456",permissions:i.t0,info:i.t1,pageSize:"LEGAL",content:i.t24,styles:i.t25},pdfMake.createPdf(g).open();case 32:case"end":return i.stop()}}),i,this)})))}}])}()).\u0275fac=function(e){return new(e||Ae)(m.Pb(g.a),m.Pb(f.a),m.Pb(n.e),m.Pb(c.c))},Ae.\u0275cmp=m.Jb({type:Ae,selectors:[["app-payment-schdule"]],decls:85,vars:26,consts:[["novalidate","",3,"ngSubmit"],["submitForm","ngForm"],[1,"row"],[1,"col-4","gName"],["name","appType","required","","placeholder","d.ff",1,"form-control",3,"ngModel","ngModelChange","change"],["appType","ngModel"],["hidden","","value","","disabled","","selected",""],[4,"ngFor","ngForOf"],["color","danger"],["id","error",3,"hidden"],["name","appNamesign","placeholder","d.ff","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["appNamesign","ngModel"],["name","appNamesign2","placeholder","d.ff","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["appNamesign2","ngModel"],["class","col-4",4,"ngIf"],[1,"col-4"],["appearance","fill"],["matInput","","name","strtDate","required","","placeholder","Choose a date",3,"matDatepicker","max","ngModel","ngModelChange"],["strtDate","ngModel"],["matSuffix","",3,"for"],["color","primary"],["pickerStat",""],[1,"col","col-3"],["id","search","type","button",1,"btn","btn-outline-secondary",3,"click"],["class","btn btn-sm font-weight-bold btn-link",3,"click",4,"ngIf"],[1,"table","table-striped"],[3,"collectionSize","page","maxSize","rotate","ellipses","boundaryLinks","pageChange"],["name","insurCoy","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["insurCoy","ngModel"],["matInput","","name","ndDate","required","","placeholder","Choose a date",3,"matDatepicker","max","ngModel","ngModelChange"],["ndDate","ngModel"],["pickerEnd",""],[1,"btn","btn-sm","font-weight-bold","btn-link",3,"click"],[3,"click"]],template:function(e,t){if(1&e){var r=m.Vb();m.Ub(0,"h5"),m.Hc(1,"RSA Memo/Payment Schedule"),m.Tb(),m.Ub(2,"form",0,1),m.gc("ngSubmit",(function(){m.yc(r);var e=m.xc(3);return t.search(e)})),m.Ub(4,"div",2),m.Ub(5,"div",3),m.Ub(6,"label"),m.Hc(7,"Application Type"),m.Tb(),m.Ub(8,"select",4,5),m.gc("ngModelChange",(function(e){return t.paySchedule.applicationType=e}))("change",(function(e){return t.getAppType(e)})),m.Ub(10,"option",6),m.Hc(11,"Select Application Type"),m.Tb(),m.Fc(12,de,2,1,"option",7),m.Tb(),m.Ub(13,"div",8),m.Ub(14,"p",9),m.Hc(15," Application Type is required "),m.Tb(),m.Tb(),m.Tb(),m.Ub(16,"div",3),m.Ub(17,"label"),m.Hc(18,"First Signatory"),m.Tb(),m.Ub(19,"select",10,11),m.gc("ngModelChange",(function(e){return t.paySchedule.batchUserLogin3=e}))("change",(function(e){return t.getFirstSignatory(e)})),m.Ub(21,"option",6),m.Hc(22,"Select Signatory"),m.Tb(),m.Fc(23,pe,2,1,"option",7),m.Tb(),m.Ub(24,"div",8),m.Ub(25,"p",9),m.Hc(26," Signatory name is required "),m.Tb(),m.Tb(),m.Tb(),m.Ub(27,"div",3),m.Ub(28,"label"),m.Hc(29,"Secondary Signatory"),m.Tb(),m.Ub(30,"select",12,13),m.gc("ngModelChange",(function(e){return t.paySchedule.batchUserLogin4=e}))("change",(function(e){return t.getSecondSignatory(e)})),m.Ub(32,"option",6),m.Hc(33,"Select Signatory"),m.Tb(),m.Fc(34,me,2,1,"option",7),m.Tb(),m.Ub(35,"div",8),m.Ub(36,"p",9),m.Hc(37," Signatory name is required "),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(38,"div",2),m.Fc(39,fe,11,3,"div",14),m.Ub(40,"div",15),m.Ub(41,"label"),m.Hc(42,"First Signatory Date"),m.Tb(),m.Ub(43,"mat-form-field",16),m.Ub(44,"input",17,18),m.gc("ngModelChange",(function(e){return t.paySchedule.fstSignDate=e})),m.Tb(),m.Qb(46,"mat-datepicker-toggle",19),m.Qb(47,"mat-datepicker",20,21),m.Tb(),m.Ub(49,"div",8),m.Ub(50,"p",9),m.Hc(51," First signatory date is required "),m.Tb(),m.Tb(),m.Tb(),m.Fc(52,be,12,5,"div",14),m.Tb(),m.Tb(),m.Ub(53,"div",2),m.Ub(54,"div",22),m.Ub(55,"button",23),m.gc("click",(function(){m.yc(r);var e=m.xc(3);return t.search(e)})),m.Hc(56,"Search "),m.Tb(),m.Tb(),m.Tb(),m.Fc(57,ye,2,0,"button",24),m.Fc(58,Ne,2,0,"button",24),m.Ub(59,"table",25),m.Ub(60,"thead"),m.Ub(61,"tr"),m.Ub(62,"td"),m.Hc(63,"S/N"),m.Tb(),m.Ub(64,"td"),m.Hc(65,"Reference Code"),m.Tb(),m.Ub(66,"td"),m.Hc(67,"Application Name"),m.Tb(),m.Ub(68,"td"),m.Hc(69,"First Signatory"),m.Tb(),m.Ub(70,"td"),m.Hc(71,"1st Sign. Date"),m.Tb(),m.Ub(72,"td"),m.Hc(73,"Second Signatory"),m.Tb(),m.Ub(74,"td"),m.Hc(75,"2nd Sign. Date"),m.Tb(),m.Ub(76,"td"),m.Hc(77,"Status"),m.Tb(),m.Ub(78,"td"),m.Hc(79,"Request Date"),m.Tb(),m.Tb(),m.Tb(),m.Ub(80,"tbody"),m.Fc(81,ve,23,18,"tr",7),m.Tb(),m.Tb(),m.Ub(82,"ngb-pagination",26),m.gc("pageChange",(function(e){return t.page=e})),m.Tb(),m.Ub(83,"pre"),m.Hc(84),m.Tb()}if(2&e){var n=m.xc(9),a=m.xc(20),i=m.xc(31),o=m.xc(45),s=m.xc(48);m.Bb(8),m.qc("ngModel",t.paySchedule.applicationType),m.Bb(4),m.qc("ngForOf",t.applicationType),m.Bb(2),m.qc("hidden",n.valid||!1===t.submitted),m.Bb(5),m.qc("ngModel",t.paySchedule.batchUserLogin3),m.Bb(4),m.qc("ngForOf",t.signatoryUserList),m.Bb(2),m.qc("hidden",a.valid||!1===t.submitted),m.Bb(5),m.qc("ngModel",t.paySchedule.batchUserLogin4),m.Bb(4),m.qc("ngForOf",t.signatoryList2),m.Bb(2),m.qc("hidden",i.valid||!1===t.submitted),m.Bb(3),m.qc("ngIf",t.isFundAccAP),m.Bb(5),m.qc("matDatepicker",s)("max",t.today)("ngModel",t.paySchedule.fstSignDate),m.Bb(2),m.qc("for",s),m.Bb(4),m.qc("hidden",o.valid||!1===t.submitted),m.Bb(2),m.qc("ngIf",t.isFundAcc),m.Bb(5),m.qc("ngIf",t.isFundAccShow),m.Bb(1),m.qc("ngIf",t.isFundAccShow),m.Bb(23),m.qc("ngForOf",t.taskList),m.Bb(1),m.qc("collectionSize",t.taskList.length)("page",t.page)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0),m.Bb(2),m.Jc("Current page: ",t.page,"")}},directives:[b.x,b.m,b.n,b.u,b.t,b.l,b.o,b.p,b.w,n.l,n.m,y.b,i.b,o.b,b.c,o.d,y.e,o.a,a.l],pipes:[n.e],styles:["h5[_ngcontent-%COMP%]{color:#fff;padding:4px;background-color:#0033a1;width:100%;text-align:center}#error[_ngcontent-%COMP%]{color:red}thead[_ngcontent-%COMP%]{color:#fff;padding:4px;background-color:#0033a1;width:100%}.row[_ngcontent-%COMP%]   .col.col-3[_ngcontent-%COMP%]{margin-top:20px}.gName[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}a[_ngcontent-%COMP%]{color:#0033a1!important}a[_ngcontent-%COMP%]:hover{text-decoration:underline!important}h4[_ngcontent-%COMP%]{margin-top:25px}.batch-table[_ngcontent-%COMP%]{margin-bottom:30px}#spacer[_ngcontent-%COMP%]{margin:2vh}td[_ngcontent-%COMP%]{text-align:center}#search[_ngcontent-%COMP%]{margin-bottom:5vh}#btn[_ngcontent-%COMP%]{color:#fff;background-color:#0033a1;margin-bottom:2vh}"]}),Ae),Te=r("tk/3");function Ue(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.name," ")}}function Ee(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",1),m.Ub(1,"label"),m.Hc(2,"SAP Id"),m.Tb(),m.Ub(3,"input",17,18),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().batchList.login=e})),m.Tb(),m.Tb()}if(2&e){var n=m.kc();m.Bb(3),m.qc("ngModel",n.batchList.login)}}function Me(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",1),m.Ub(1,"label"),m.Hc(2,"Search"),m.Tb(),m.Ub(3,"input",19,18),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().batchList.batchUserLogin=e}))("change",(function(e){return m.yc(r),m.kc().getClientRequest(e)})),m.Tb(),m.Tb()}if(2&e){var n=m.kc();m.Bb(3),m.qc("ngModel",n.batchList.batchUserLogin)}}function Ce(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.name," ")}}function Le(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",1),m.Ub(1,"label"),m.Hc(2,"Application Type"),m.Tb(),m.Ub(3,"select",20,21),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().batchList.applicationType=e}))("change",(function(e){return m.yc(r),m.kc().getAppType(e)})),m.Ub(5,"option",4),m.Hc(6,"Select Application Type"),m.Tb(),m.Fc(7,Ce,2,1,"option",5),m.Tb(),m.Tb()}if(2&e){var n=m.kc();m.Bb(3),m.qc("ngModel",n.batchList.applicationType),m.Bb(4),m.qc("ngForOf",n.applicationType)}}function Re(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.name," ")}}function Pe(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",1),m.Ub(1,"label"),m.Hc(2,"Group Name"),m.Tb(),m.Ub(3,"select",22,23),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().batchList.groupName=e}))("change",(function(e){return m.yc(r),m.kc().getGroupName(e)})),m.Ub(5,"option",4),m.Hc(6,"Select Group Name"),m.Tb(),m.Fc(7,Re,2,1,"option",5),m.Tb(),m.Ub(8,"div",24),m.Ub(9,"p",25),m.Hc(10," Group Name is required "),m.Tb(),m.Tb(),m.Tb()}if(2&e){var n=m.xc(4),a=m.kc();m.Bb(3),m.qc("ngModel",a.batchList.groupName),m.Bb(4),m.qc("ngForOf",a.groupListName),m.Bb(2),m.qc("hidden",n.valid||!1===a.submitted)}}function ke(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r.name," ")}}function Oe(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",1),m.Ub(1,"label"),m.Hc(2,"Branch Name"),m.Tb(),m.Ub(3,"select",26,27),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().batchList.branchName=e}))("change",(function(e){return m.yc(r),m.kc().getBranchName(e)})),m.Ub(5,"option",4),m.Hc(6,"Select Branch Name"),m.Tb(),m.Fc(7,ke,2,1,"option",5),m.Tb(),m.Ub(8,"div",24),m.Ub(9,"p",25),m.Hc(10," Branch Name is required "),m.Tb(),m.Tb(),m.Tb()}if(2&e){var n=m.xc(4),a=m.kc();m.Bb(3),m.qc("ngModel",a.batchList.branchName),m.Bb(4),m.qc("ngForOf",a.branchListName),m.Bb(2),m.qc("hidden",n.valid||!1===a.submitted)}}function Ie(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",1),m.Ub(1,"label"),m.Hc(2,"Start Date"),m.Tb(),m.Ub(3,"mat-form-field",28),m.Ub(4,"input",29,30),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().batchList.startDate=e})),m.Tb(),m.Qb(6,"mat-datepicker-toggle",31),m.Qb(7,"mat-datepicker",32,33),m.Tb(),m.Tb()}if(2&e){var n=m.xc(8),a=m.kc();m.Bb(4),m.qc("matDatepicker",n)("max",a.today)("ngModel",a.batchList.startDate),m.Bb(2),m.qc("for",n)}}function xe(e,t){if(1&e){var r=m.Vb();m.Ub(0,"div",1),m.Ub(1,"label"),m.Hc(2,"End Date"),m.Tb(),m.Ub(3,"mat-form-field",28),m.Ub(4,"input",34,35),m.gc("ngModelChange",(function(e){return m.yc(r),m.kc().batchList.endDate=e})),m.Tb(),m.Qb(6,"mat-datepicker-toggle",31),m.Qb(7,"mat-datepicker",32,36),m.Tb(),m.Tb()}if(2&e){var n=m.xc(8),a=m.kc();m.Bb(4),m.qc("matDatepicker",n)("max",a.today)("ngModel",a.batchList.endDate),m.Bb(2),m.qc("for",n)}}function De(e,t){if(1&e){var r=m.Vb();m.Ub(0,"button",37),m.gc("click",(function(){return m.yc(r),m.kc().exportToExcel()})),m.Hc(1,"Export to Excel"),m.Tb()}}function we(e,t){1&e&&(m.Ub(0,"h4"),m.Hc(1,"Search List"),m.Tb())}function Be(e,t){if(1&e){var r=m.Vb();m.Ub(0,"tr"),m.Ub(1,"td"),m.Hc(2),m.Tb(),m.Ub(3,"td"),m.Ub(4,"a",39),m.gc("click",(function(){m.yc(r);var e=t.$implicit;return m.kc(2).routeToPageChk(e.id,e.current_Approver_Code,e.returnForCorrection,e.applicationType)})),m.Hc(5),m.Tb(),m.Tb(),m.Ub(6,"td"),m.Hc(7),m.Tb(),m.Ub(8,"td"),m.Hc(9),m.Tb(),m.Ub(10,"td"),m.Hc(11),m.Tb(),m.Qb(12,"td"),m.Qb(13,"td"),m.Tb()}if(2&e){var n=t.$implicit,a=t.index;m.Bb(2),m.Ic(a+1),m.Bb(3),m.Ic(n.workflowRequestID),m.Bb(2),m.Ic(n.applicationType),m.Bb(2),m.Ic(n.current_Approver),m.Bb(2),m.Ic(n.rsapin)}}function _e(e,t){if(1&e&&(m.Ub(0,"table",38),m.Ub(1,"thead"),m.Ub(2,"tr"),m.Ub(3,"td"),m.Hc(4,"S/N"),m.Tb(),m.Ub(5,"td"),m.Hc(6,"Reference Code"),m.Tb(),m.Ub(7,"td"),m.Hc(8,"Application Name"),m.Tb(),m.Ub(9,"td"),m.Hc(10,"Current Approval"),m.Tb(),m.Ub(11,"td"),m.Hc(12,"RSA Pin"),m.Tb(),m.Qb(13,"td"),m.Qb(14,"td"),m.Tb(),m.Tb(),m.Ub(15,"tbody"),m.Fc(16,Be,14,5,"tr",5),m.Tb(),m.Tb()),2&e){var r=m.kc();m.Bb(16),m.qc("ngForOf",r.taskCheckList)}}function Fe(e,t){if(1&e){var r=m.Vb();m.Ub(0,"tr"),m.Ub(1,"td"),m.Hc(2),m.Tb(),m.Ub(3,"td"),m.Ub(4,"a",39),m.gc("click",(function(){m.yc(r);var e=t.$implicit;return m.kc().routeToPage(e.id,e.current_Approver_Code,e.returnForCorrection,e.current_Approver,e.applicationType)})),m.Hc(5),m.Tb(),m.Tb(),m.Ub(6,"td"),m.Hc(7),m.Tb(),m.Ub(8,"td"),m.Hc(9),m.Tb(),m.Ub(10,"td"),m.Hc(11),m.Tb(),m.Ub(12,"td"),m.Hc(13),m.Tb(),m.Ub(14,"td"),m.Hc(15),m.Tb(),m.Ub(16,"td"),m.Hc(17),m.Tb(),m.Ub(18,"td"),m.Hc(19),m.Tb(),m.Ub(20,"td"),m.Hc(21),m.lc(22,"date"),m.Tb(),m.Qb(23,"td"),m.Tb()}if(2&e){var n=t.$implicit,a=t.index,i=m.kc();m.Bb(2),m.Ic((i.page-1)*i.pageSize+a+1),m.Bb(3),m.Ic(n.workflowRequestID),m.Bb(2),m.Ic(n.bashNo),m.Bb(2),m.Ic(n.applicationType),m.Bb(2),m.Ic(n.current_Approver),m.Bb(2),m.Ic(n.pendingUserLogin),m.Bb(2),m.Ic(n.branch),m.Bb(2),m.Ic(n.approval_Status),m.Bb(2),m.Ic(n.navStatus),m.Bb(2),m.Ic(m.nc(22,10,n.createdDate,"dd/MM/yyyy, h:mm a"))}}function He(e,t){if(1&e&&(m.Ub(0,"option"),m.Hc(1),m.Tb()),2&e){var r=t.$implicit;m.Bb(1),m.Jc(" ",r," ")}}var Ge,qe,je,Ve=[{path:"rsa-report",component:w},{path:"rsa-reroute",component:he},{path:"payment-schdule",component:Se},{path:"rsa-search",component:(Ge=function(){return _createClass((function e(t,r,n,a,i){_classCallCheck(this,e),this.service=t,this.helperService=r,this.http=n,this.datePipes=a,this.router=i,this.submitted=!1,this.title=["Mr","Mrs","Dr"],this.requestStatus=["Pending","Approved","Signed","Close"],this.requestStat=[{code:"ARQ",name:"All Request"},{code:"MRQ",name:"My Request"},{code:"PBM",name:"Process by Me"},{code:"PSD",name:"Pencom Submit Date"},{code:"WDD",name:"Withdrawal Date"},{code:"APT",name:"Application Type"},{code:"SIS",name:"Single Item Search"},{code:"LIS",name:"List of Items Search"},{code:"PDG",name:"Pending Group"},{code:"TRQ",name:"Current Request"}],this.pageSizeList=[10,25,50,100,150,200],this.userList=[],this.taskBatch=[],this.tashBatchReq=[],this.taskCheckList=[],this.userGroupList=[],this.rmasList=[],this.isDisabled=!0,this.isBatch=!1,this.isBatchChk=!1,this.isExportExcel=!1,this.applicationType=[],this.groupList=[],this.taskBatch2=[],this.groupListName=[],this.branchListName=[],this.taskList=[],this.taskListAll=[],this.exportAll=[],this.checkItem=[],this.page=1,this.pageSize=10,this.totalCounts=0,this.today=new Date,this.todayReport=new Date,this.batchList={batchUserLogin:"",batchUserEmail:"",batchUserName:"",rsapin:"",login:"",groupName:"",branchName:"",filterBy:"Current Request",requestStatus:"Pending",endDate:null,startDate:null,withdrawEndDate:null,withdrawStartDate:null,currentUserName:"",currentUserLogin:"",currentUserEmail:"",approval_Status:"",current_Approver:"",current_Approver_Code:"",pendingUserEmail:"",pendingUserLogin:"",returnForCorrection:"",applicationType:"",pencomSubmissionDate:null,pencomSubmissionEndDate:null,excelTemplate:""}}),[{key:"ngOnInit",value:function(){this.currentUserDetail(),this.getApplicationType(),this.getGroupList(),this.getBranchList()}},{key:"currentUserDetail",value:function(){var e=this;this.service.getIdentityUserUrl().then((function(t){if(null!=t){console.log(t);var r=t.samAccountName;e.batchList.currentUserName=t.displayName,e.batchList.currentUserLogin=t.samAccountName,e.batchList.currentUserEmail=t.emailAddress,e.filterCode="TRQ";var n=e.filterCode;console.log(e.batchList),e.initTaskList(r,n)}})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"getApplicationType",value:function(){var e=this;this.service.get("RSAApplicationType").then((function(t){null!=t&&(e.applicationType=t)})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t.statusText;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"startMapping",value:function(e){this.taskList=e,this.taskCheckList=this.taskCheckList.sort((function(e,t){return t.id-e.id})),this.taskList=this.taskList.sort((function(e,t){return t.id-e.id}))}},{key:"initTaskList",value:function(e,t){var r=this;"TRQ"===t&&this.service.postUrl("DigiProRequest/GetUserGroups/"+e).then((function(e){r.groupList=e;var t=r.groupList,n=r.todayReport,a=t.some((function(e){return e.groupName===d.k})),i=t.some((function(e){return e.groupName===d.n})),o=t.map((function(e){return e.groupName})).toString();1==a||1==i?r.getTodayRequest(n):""!=o?r.getSearchOne("MRQ","DigiProRequest/MyRequest",n,n,n):(r.router.navigate(["task-list"]),r.helperService.showError("You do not have permission to perform this operation"))})).catch((function(e){return Object(l.a)(r,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e.statusText;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"getTodayRequest",value:function(e){var t=this,r=this.datePipes.transform(e,"yyyy-MM-dd");this.service.post("DigiProReport/GetTodayDateRequest",{startDate:r,endDate:"",pageNumber:this.page,pageSize:this.pageSize}).then((function(e){null!=e&&(t.startMapping(e.requests),t.totalCounts=e.totalCount)})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e.statusText;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"getSearchBy",value:function(){var e=this.batchList.login,t=this.filterCode,r=this.datePipes.transform(this.batchList.startDate,"yyyy-MM-dd"),n=this.datePipes.transform(this.batchList.endDate,"yyyy-MM-dd");if(null!==r&&null!=n&&""!==e&&"MRQ"===t)var a="DigiProRequest/MyRequest";else if(null!==r&&null!=n&&""!==e&&"PBM"===t)a="DigiProRequest/GetAllMyApprovals";else if(null!==r&&null!=n&&"ARQ"===t)a="DigiProReport/GetDateRangeRequestPage";else if(null!==r&&null!=n&&"PSD"===t)a="DigiProReport/GetSubmitDateRequest";else if(null!==r&&null!=n&&"WDD"===t)a="DigiProReport/GetWithdrawalDateRequest";else if(null!==r&&null!=n&&"APT"===t)a="DigiProRequest/GetRequestByAppType";else if("TRQ"===t)a="DigiProReport/GetTodayDateRequest";else if("PDG"===t){var i=this.batchList.groupName;a=i===d.g||i===d.a||i===d.e?"DigiProReport/GetRequestPendingBranch":"DigiProReport/GetRequestPendingGroup"}else this.helperService.showError("Please input all parameters before you porceed");""!==a&&this.getSearchOne(t,a,r,n,"")}},{key:"getPageFromServiceSearch",value:function(){var e=this.filterCode,t=this.datePipes.transform(this.batchList.startDate,"yyyy-MM-dd"),r=this.datePipes.transform(this.batchList.endDate,"yyyy-MM-dd"),n=this.datePipes.transform(this.todayReport,"yyyy-MM-dd");if("MRQ"===e)var a="DigiProRequest/MyRequest";else if("PBM"===e)a="DigiProRequest/GetAllMyApprovals";else if("ARQ"===e)a="DigiProReport/GetDateRangeRequestPage";else if("PSD"===e)a="DigiProReport/GetSubmitDateRequest";else if("WDD"===e)a="DigiProReport/GetWithdrawalDateRequest";else if("APT"===e)a="DigiProRequest/GetRequestByAppType";else if("TRQ"===e)a="DigiProReport/GetTodayDateRequest";else if("PDG"===e){var i=this.batchList.groupName;a=i===d.g||i===d.a||i===d.e?"DigiProReport/GetRequestPendingBranch":"DigiProReport/GetRequestPendingGroup"}""!==a&&this.getSearchOne(e,a,t,r,n)}},{key:"getSearchOne",value:function(e,t,r,n,a){var i=this.batchList.applicationType,o=this.page,s=this.pageSize,c=this.batchList.login;if(this.isExportExcel=!0,this.batchList.excelTemplate="WDD"===e?"withdrawal":"normal",""!==t)if("WDD"===e||"PSD"===e)this.getSearch2(t,{startDate:r,endDate:n,pageNumber:o,pageSize:s});else if("ARQ"===e)this.getSearchUrl("DigiProReport/GetDateRangeRequest/".concat(r,"/").concat(n));else if("MRQ"===e||"PBM"===e)this.getSearch2(t,{startDate:r,endDate:n,pageNumber:o,pageSize:s,search:c});else if("APT"===e)this.getSearch2(t,{startDate:r,endDate:n,pageNumber:o,pageSize:s,search:i});else if("TRQ"===e)this.getSearch2(t,{startDate:a,endDate:null,pageNumber:o,pageSize:s});else if("PDG"===e){var l=this.batchList.groupName;this.getSearch2(t,l===d.g||l===d.a||l===d.e?{startDate:r,endDate:n,pageNumber:o,pageSize:s,login:l,search:this.batchList.branchName}:{startDate:r,endDate:n,pageNumber:o,pageSize:s,search:l})}}},{key:"getSearch2",value:function(e,t){var r=this,n=this.exportAllRecord;this.service.post(e,t).then((function(e){null!=e&&"exportAll"!==n?(r.startMapping(e.requests),r.totalCounts=e.totalCount):null!=e&&"exportAll"===n&&(r.exportAll=e.requests,r.exportRecord())})).catch((function(e){return Object(l.a)(r,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e.statusText;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"getSearchUrl",value:function(e){var t=this;this.service.postUrl(e).then((function(e){null!=e&&t.startMapping(e)})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e.statusText;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"routeToPageChk",value:function(e,t,r,n){this.router.navigate("AA0"===t&&"Yes"==r||"Save For Later"===t?["rsa-form",{id:e,appType:n}]:["approval-page",{id:e,appType:n}])}},{key:"routeToPage",value:function(e,t,r,n,a){this.router.navigate("AA0"===t&&"Yes"==r||"Save For Later"===n?["rsa-form",{id:e,appType:a}]:["approval-page",{id:e,appType:a}])}},{key:"getClientRequest",value:function(e){var t=this,r=e.target.value;this.batchList.excelTemplate="normal",this.isExportExcel=!0;var n=this.filterCode;if("SIS"===n)this.getClientRequest2("DigiProReport/GetExportRequest/"+r);else if("LIS"===n){var a=r.replace(/\s/g,"").split(",");this.service.post("DigiProRequest/GetExportRequests",a).then((function(e){null!=e&&t.startMapping(e)})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e.statusText;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}}},{key:"getClientRequest2",value:function(e){var t=this;this.service.postUrl(e).then((function(e){null!=e&&t.startMapping(e)})).catch((function(e){return Object(l.a)(t,void 0,void 0,_regeneratorRuntime().mark((function t(){return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.helperService,t.next=3,e.statusText;case 3:t.t1=t.sent,t.t0.showError.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})))}))}},{key:"getAppType",value:function(e){var t=e.target.value;this.batchList.excelTemplate="normal",this.batchList.applicationType=t}},{key:"getGroupList",value:function(){var e=this;this.service.get("RSAGroup").then((function(t){null!=t&&(e.groupListName=t)})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t.statusText;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"getBranchList",value:function(){var e=this;this.service.get("RSABranch").then((function(t){null!=t&&(e.branchListName=t.sort((function(e,t){return e.name>t.name?1:-1})))})).catch((function(t){return Object(l.a)(e,void 0,void 0,_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.helperService,e.next=3,t.statusText;case 3:e.t1=e.sent,e.t0.showError.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e,this)})))}))}},{key:"reloadCurrentRoute",value:function(){var e=this,t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then((function(){e.router.navigate([t])}))}},{key:"getGroupName",value:function(e){this.grpName=e.target.selectedIndex,console.log(this.batchList.groupName)}},{key:"getBranchName",value:function(e){this.brnhName=e.target.selectedIndex,console.log(this.batchList.branchName)}},{key:"getFilterBy",value:function(e){var t=e.target.selectedIndex,r=-1+t;this.flterCod=t,console.log(this.requestStat[r]),this.batchList.filterBy=this.requestStat[r].name,this.filterCode=this.requestStat[r].code,"TRQ"===this.filterCode&&this.getTodayRequest(this.todayReport)}},{key:"exportToExcel",value:function(){var e=this.filterCode;this.pageSize=this.totalCounts,this.exportAllRecord="exportAll","ARQ"===e||"SIS"===e||"LIS"===e?(this.exportAll=this.taskList,this.exportRecord()):this.getPageFromServiceSearch()}},{key:"exportRecord",value:function(){var e=this.batchList.excelTemplate;if("normal"===e){for(var t=0;t<this.exportAll.length;t++){this.exportAll[t].serialNo=t+1;var r=this.exportAll;null===r[t].csoStage&&(r[t].csoStage=[],r[t].csoStage.name="",r[t].csoStage.actionTime=""),null===r[t].asaStage&&(r[t].asaStage=[],r[t].asaStage.name="",r[t].asaStage.actionTime=""),null===r[t].hboStage&&(r[t].hboStage=[],r[t].hboStage.name="",r[t].hboStage.actionTime=""),null===r[t].ssoStage&&(r[t].ssoStage=[],r[t].ssoStage.name="",r[t].ssoStage.actionTime="")}var n=[],a={data:[{A:"RSA Data"},{A:"S/N",B:"PIN",C:"Batch ID",D:"Application Type",E:"Member name of NAV",F:"Mobile Number",G:"Bank Name",H:"Bank Account No",I:"Current Status on DigiPro",J:"CSO Name",K:"Date Created on DigiPro",L:"ASA Name",M:"Date Approved by ASA",N:"HBO Name",O:"Date Approved by HBO",P:"SSO Name",Q:"Date Approved by SSO",R:"Document Link"}],skipHeader:!0};this.exportAll.forEach((function(e){a.data.push({A:e.serialNo,B:e.rsapin,C:e.bashNo,D:e.applicationType,E:e.surname+" "+e.firstName+" "+e.otherNames,F:e.phoneNumber+", "+e.otherPhoneNumber,G:e.bankBranchName,H:e.nkAccountNumber,I:e.current_Approver,J:e.csoStage.name,K:e.csoStage.actionTime,L:e.asaStage.name,M:e.asaStage.actionTime,N:e.hboStage.name,O:e.hboStage.actionTime,P:e.ssoStage.name,Q:e.ssoStage.actionTime,R:p.d+"/"+e.aallRequiredDocument})})),n.push(a),this.service.exportJsonToExcel(n,"rsa_data_customized")}else if("withdrawal"===e){for(var i=0;i<this.exportAll.length;i++)this.exportAll[i].serialNo=i+1;var o=[],s={data:[{A:"RSA Data"},{A:"S/N",B:"PIN",C:"Member name of NAV",D:"Batch ID",E:"Application Type",F:"Amount to be Withdrawn",G:"Maker Name",H:"Maker Approver Date",I:"Checker Name(Approver 1)",J:"Approver 1 Date",K:"HOU Name(Approver 2)",L:"Approver 2 Date",M:"HOD Name(Approver 3)",N:"Approver 3 Date",O:"ED NAME(Approver 4)",P:"Approver 4 Date"}],skipHeader:!0};this.exportAll.forEach((function(e){s.data.push({A:e.serialNo,B:e.rsapin,C:e.surname+" "+e.firstName+" "+e.otherNames,D:e.bashNo,E:e.applicationType,F:e.netAmount,G:e.makerStage.name,H:e.makerStage.actionTime,I:e.checkerStage.name,J:e.checkerStage.actionTime,K:e.houStage.name,L:e.houStage.actionTime,M:e.hodStage.name,N:e.hodStage.actionTime,O:e.edoStage.name,P:e.edoStage.actionTime})})),o.push(s),this.service.exportJsonToExcel(o,"rsa_data_customized")}}}])}(),Ge.\u0275fac=function(e){return new(e||Ge)(m.Pb(g.a),m.Pb(f.a),m.Pb(Te.b),m.Pb(n.e),m.Pb(c.c))},Ge.\u0275cmp=m.Jb({type:Ge,selectors:[["app-rsa-search"]],decls:59,vars:24,consts:[[1,"row","row-cols-auto"],[1,"col-3","gName"],["type","text","name","filtBy","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["filtBy","ngModel"],["hidden","","value","","disabled","","selected",""],[4,"ngFor","ngForOf"],["class","col-3 gName",4,"ngIf"],[1,"row"],[1,"col","col-3"],["id","search","type","button",1,"btn","btn-outline-secondary",3,"click"],["class","btn btn-sm font-weight-bold btn-link",3,"click",4,"ngIf"],[4,"ngIf"],["class","table batch-table table-striped",4,"ngIf"],[1,"table","table-striped"],[1,"d-flex","justify-content-between","p-2"],[3,"collectionSize","page","pageSize","maxSize","rotate","ellipses","boundaryLinks","pageChange"],[1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],["type","text","name","rsaPin",1,"form-control",3,"ngModel","ngModelChange"],["rsaPin","ngModel"],["type","text","name","rsaPin",1,"form-control",3,"ngModel","ngModelChange","change"],["name","appType","placeholder","d.ff","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["appType","ngModel"],["name","gName","placeholder","d.ff","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["gName","ngModel"],["color","danger"],["id","error",3,"hidden"],["name","brnhName","placeholder","d.ff","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["brnhName","ngModel"],["appearance","fill"],["matInput","","name","strtDate","placeholder","Choose a date","required","",3,"matDatepicker","max","ngModel","ngModelChange"],["strtDate","ngModel"],["matSuffix","",3,"for"],["color","primary"],["pickerStat",""],["matInput","","name","ndDate","placeholder","Choose a date","required","",3,"matDatepicker","max","ngModel","ngModelChange"],["ndDate","ngModel"],["pickerEnd",""],[1,"btn","btn-sm","font-weight-bold","btn-link",3,"click"],[1,"table","batch-table","table-striped"],[3,"click"]],template:function(e,t){1&e&&(m.Ub(0,"h5"),m.Hc(1,"Report List"),m.Tb(),m.Ub(2,"div",0),m.Ub(3,"div",1),m.Ub(4,"label"),m.Hc(5,"Filter By"),m.Tb(),m.Ub(6,"select",2,3),m.gc("ngModelChange",(function(e){return t.batchList.filterBy=e}))("change",(function(e){return t.getFilterBy(e)})),m.Ub(8,"option",4),m.Hc(9,"Select filter type"),m.Tb(),m.Fc(10,Ue,2,1,"option",5),m.Tb(),m.Tb(),m.Fc(11,Ee,5,1,"div",6),m.Fc(12,Me,5,1,"div",6),m.Fc(13,Le,8,2,"div",6),m.Fc(14,Pe,11,3,"div",6),m.Fc(15,Oe,11,3,"div",6),m.Fc(16,Ie,9,4,"div",6),m.Fc(17,xe,9,4,"div",6),m.Tb(),m.Ub(18,"div",7),m.Ub(19,"div",8),m.Ub(20,"button",9),m.gc("click",(function(){return t.getSearchBy()})),m.Hc(21,"Search "),m.Tb(),m.Tb(),m.Tb(),m.Fc(22,De,2,0,"button",10),m.Fc(23,we,2,0,"h4",11),m.Fc(24,_e,17,1,"table",12),m.Ub(25,"table",13),m.Ub(26,"thead"),m.Ub(27,"tr"),m.Ub(28,"td"),m.Hc(29,"S/N"),m.Tb(),m.Ub(30,"td"),m.Hc(31,"Reference Code"),m.Tb(),m.Ub(32,"td"),m.Hc(33,"Batch No"),m.Tb(),m.Ub(34,"td"),m.Hc(35,"Application Name"),m.Tb(),m.Ub(36,"td"),m.Hc(37,"Current Approval"),m.Tb(),m.Ub(38,"td"),m.Hc(39,"Pending User"),m.Tb(),m.Ub(40,"td"),m.Hc(41,"Branch"),m.Tb(),m.Ub(42,"td"),m.Hc(43,"Status"),m.Tb(),m.Ub(44,"td"),m.Hc(45,"Nav Status"),m.Tb(),m.Ub(46,"td"),m.Hc(47,"Request Date"),m.Tb(),m.Qb(48,"td"),m.Tb(),m.Tb(),m.Ub(49,"tbody"),m.Fc(50,Fe,24,13,"tr",5),m.Tb(),m.Tb(),m.Ub(51,"div",14),m.Ub(52,"ngb-pagination",15),m.gc("pageChange",(function(e){return t.page=e}))("pageChange",(function(){return t.getPageFromServiceSearch()})),m.Tb(),m.Ub(53,"select",16),m.gc("ngModelChange",(function(e){return t.pageSize=e}))("ngModelChange",(function(){return t.getPageFromServiceSearch()})),m.Fc(54,He,2,1,"option",5),m.Tb(),m.Tb(),m.Ub(55,"pre"),m.Hc(56),m.Tb(),m.Ub(57,"pre"),m.Hc(58),m.Tb()),2&e&&(m.Bb(6),m.qc("ngModel",t.batchList.filterBy),m.Bb(4),m.qc("ngForOf",t.requestStat),m.Bb(1),m.qc("ngIf","MRQ"===t.filterCode||"PBM"===t.filterCode),m.Bb(1),m.qc("ngIf","SIS"===t.filterCode||"LIS"===t.filterCode),m.Bb(1),m.qc("ngIf","APT"===t.filterCode),m.Bb(1),m.qc("ngIf","PDG"===t.filterCode),m.Bb(1),m.qc("ngIf","Customer Support Officer"===t.batchList.groupName||"Account Support & Admin"===t.batchList.groupName||"Head of Branch Operations"===t.batchList.groupName),m.Bb(1),m.qc("ngIf","SIS"!==t.filterCode&&"LIS"!==t.filterCode&&"TRQ"!==t.filterCode&&"PDG"!==t.filterCode),m.Bb(1),m.qc("ngIf","SIS"!==t.filterCode&&"LIS"!==t.filterCode&&"TRQ"!==t.filterCode&&"PDG"!==t.filterCode),m.Bb(5),m.qc("ngIf",t.isExportExcel),m.Bb(1),m.qc("ngIf",t.taskCheckList.length>0),m.Bb(1),m.qc("ngIf",t.taskCheckList.length>0),m.Bb(26),m.qc("ngForOf",t.taskList),m.Bb(2),m.qc("collectionSize",t.totalCounts)("page",t.page)("pageSize",t.pageSize)("maxSize",15)("rotate",!0)("ellipses",!1)("boundaryLinks",!0),m.Bb(1),m.qc("ngModel",t.pageSize),m.Bb(1),m.qc("ngForOf",t.pageSizeList),m.Bb(2),m.Jc("Current page: ",t.page,""),m.Bb(2),m.Jc("Total items: ",t.totalCounts,""))},directives:[b.u,b.t,b.l,b.o,b.p,b.w,n.l,n.m,a.l,b.c,y.b,i.b,o.b,o.d,y.e,o.a],pipes:[n.e],styles:["h5[_ngcontent-%COMP%]{text-align:center}h5[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{color:#fff;padding:4px;background-color:#0033a1;width:100%}.row[_ngcontent-%COMP%]   .col.col-3[_ngcontent-%COMP%]{margin-top:20px}.gName[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}a[_ngcontent-%COMP%]{color:#0033a1!important}a[_ngcontent-%COMP%]:hover{text-decoration:underline!important}h4[_ngcontent-%COMP%]{margin-top:25px}.batch-table[_ngcontent-%COMP%]{margin-bottom:30px}#spacer[_ngcontent-%COMP%]{margin:2vh}td[_ngcontent-%COMP%]{text-align:center}#search[_ngcontent-%COMP%]{margin-bottom:5vh}#btn[_ngcontent-%COMP%]{color:#fff;background-color:#0033a1;margin-bottom:2vh}"]}),Ge)}],ze=((je=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=m.Nb({type:je}),je.\u0275inj=m.Mb({factory:function(e){return new(e||je)},imports:[[c.d.forChild(Ve)],c.d]}),je),Ke=((qe=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=m.Nb({type:qe}),qe.\u0275inj=m.Mb({factory:function(e){return new(e||qe)},providers:[{provide:s.d,useValue:"en-GB"},n.e,n.c],imports:[[n.b,b.g,a.j,i.c,s.h,o.c,ze]]}),qe)},ewic:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrapHandlers=t.TypeHandlers=t.FormatOptions=t.DtdOptions=t.DeclarationOptions=t.Options=void 0;var n=r("znvk");t.Options=function(e){void 0===e&&(e={}),this.aliasString="=",this.attributeString="@",this.cdataInvalidChars=!1,this.cdataKeys=[],this.replaceInvalidChars=!1,this.useSelfClosingTagIfEmpty=!0,this.validation=!0,this.valueString="#",(0,n.isUndefined)(e.validation)||(this.validation=e.validation),(0,n.isUndefined)(e.aliasString)||(this.aliasString=e.aliasString),(0,n.isUndefined)(e.attributeString)||(this.attributeString=e.attributeString),(0,n.isUndefined)(e.cdataInvalidChars)||(this.cdataInvalidChars=e.cdataInvalidChars),(0,n.isUndefined)(e.cdataKeys)||(this.cdataKeys=e.cdataKeys),this.declaration=new a(e.declaration),this.dtd=new i(this.validation,e.dtd),this.format=new o(e.format),(0,n.isUndefined)(e.replaceInvalidChars)||(this.replaceInvalidChars=e.replaceInvalidChars),this.typeHandlers=new s(e.typeHandlers),(0,n.isUndefined)(e.useSelfClosingTagIfEmpty)||(this.useSelfClosingTagIfEmpty=e.useSelfClosingTagIfEmpty),(0,n.isUndefined)(e.valueString)||(this.valueString=e.valueString),this.wrapHandlers=new c(e.wrapHandlers)};var a=function(e){void 0===e&&(e={}),this.include=!0,(0,n.isUndefined)(e.include)||(this.include=e.include),this.encoding=e.encoding,this.standalone=e.standalone,this.version=e.version};t.DeclarationOptions=a;var i=function(e,t){if(void 0===t&&(t={}),this.include=!1,(0,n.isUndefined)(t.include)||(this.include=t.include),e&&(0,n.isUndefined)(t.name)&&this.include)throw new Error("options.dtd.name should be defined if options.dtd.include is true");this.name=t.name,this.sysId=t.sysId,this.pubId=t.pubId};t.DtdOptions=i;var o=function(e){void 0===e&&(e={}),this.doubleQuotes=e.doubleQuotes,this.indent=e.indent,this.newline=e.newline,this.pretty=e.pretty};t.FormatOptions=o;var s=function(e){for(var t in void 0===e&&(e={}),e)Object.prototype.hasOwnProperty.call(e,t)&&(this[t]=e[t])};t.TypeHandlers=s;var c=function(e){for(var t in void 0===e&&(e={}),e)Object.prototype.hasOwnProperty.call(e,t)&&(this[t]=e[t])};t.WrapHandlers=c},h2TC:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FxkU"),a=r("t95l");t.default=function(){function e(e,t,r){this._validation=t,this._parent=e,this.name=r.name}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){if(this._validation&&!(0,a.validateName)(e))throw new Error((0,n.getContext)(this.up())+': entity reference name "'+e+'" should not contain characters not allowed in XML names');this._name=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"&"+this._name+";"},e.prototype.up=function(){return this._parent},e}()},hGlE:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FxkU"),a=r("t95l");t.default=function(){function e(e,t,r){this._validation=t,this._parent=e,this.name=r.name}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){if(this._validation&&!(0,a.validateName)(e))throw new Error((0,n.getContext)(this.up())+': parameter entity reference name "'+e+'" should not contain characters not allowed in XML names');this._name=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"%"+this._name+";"},e.prototype.up=function(){return this._parent},e}()},iIvF:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FxkU"),a=r("t95l");t.default=function(){function e(e,t,r){this._validation=t,this._replaceInvalidCharsInCharData=!(0,a.isUndefined)(r.replaceInvalidCharsInCharData)&&r.replaceInvalidCharsInCharData,this._parent=e,this.charData=r.charData}return Object.defineProperty(e.prototype,"charData",{get:function(){return this._charData},set:function(e){if(this._replaceInvalidCharsInCharData)e=(0,a.fixChar)(e);else if(this._validation&&!(0,a.validateChar)(e))throw new Error((0,n.getContext)(this.up())+': comment content "'+e+'" should not contain characters not allowed in XML');if(this._replaceInvalidCharsInCharData)e=e.replace("--","\ufffd\ufffd");else if(this._validation&&-1!==e.indexOf("--"))throw new Error((0,n.getContext)(this.up())+': comment content "'+e+"\" should not contain the string '--'");if(this._replaceInvalidCharsInCharData)e.lastIndexOf("-")===e.length-1&&(e=e.substr(0,e.length-1)+"\ufffd");else if(this._validation&&e.lastIndexOf("-")===e.length-1)throw new Error((0,n.getContext)(this.up())+': comment content "'+e+"\" should not end with the string '-'");this._charData=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"\x3c!--"+this._charData+"--\x3e"},e.prototype.up=function(){return this._parent},e}()},"j3+I":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FxkU"),a=r("t95l");t.default=function(){function e(e,t,r){this._validation=t,this._parent=e,this.content=r.content,this.target=r.target}return Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(e){if(!(0,a.isUndefined)(e)){if(this._validation&&!(0,a.validateChar)(e))throw new Error((0,n.getContext)(this.up())+': processing instruction content "'+e+'" should not contain characters not allowed in XML');if(this._validation&&-1!==e.indexOf("?>"))throw new Error((0,n.getContext)(this.up())+': processing instruction content "'+e+"\" should not contain the string '?>'")}this._content=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(e){if(this._validation&&!(0,a.validateName)(e))throw new Error((0,n.getContext)(this.up())+': processing instruction target "'+e+'" should not contain characters not allowed in XML names');if(this._validation&&"xml"===e)throw new Error((0,n.getContext)(this.up())+': processing instruction target "'+e+"\" should not be the string 'xml'");this._target=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return(0,a.isUndefined)(this._content)?"<?"+this._target+"?>":"<?"+this._target+" "+this._content+"?>"},e.prototype.up=function(){return this._parent},e}()},qScH:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("FxkU"),a=r("LlVR"),i=r("t95l");t.default=function(){function e(e,t,r){this._validation=t,this._replaceInvalidCharsInCharData=!(0,i.isUndefined)(r.replaceInvalidCharsInCharData)&&r.replaceInvalidCharsInCharData,this._parent=e,this.charData=r.charData}return Object.defineProperty(e.prototype,"charData",{get:function(){return this._charData},set:function(e){if(this._replaceInvalidCharsInCharData)e=(0,i.fixChar)(e);else if(this._validation&&!(0,i.validateChar)(e))throw new Error((0,n.getContext)(this.up())+': character data"'+e+'" should not contain characters not allowed in XML');this._charData=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this._charData;return e=(0,a.escapeAmpersands)(e),e=(0,a.escapeLeftAngleBrackets)(e),(0,a.escapeRightAngleBracketsInCdataTerminator)(e)},e.prototype.up=function(){return this._parent},e}()},t95l:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUndefined=t.fixName=t.validateName=t.validateSingleChar=t.fixChar=t.validateChar=void 0,t.validateChar=function(e){for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(!(9===r||10===r||13===r||r>=32&&r<=55295||r>=57344&&r<=65533)){if(t+1===e.length)return!1;var n=e.charCodeAt(t+1);if(!(r>=55296&&r<=56319&&n>=56320&&n<=57343))return!1;t++}}return!0},t.fixChar=function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);if(9===n||10===n||13===n||n>=32&&n<=55295||n>=57344&&n<=65533)t+=e[r];else{if(r+1===e.length)return t+"\ufffd";var a=e.charCodeAt(r+1);n>=55296&&n<=56319&&a>=56320&&a<=57343?(t+=e[r]+e[r+1],r++):t+="\ufffd"}}return t},t.validateSingleChar=function(e){if(0===e.length)return!1;var t=e.charCodeAt(0);if(1===e.length)return 9===t||10===t||13===t||t>=32&&t<=55295||t>=57344&&t<=65533;if(2!==e.length)return!1;var r=e.charCodeAt(1);return t>=55296&&t<=56319&&r>=56320&&r<=57343},t.validateName=function(e){if(0===e.length)return!1;var t=e.charCodeAt(0),r=58===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533;if(1===e.length)return r;var n=e.charCodeAt(1),a=t>=55296&&t<=56191&&n>=56320&&n<=57343;if(!r&&!a)return!1;for(var i=a?2:1;i<e.length;i++){var o=e.charCodeAt(i);if(!(58===o||95===o||45===o||46===o||183===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=768&&o<=879||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8255&&o<=8256||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533)){if(i+1===e.length)return!1;var s=e.charCodeAt(i+1);if(!(o>=55296&&o<=56191&&s>=56320&&s<=57343))return!1;i++}}return!0},t.fixName=function(e){var t="";if(0===e.length)return t;var r=e.charCodeAt(0),n=58===r||95===r||r>=65&&r<=90||r>=97&&r<=122||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=767||r>=880&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533;if(1===e.length)return n?e[0]:"\ufffd";var a=e.charCodeAt(1),i=r>=55296&&r<=56191&&a>=56320&&a<=57343;t=i?e[0]+e[1]:n?e[0]:"\ufffd";for(var o=i?2:1;o<e.length;o++){var s=e.charCodeAt(o);if(58===s||95===s||45===s||46===s||183===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=768&&s<=879||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8255&&s<=8256||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533)t+=e[o];else{if(o+1===e.length)return t+"\ufffd";var c=e.charCodeAt(o+1);s>=55296&&s<=56191&&c>=56320&&c<=57343?(t+=e[o]+e[o+1],o++):t+="\ufffd"}}return t},t.isUndefined=function(e){return"[object Undefined]"===Object.prototype.toString.call(e)}},znvk:function(e,t,r){"use strict";function n(e){return"[object Undefined]"===Object.prototype.toString.call(e)}function a(e){return"[object Null]"===Object.prototype.toString.call(e)}function i(e){return"[object Function]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=t.isMap=t.isSet=t.isFunction=t.isArray=t.isObject=t.isNull=t.isUndefined=void 0,t.isUndefined=n,t.isNull=a,t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isFunction=i,t.isSet=function(e){return"[object Set]"===Object.prototype.toString.call(e)},t.isMap=function(e){return"[object Map]"===Object.prototype.toString.call(e)},t.stringify=function(e){return n(e)||a(e)||i(null==e?void 0:e.toString)&&(e=e.toString()),String(e)}}}]);